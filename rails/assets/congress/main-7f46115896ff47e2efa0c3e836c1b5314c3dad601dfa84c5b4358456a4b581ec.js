function checkRadio(){var t=document.getElementById("major-vote-choice"),e=document.getElementById("major-votes"),n=document.getElementById("all-votes");t&&t.addEventListener("click",function(){1!=t[0].checked?(e.style.display="none",n.style.display="block"):(e.style.display="block",n.style.display="none")})}function rotateMembers(){var t=$(".member-bloc");$(".member-bloc:first-of-type").addClass("visible"),$(".member-bloc:first-of-type").find(".profile-container").addClass("visible");var e=1,n=t,r=5e3,i=function(){return function(){return $(n).removeClass("visible"),$(n).find(".profile-container").removeClass("visible"),$(n[e]).toggleClass("visible"),$(n[e]).find(".profile-container").toggleClass("visible"),e=++e%t.length,d3.timer(i(),r),!0}};d3.timer(i(),r)}function showDropdown(t){document.getElementById(t).classList.toggle("show")}function searchList(t,e){var n=document.getElementById(t).value.toUpperCase(),r=document.getElementById(e).getElementsByTagName("li");for(i=0;i<r.length;i++)r[i].getElementsByTagName("a")[0]&&(a=r[i].getElementsByTagName("a")[0],-1<a.innerHTML.toUpperCase().indexOf(n)?r[i].style.display="":r[i].style.display="none")}function getHateCrimesParameterByName(t,e){e||(e=window.location.href),t=t.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)").exec(e);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}function encodeQueryData(t){var e=[];for(var n in t)e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e.join("&")}function setButtonCss(t){var e=$(t);e.find("a").removeClass("last-class"),e.find("a:visible").last().addClass("last-class")}function getQueryStringValue(){return decodeURIComponent(window.location.search.replace(new RegExp("^(?:.*[&\\?]"+encodeURIComponent("query").replace(/[\.\+\*]/g,"\\$&")+"(?:\\=([^&]*))?)?.*$","i"),"$1"))}function filterByQueryString(){var t=getQueryStringValue(),e=$(".action-item"),n=$(".see-all");e.hide(),n.hide(),$("."+t).show(),"statement"==t?$("#statement-select").prop("checked",!0):$("#"+t).prop("checked",!0),setFeedCss("#member-feed"),setButtonCss("#see-all-container")}function getParameterByName(t,e){e||(e=window.location.href),t=t.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)").exec(e);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}function encodeQueryData(t){var e=[];for(var n in t)e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e.join("&")}function setFeedCss(t){var e=[],n=$(t);for(a in n.children().each(function(){attr=this.getAttribute("rel"),-1==$.inArray(attr,e)&&e.push(attr)}),e)$('div[rel="'+e[a]+'"]:visible').first().addClass("first-class"),$('div[rel="'+e[a]+'"]:visible').last().addClass("last-class")}function setFeedGrouping(t){var e=[],n=$(t),r=["communication","senateposition","houseposition","memberarticle","bill","personal_explanation","leaveofabsence"];for(a in n.children().each(function(){attr=this.getAttribute("rel"),-1==$.inArray(attr,e)&&e.push(attr)}),e)for(action in r){w=e[a],k=r[action],date=new Date(w),date.setTime(date.getTime()+60*date.getTimezoneOffset()*1e3),date=formatDate(date);var i=$('div[rel="'+w+'"].'+k).length-1;$('div[rel="'+w+'"].'+k+":not(:first)").wrapAll("<div id='"+w+"-"+k+"' class='class-grouping closed' style='display: none;' />");if(0<i){var o=formatAction(i,k),s=document.createElement("div"),l=document.createElement("button"),u=document.createTextNode("See "+i.toString()+" more "+o+" from "+date+" \u25be");s.className+="button-container",l.className+="expand-grouping btn btn-default btn-small",l.name=w+"-"+k,l.appendChild(u),s.appendChild(l),$('div[rel="'+w+'"].'+k+":first").append(s)}}$(".expand-grouping").each(function(){$(this).on("click",function(){var t=$(this).attr("name");$("#"+t).toggle()})})}function showFeedGrouping(){$(".class-grouping").hide(),$(".class-grouping").addClass("closed"),$(".action-item").show(),$(".expand-grouping").show()}function removeFeedGrouping(){$(".class-grouping").show(),$(".class-grouping").removeClass("closed"),$(".expand-grouping").hide()}function formatAction(t,e){var n={communication:"statement",senateposition:"vote",houseposition:"vote",memberarticle:"article",bill:"bill",personal_explanation:"personal explanation",leaveofabsence:"leave of absence"};return 1==t?n[e]:"leaveofabsence"==e?"leaves of absence":n[e]+"s"}function formatDate(t){var e=["Jan.","Feb.","March","April","May","June","July","Aug.","Sept.","Oct.","Nov.","Dec."],n=t.getDate();return e[t.getMonth()]+" "+n}function getParameterByName(t,e){e||(e=window.location.href),t=t.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)").exec(e);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}function encodeQueryData(t){var e=[];for(var n in t)e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e.join("&")}!function(e,n){function r(){var t="scrollTop"in e.document.body?e.document.body.scrollTop:o.scrollTop;t!==n&&0<t&&e.document.body&&(e.document.body.insertBefore(a,e.document.body.firstChild),a.getBoundingClientRect&&0===a.getBoundingClientRect().top||(o.className=o.className.replace(i,"")),e.document.body.removeChild(a),e.removeEventListener?e.removeEventListener("scroll",r,!1):e.detachEvent("onscroll",r))}var i="fixed-supported",a=e.document.createElement("div"),t=e.navigator.userAgent,o=e.document.documentElement;a.style.position="fixed",a.style.top=0,t.match(/Android 2\.[1256]/)&&-1<t.indexOf("AppleWebKit")&&t.match(/Opera Mobi\/([0-9]+)/)&&RegExp.$1<7458&&e.operamini&&"[object OperaMini]"==={}.toString.call(e.operamini)&&t.match(/Fennec\/([0-9]+)/)&&RegExp.$1<6||(o.className+=" "+i,e.addEventListener?e.addEventListener("scroll",r,!1):e.attachEvent("onscroll",r)),e.FixedFixed=r}(this),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.stickybits=e()}(this,function(){"use strict";function o(t,e){return this.el=t,this.se=e&&e.scrollEl||window,this.offset=e&&e.stickyBitStickyOffset||0,this.vp=e&&e.verticalPosition||"top",this.useClasses=e&&e.useStickyClasses||!1,this.ns=e&&e.noStyles||!1,this.styles=this.el.style,this.setStickyPosition(),"fixed"!==this.positionVal&&!0!==this.useClasses||this.manageStickiness(),this}function s(t){this.privateInstances=t||[];var e=this.privateInstances;this.cleanup=function(){for(var t=0;t<e.length;t+=1)e[t].cleanup()}}return o.prototype.setStickyPosition=function(){for(var t=["","-o-","-webkit-","-moz-","-ms-"],e=this.styles,n=this.vp,r=0;r<t.length;r+=1)e.position=t[r]+"sticky";return""!==e.position?(this.positionVal=e.position,"top"!==n||this.ns||(e[n]=this.offset+"px")):this.positionVal="fixed",this},o.prototype.manageStickiness=function(){function r(t,e){var n=i.className.split(" ");e&&-1===n.indexOf(e)&&n.push(e);var r=n.indexOf(t);-1!==r&&n.splice(r,1),i.className=n.join(" ")}var i=this.el,t=i.parentNode,a=this.positionVal,o=this.vp,s=this.styles,l=this.ns,u=this.se,c=u===window,e=c||"fixed"!==a?0:u.getBoundingClientRect().top,h=e+this.offset,f=void 0!==u.requestAnimationFrame?u.requestAnimationFrame:function(t){t()};t.className+=" js-stickybit-parent";var d=c?t.getBoundingClientRect().top:t.getBoundingClientRect().top-e,p=d+t.offsetHeight-(i.offsetHeight-h),g="default";return this.manageState=function(){var t=c?u.scrollY||u.pageYOffset:u.scrollTop,e=t<d&&"sticky"===g,n=p<t&&"sticky"===g;d<t&&t<p&&("default"===g||"stuck"===g)?(g="sticky",f(function(){r("js-is-stuck","js-is-sticky"),s.position=a,l||(s.bottom="",s[o]=h+"px")})):e?(g="default",f(function(){r("js-is-sticky"),"fixed"===a&&(s.position="")})):n&&(g="stuck",f(function(){r("js-is-sticky","js-is-stuck"),"fixed"!==a||l||(s.top="",s.bottom="0",s.position="absolute")}))},u.addEventListener("scroll",this.manageState),this},o.prototype.cleanup=function(){function t(t,e){var n=t,r=n.className.split(" "),i=r.indexOf(e);-1!==i&&r.splice(i,1),n.className=r.join(" ")}var e=this.el,n=this.styles;n.position="",n[this.vp]="",t(e,"js-is-sticky"),t(e,"js-is-stuck"),t(e.parentNode,"js-stickybit-parent"),this.se.removeEventListener("scroll",this.manageState),this.manageState=!1},function(t,e){var n="string"==typeof t?document.querySelectorAll(t):t;"length"in n||(n=[n]);for(var r=[],i=0;i<n.length;i+=1){var a=n[i];r.push(new o(a,e))}return new s(r)}}),function(o,n,t,s){function e(t,e){this.element=o(t);var n=this,r={};if(this.element.is("[data-config]"))for(var i in u)if(u.hasOwnProperty(i)){var a=n.element.attr("data-"+i.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()}));a!==s&&(r[i]="true"===a||"false"===a?"true"===a:a)}this.options=o.extend({},u,r,e),this.element.is("."+this.options.collapsedClass)&&(this.options.collapsed=!0),this._defaults=u,this._name=l,this.init()}var l="collapsible",u={pluginClass:l,collapsedClass:l+"-collapsed",expandedClass:l+"-expanded",headerClass:l+"-header",contentClass:l+"-content",enhancedClass:l+"-enhanced",instructions:!1,innerButton:!1,collapsed:!1};e.prototype={init:function(){this.header=this.element.children().filter("."+this.options.headerClass),this.header.length||(this.header=this.element.children().eq(0)),this.content=this.element.children().filter("."+this.options.contentClass),this.content.length||(this.content=this.header.next()),this.options.innerButton&&(this.headerHTML=this.header.text(),this.headerButton=o("<button></button>").append(this.headerHTML)),this._addAttributes(),this._bindEvents(),0,this.element.data(l,this),this.element.trigger("init")},_addAttributes:function(){this.element.addClass(this.options.pluginClass).addClass(this.options.enhancedClass),this.header.addClass(this.options.headerClass),this._addA11yAttrs(),this.content.addClass(this.options.contentClass)},_addA11yAttrs:function(){this.options.innerButton?(this.header.html(""),this.header.append(this.headerButton)):(this.header.attr("role","button"),this.header.attr("tabindex","0"),this.options.instructions&&this.header.attr("title",this.options.instructions))},_removeA11yAttrs:function(){this.options.innerButton?(this.header.html(""),this.header.append(this.headerHTML)):(this.header.removeAttr("role"),this.header.removeAttr("tabindex"),this.header.removeAttr("title"))},_isNonInteractive:function(){var t=n.getComputedStyle(this.content[0],null),e=n.getComputedStyle(this.header[0],null);return this.options.innerButton&&(e=n.getComputedStyle(this.headerButton[0],null)),"none"!==t.getPropertyValue("display")&&"hidden"!==t.getPropertyValue("visibility")&&"default"===e.getPropertyValue("cursor")},_checkInteractivity:function(){this._isNonInteractive()?this._removeA11yAttrs():this._addA11yAttrs()},_bindEvents:function(){var t,e=this;this.header.bind("click",function(t){e.toggle(t.target),t.preventDefault()}).bind("keydown."+l,function(t){13!==t.which&&32!==t.which||(e.toggle(t.target),t.preventDefault())}),this.options.collapsed?this._collapse():this._expand(),this._checkInteractivity(),o(n).bind("resize",function(){t&&clearTimeout(t),t=setTimeout(function(){e._checkInteractivity.call(e)},150)})},collapsed:!1,_expand:function(){this.element.removeClass(this.options.collapsedClass),this.element.addClass(this.options.expandedClass),this.options.innerButton?this.headerButton.attr("aria-expanded","true"):this.header.attr("aria-expanded","true"),this.collapsed=!1},expand:function(){var t=o(this).data(l)||this;t._expand(),t.element.trigger("expand")},_collapse:function(){this.element.addClass(this.options.collapsedClass),this.element.removeClass(this.options.expandedClass),this.options.innerButton?this.headerButton.attr("aria-expanded","false"):this.header.attr("aria-expanded","false"),this.collapsed=!0},collapse:function(){var t=o(this).data(l)||this;t._collapse(),t.element.trigger("collapse")},toggle:function(){this.collapsed?this.expand():this.collapse()},focusable:"a, input, textarea, select, button, [tabindex='0']"},o.fn[l]=function(t){return this.each(function(){o(this).data(l)||new e(this,t)})},o(t).bind("enhance",function(t){var e="."+l;o(o(t.target).is(e)&&t.target).add(e,t.target).filter(e)[l]()})}(jQuery,window,document),function(n,t,e){function r(t){this.$toggle=t,this.isLink=this.$toggle.is("a[href]"),this.isSelect=!this.isLink&&this.$toggle.is("select"),this.isRadio=!this.isSelect&&this.$toggle.is("[type='radio']"),this.$target=n(t.attr(o)||t.attr("href")),this.component=this.$target.data(a)}function i(t){var e=t.data(s);return e||(e=new r(t),t.data(s,e)),e}var a="collapsible",o="data-"+"collapsible-target",s=o;r.prototype.getForcedElement=function(){return this.isSelect?this.$toggle.find("option").eq(this.$toggle[0].selectedIndex):this.$toggle},r.prototype.toggle=function(){var t=this.getForcedElement();t.is("[data-force-expand]")?this.component.expand():t.is("[data-force-collapse]")?this.component.collapse():t.is("[data-ignore]")||this.component.toggle()},r.prototype.initSelect=function(){var t=this;this.isSelect&&this.$toggle.unbind("change."+a).bind("change."+a,function(){t.toggle()})},r.prototype.onclick=function(t){var e=this;this.isLink?(t.preventDefault(),this.toggle()):this.isSelect||(this.isRadio?n("[name='"+this.$toggle.attr("name")+"']").unbind("change."+a).bind("change."+a,function(){e.$toggle[0].checked?e.component.expand():e.component.collapse()}).trigger("change"):this.toggle())},n(e).bind("click."+a,function(e){n(e.target).closest("["+o+"]").each(function(){var t=i(n(this));t.onclick.call(t,e)})}),n(e).bind("enhance",function(t){var e="select["+o+"]";n(n(t.target).is(e)&&t.target).add(e,t.target).filter(e).each(function(){i(n(this)).initSelect()})})}(jQuery,window,document),function(d,p,t){d(t).bind("init",function(n){var r="collapsible";if(d(n.target).is("."+r)){var i,a=d(n.target),o=a.data(r),s=a.prev().filter("."+r+"-trigger"),t=r+"-trigger-expand",l=function(){return"absolute"===a.children("."+r+"-content").css("position")||a.is("[data-collapsible-ismenu]")},u=!1;d("body").bind("gesturestart."+r,function(){u=!0}).bind("mousemove."+r,function(){u=!0}).bind("touchstart."+r+" pointerdown."+r+" MSPointerDown."+r,function(t){i=t.target.getBoundingClientRect().top}).bind("focusin."+r+" touchend."+r+" click."+r+" pointerup."+r+" MSPointerUp."+r,function(t){var e=t.originalEvent?t.originalEvent.type:t.type;"touchend"!==e&&"pointerup"!==e&&"MSPointerUp"!==e||i&&5<Math.abs(i-t.target.getBoundingClientRect().top)&&(u=!0),d(t.target).closest(n.target).length||d(t.target).closest(s).length||a.data(r).collapsed||!l()||!1!==u||(setTimeout(function(){a.data(r).collapse()}),d(t.target).closest("a,select,input,textarea,button,label").length&&!d(t.target).closest("."+r+"-header").length&&t.preventDefault()),setTimeout(function(){i=null,u=!1},200)});var c,h=!1,e=a.is("[data-collapsible-hover]"),f=a.is("[data-collapsible-hover='exclusive']");e&&(f&&o.header.unbind("click tap"),a.add(s).bind("touchstart pointerdown MSPointerDown",function(t){var e=t.originalEvent?t.originalEvent:t;("pointerdown"!==e.type&&"MSPointerDown"!==e.type||!e.pointerType||"mouse"!==e.pointerType&&4!==e.pointerType)&&(h=!0)}).bind("mouseover."+r,function(t){c=(new Date).getTime(),!h&&l()&&d(t.target).closest(o.header).length&&a.data(r).expand()}).bind("mouseleave."+r,function(){c=null,!h&&l()&&d(n.target).is(a)&&a.data(r).collapse()}).bind("click",function(t){if(c){var e=(new Date).getTime()-c;d(t.target).is(o.header)&&l()&&d(t.target).is("a[href]")&&!h&&300<e&&(p.location.href=t.target.href)}}),a.bind("expand",function(){s.addClass(t)}).bind("collapse",function(){s.removeClass(t)})),o.arrow=function(t,e){var n,r=this.content.find(this.focusable);if(d(t).is(this.header)&&!e)n=r[0];else{e&&(r=r.reverse?r.reverse():d(r.get().reverse()));var i=!1;r.each(function(){!n&&i&&0<this.offsetHeight&&-1<this.offsetLeft&&(n=this),i||(i=d(this).is(t))})}n?n.focus():this.header[0].focus()},o.element.bind("keydown."+r,function(t){!o.collapsed&&l()&&(39===t.which||40===t.which?(o.arrow(t.target),t.preventDefault()):37!==t.which&&38!==t.which||(o.arrow(t.target,!0),t.preventDefault()))})}})}(jQuery,window,document),function(l,u,c){var h="collapsible";l(c).bind("expand."+h,function(t){var e,n,r="data-"+h+"-set",i="."+h+"["+r+"]",a=l(t.target);if(a.is(i)){var o=a.attr(r);l("."+h+"-enhanced["+r+"='"+o+"']").filter(function(){return this!==a[0]}).each(function(){var t=l(this).data(h);t&&t.collapse()});var s=t.target.getBoundingClientRect().top+(c.body.scrollY||c.body.scrollTop||c.documentElement.scrollTop);s<(e="pageYOffset",n="scrollTop",u?e in u?u[e]:u.document.documentElement[n]:u.document.body[n])&&u.scrollTo(0,s)}})}(jQuery,window,document),function(u,t,e){function c(t){t.removeClass(d).attr(p)}function h(t){t.addClass(d).attr({"aria-selected":"true"}).removeAttr("tabindex")}var f="collapsible",d="tab-active",p={tabindex:"-1","aria-selected":!1},g=f+"-id-",v=0;u(e).bind("init",function(t){var e,n,r,i=u(t.target).closest("."+f),a=i.parent(),o=a.find(".tabnav");if(i.is("."+f)&&a.is(".tabs")){n=(e=i.data(f)).content.attr("id"),o.find("[aria-controls="+n+"]").remove(),n||(n=g+ ++v,e.content.attr("id",n));var s={id:r=n+"-link","aria-controls":n,role:"tab"};for(var l in p)s[l]=p[l];e.$tabHeaderListItem=u("<li>").attr("role","presentation"),e.$tabHeader=u("<a href='#"+n+"'>"+e.header[0].innerHTML+"</a>").attr(s),e.header.css("display","none"),e.content.attr({"aria-labeledby":r}),e.$tabHeader.bind("click",function(t){t.preventDefault(),t.stopPropagation(),e.$tabHeader.is("."+d)||(c(a.find("."+d)),h(e.$tabHeader),e.toggle())}).bind("keydown",function(t){var e,n=o.find("."+d);39===t.which?e="next":37===t.which&&(e="prev"),e&&(n.parent()[e]().find("a").trigger("click").focus(),t.preventDefault())}),o.length||(o=u("<ul class='tabnav' role='tablist'></nav>"),a.prepend(o)),e.collapsed||(h(e.$tabHeader),e._expand()),o.append(e.$tabHeaderListItem.append(e.$tabHeader))}})}(jQuery,window,document),function(f,d){var p={boundAttr:"data-ajax-bound",interactionAttr:"data-interaction",makeReq:function(t,r){f.get(t,function(t,e,n){r.trigger("ajaxIncludeResponse",[t,n])})},plugins:{}};f.fn.ajaxInclude=function(t){function u(t){var e=t.data("url");h.proxy&&-1===f.inArray(e,n)?(n.push(e),r=r.add(t)):p.makeReq(e,t)}function i(){n.length&&(p.makeReq(h.proxy+n.join(","),r),r=f(),n=[])}function c(t,e){function n(){u(t),i(),r.removeListener(n)}var r=d.matchMedia(e);r.addListener&&r.addListener(n)}var n=[],r=f(),h={proxy:null};return"string"==typeof t?h.proxy=t:h=f.extend(h,t),this.not("["+p.boundAttr+"]").not("["+p.interactionAttr+"]").each(function(){for(var o,t,s=f(this),e=s.attr("data-media"),n=["append","replace","before","after"],r=!1,l=s.attr("data-target"),i=n.length,a=0;a<i;a++)s.is("[data-"+n[a]+"]")&&(o=n[a],t=s.attr("data-"+o));t||(t=s.attr("href")||s.attr("action"),r=!0),"replace"===o&&(o+="With"),s.data("method",o).data("url",t).data("target",l).attr(p.boundAttr,!0).each(function(){for(var t in p.plugins)p.plugins[t].call(this,h)}).bind("ajaxIncludeResponse",function(t,e){var n=e,r=l?f(l):s;if(h.proxy){var i=new RegExp("<entry url=[\"']?"+s.data("url")+"[\"']?>((?:(?!</entry>)(.|\n))*)","gmi").exec(n);i&&(n=i[1])}var a=s.triggerHandler("ajaxIncludeFilter",[n]);a&&(n=a),"replaceWith"===o?(s.trigger("ajaxInclude",[n]),r[s.data("method")](n)):(r[s.data("method")](n),s.trigger("ajaxInclude",[n]))}),r?p.makeReq(t,s,!0):!e||d.matchMedia&&d.matchMedia(e).matches?u(s):e&&d.matchMedia&&c(s,e)}),i(),this},d.AjaxInclude=p}(jQuery,this),function(l){l.fn.appendAround=function(){return this.each(function(){function e(t){return"none"===l(t).css("display")}function t(){if(e(a)){var t=0;s.each(function(){e(this)||t||(n.appendTo(this),t++,a=this)})}}var n=l(this),r="data-set",i=n.parent(),a=i[0],o=i.attr(r),s=l("["+r+"='"+o+"']");t(),l(window).bind("resize",t)})}}(jQuery),function(){"use strict";function e(t){if(!t)throw new Error("No options passed to Waypoint constructor");if(!t.element)throw new Error("No element option passed to Waypoint constructor");if(!t.handler)throw new Error("No handler option passed to Waypoint constructor");this.key="waypoint-"+n,this.options=e.Adapter.extend({},e.defaults,t),this.element=this.options.element,this.adapter=new e.Adapter(this.element),this.callback=t.handler,this.axis=this.options.horizontal?"horizontal":"vertical",this.enabled=this.options.enabled,this.triggerPoint=null,this.group=e.Group.findOrCreate({name:this.options.group,axis:this.axis}),this.context=e.Context.findOrCreateByElement(this.options.context),e.offsetAliases[this.options.offset]&&(this.options.offset=e.offsetAliases[this.options.offset]),this.group.add(this),this.context.add(this),a[this.key]=this,n+=1}var n=0,a={};e.prototype.queueTrigger=function(t){this.group.queueTrigger(this,t)},e.prototype.trigger=function(t){this.enabled&&this.callback&&this.callback.apply(this,t)},e.prototype.destroy=function(){this.context.remove(this),this.group.remove(this),delete a[this.key]},e.prototype.disable=function(){return this.enabled=!1,this},e.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this},e.prototype.next=function(){return this.group.next(this)},e.prototype.previous=function(){return this.group.previous(this)},e.invokeAll=function(t){var e=[];for(var n in a)e.push(a[n]);for(var r=0,i=e.length;r<i;r++)e[r][t]()},e.destroyAll=function(){e.invokeAll("destroy")},e.disableAll=function(){e.invokeAll("disable")},e.enableAll=function(){e.invokeAll("enable")},e.refreshAll=function(){e.Context.refreshAll()},e.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight},e.viewportWidth=function(){return document.documentElement.clientWidth},e.adapters=[],e.defaults={context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0},e.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()},"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}},window.Waypoint=e}(),function(){"use strict";function e(t){window.setTimeout(t,1e3/60)}function n(t){this.element=t,this.Adapter=a.Adapter,this.adapter=new this.Adapter(t),this.key="waypoint-context-"+r,this.didScroll=!1,this.didResize=!1,this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()},this.waypoints={vertical:{},horizontal:{}},t.waypointContextKey=this.key,i[t.waypointContextKey]=this,r+=1,this.createThrottledScrollHandler(),this.createThrottledResizeHandler()}var r=0,i={},a=window.Waypoint,t=window.onload;n.prototype.add=function(t){var e=t.options.horizontal?"horizontal":"vertical";this.waypoints[e][t.key]=t,this.refresh()},n.prototype.checkEmpty=function(){var t=this.Adapter.isEmptyObject(this.waypoints.horizontal),e=this.Adapter.isEmptyObject(this.waypoints.vertical);t&&e&&(this.adapter.off(".waypoints"),delete i[this.key])},n.prototype.createThrottledResizeHandler=function(){function t(){e.handleResize(),e.didResize=!1}var e=this;this.adapter.on("resize.waypoints",function(){e.didResize||(e.didResize=!0,a.requestAnimationFrame(t))})},n.prototype.createThrottledScrollHandler=function(){function t(){e.handleScroll(),e.didScroll=!1}var e=this;this.adapter.on("scroll.waypoints",function(){(!e.didScroll||a.isTouch)&&(e.didScroll=!0,a.requestAnimationFrame(t))})},n.prototype.handleResize=function(){a.Context.refreshAll()},n.prototype.handleScroll=function(){var t={},e={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};for(var n in e){var r=e[n],i=r.newScroll>r.oldScroll?r.forward:r.backward;for(var a in this.waypoints[n]){var o=this.waypoints[n][a],s=r.oldScroll<o.triggerPoint,l=r.newScroll>=o.triggerPoint;(s&&l||!s&&!l)&&(o.queueTrigger(i),t[o.group.id]=o.group)}}for(var u in t)t[u].flushTriggers();this.oldScroll={x:e.horizontal.newScroll,y:e.vertical.newScroll}},n.prototype.innerHeight=function(){return this.element==this.element.window?a.viewportHeight():this.adapter.innerHeight()},n.prototype.remove=function(t){delete this.waypoints[t.axis][t.key],this.checkEmpty()},n.prototype.innerWidth=function(){return this.element==this.element.window?a.viewportWidth():this.adapter.innerWidth()},n.prototype.destroy=function(){var t=[];for(var e in this.waypoints)for(var n in this.waypoints[e])t.push(this.waypoints[e][n]);for(var r=0,i=t.length;r<i;r++)t[r].destroy()},n.prototype.refresh=function(){var t,e=this.element==this.element.window,n=this.adapter.offset(),r={};for(var i in this.handleScroll(),t={horizontal:{contextOffset:e?0:n.left,contextScroll:e?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:e?0:n.top,contextScroll:e?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}}){var a=t[i];for(var o in this.waypoints[i]){var s,l,u,c,h=this.waypoints[i][o],f=h.options.offset,d=h.triggerPoint,p=0,g=null==d;h.element!==h.element.window&&(p=h.adapter.offset()[a.offsetProp]),"function"==typeof f?f=f.apply(h):"string"==typeof f&&(f=parseFloat(f),-1<h.options.offset.indexOf("%")&&(f=Math.ceil(a.contextDimension*f/100))),s=a.contextScroll-a.contextOffset,h.triggerPoint=p+s-f,l=d<a.oldScroll,u=h.triggerPoint>=a.oldScroll,c=!l&&!u,!g&&(l&&u)?(h.queueTrigger(a.backward),r[h.group.id]=h.group):!g&&c?(h.queueTrigger(a.forward),r[h.group.id]=h.group):g&&a.oldScroll>=h.triggerPoint&&(h.queueTrigger(a.forward),r[h.group.id]=h.group)}}for(var v in r)r[v].flushTriggers();return this},n.findOrCreateByElement=function(t){return n.findByElement(t)||new n(t)},n.refreshAll=function(){for(var t in i)i[t].refresh()},n.findByElement=function(t){return i[t.waypointContextKey]},window.onload=function(){t&&t(),n.refreshAll()},a.requestAnimationFrame=function(t){(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||e).call(window,t)},a.Context=n}(),function(){"use strict";function o(t,e){return t.triggerPoint-e.triggerPoint}function s(t,e){return e.triggerPoint-t.triggerPoint}function e(t){this.name=t.name,this.axis=t.axis,this.id=this.name+"-"+this.axis,this.waypoints=[],this.clearTriggerQueues(),n[this.axis][this.name]=this}var n={vertical:{},horizontal:{}},r=window.Waypoint;e.prototype.add=function(t){this.waypoints.push(t)},e.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}},e.prototype.flushTriggers=function(){for(var t in this.triggerQueues){var e=this.triggerQueues[t],n="up"===t||"left"===t;e.sort(n?s:o);for(var r=0,i=e.length;r<i;r+=1){var a=e[r];(a.options.continuous||r===e.length-1)&&a.trigger([t])}}this.clearTriggerQueues()},e.prototype.next=function(t){this.waypoints.sort(o);var e=r.Adapter.inArray(t,this.waypoints);return e===this.waypoints.length-1?null:this.waypoints[e+1]},e.prototype.previous=function(t){this.waypoints.sort(o);var e=r.Adapter.inArray(t,this.waypoints);return e?this.waypoints[e-1]:null},e.prototype.queueTrigger=function(t,e){this.triggerQueues[e].push(t)},e.prototype.remove=function(t){var e=r.Adapter.inArray(t,this.waypoints);-1<e&&this.waypoints.splice(e,1)},e.prototype.first=function(){return this.waypoints[0]},e.prototype.last=function(){return this.waypoints[this.waypoints.length-1]},e.findOrCreate=function(t){return n[t.axis][t.name]||new e(t)},r.Group=e}(),function(){"use strict";function n(t){this.$element=r(t)}var r=window.jQuery,t=window.Waypoint;r.each(["innerHeight","innerWidth","off","offset","on","outerHeight","outerWidth","scrollLeft","scrollTop"],function(t,e){n.prototype[e]=function(){var t=Array.prototype.slice.call(arguments);return this.$element[e].apply(this.$element,t)}}),r.each(["extend","inArray","isEmptyObject"],function(t,e){n[e]=r[e]}),t.adapters.push({name:"jquery",Adapter:n}),t.Adapter=n}(),function(){"use strict";function t(i){return function(t,e){var n=[],r=t;return i.isFunction(arguments[0])&&((r=i.extend({},e)).handler=arguments[0]),this.each(function(){var t=i.extend({},r,{element:this});"string"==typeof t.context&&(t.context=i(this).closest(t.context)[0]),n.push(new a(t))}),n}}var a=window.Waypoint;window.jQuery&&(window.jQuery.fn.waypoint=t(window.jQuery)),window.Zepto&&(window.Zepto.fn.waypoint=t(window.Zepto))}(),function(){"use strict";function t(){}function e(t){this.options=r.Adapter.extend({},e.defaults,t),this.axis=this.options.horizontal?"horizontal":"vertical",this.waypoints=[],this.element=this.options.element,this.createWaypoints()}var r=window.Waypoint;e.prototype.createWaypoints=function(){for(var t={vertical:[{down:"enter",up:"exited",offset:"100%"},{down:"entered",up:"exit",offset:"bottom-in-view"},{down:"exit",up:"entered",offset:0},{down:"exited",up:"enter",offset:function(){return-this.adapter.outerHeight()}}],horizontal:[{right:"enter",left:"exited",offset:"100%"},{right:"entered",left:"exit",offset:"right-in-view"},{right:"exit",left:"entered",offset:0},{right:"exited",left:"enter",offset:function(){return-this.adapter.outerWidth()}}]},e=0,n=t[this.axis].length;e<n;e++){var r=t[this.axis][e];this.createWaypoint(r)}},e.prototype.createWaypoint=function(t){var e,n=this;this.waypoints.push(new r({context:this.options.context,element:this.options.element,enabled:this.options.enabled,handler:(e=t,function(t){n.options[e[t]].call(n,t)}),offset:t.offset,horizontal:this.options.horizontal}))},e.prototype.destroy=function(){for(var t=0,e=this.waypoints.length;t<e;t++)this.waypoints[t].destroy();this.waypoints=[]},e.prototype.disable=function(){for(var t=0,e=this.waypoints.length;t<e;t++)this.waypoints[t].disable()},e.prototype.enable=function(){for(var t=0,e=this.waypoints.length;t<e;t++)this.waypoints[t].enable()},e.defaults={context:window,enabled:!0,enter:t,entered:t,exit:t,exited:t},r.Inview=e}(),function(e){"use strict";var t=function(t){e(t).each(function(){var t=e(this);t.html(t.html().replace(/\s([^\s<]+)\s*$/,"&nbsp;$1"))})};e(document).bind("enhance",function(){t("h1, h2, h3, h4, h5, h6")})}(jQuery),function(n){"function"==typeof define&&define.amd?define(["jquery"],n):"object"==typeof module&&module.exports?module.exports=function(t,e){return e===undefined&&(e="undefined"!=typeof window?require("jquery"):require("jquery")(t)),n(e),e}:n(jQuery)}(function(N){"use strict";var r,n,i,a,o,t,v,s,f,E="undefined"!=typeof window?window:this,P={i18n:{modeStack:"Stack",modeSwipe:"Swipe",modeToggle:"Toggle",modeSwitchColumnsAbbreviated:"Cols",modeSwitchColumns:"Columns",columnToggleButton:"Columns",columnToggleError:"No eligible columns.",sort:"Sort",swipePreviousColumn:"Previous column",swipeNextColumn:"Next column"},mustard:"head"in document&&(!window.blackberry||window.WebKitPoint)&&!window.operamini};N(E.document).on("enhance.tablesaw",function(){"undefined"!=typeof TablesawConfig&&TablesawConfig.i18n&&(P.i18n=N.extend(P.i18n,TablesawConfig.i18n||{})),P.i18n.modes=[P.i18n.modeStack,P.i18n.modeSwipe,P.i18n.modeToggle]}),P.mustard&&N(document.documentElement).addClass("tablesaw-enhanced"),function(){var e="tablesaw",n={toolbar:"tablesaw-bar"},r={create:"tablesawcreate",destroy:"tablesawdestroy",refresh:"tablesawrefresh",resize:"tablesawresize"},i="stack",a="table",o="[data-tablesaw],[data-tablesaw-mode],[data-tablesaw-sortable]",s={};P.events=r;var t=function(t){if(!t)throw new Error("Tablesaw requires an element.");this.table=t,this.$table=N(t),this.$thead=this.$table.children().filter("thead").eq(0),this.$tbody=this.$table.children().filter("tbody"),this.mode=this.$table.attr("data-tablesaw-mode")||i,this.$toolbar=null,this.init()};t.prototype.init=function(){if(!this.$thead.length)throw new Error("tablesaw: a <thead> is required, but none was found.");if(!this.$thead.find("th").length)throw new Error("tablesaw: no header cells found. Are you using <th> inside of <thead>?");this.$table.attr("id")||this.$table.attr("id",e+"-"+Math.round(1e4*Math.random())),this.createToolbar(),this._initCells(),this.$table.data(e,this),this.$table.trigger(r.create,[this])},t.prototype.getConfig=function(t){var e=N.extend(s,t||{});return N.extend(e,"undefined"!=typeof TablesawConfig?TablesawConfig:{})},t.prototype._getPrimaryHeaderRow=function(){return this._getHeaderRows().eq(0)},t.prototype._getHeaderRows=function(){return this.$thead.children().filter("tr").filter(function(){return!N(this).is("[data-tablesaw-ignorerow]")})},t.prototype._getRowIndex=function(t){return t.prevAll().length},t.prototype._getHeaderRowIndeces=function(){var t=this,e=[];return this._getHeaderRows().each(function(){e.push(t._getRowIndex(N(this)))}),e},t.prototype._getPrimaryHeaderCells=function(t){return(t||this._getPrimaryHeaderRow()).find("th")},t.prototype._findPrimaryHeadersForCell=function(t){for(
var e=this._getPrimaryHeaderRow(),n=this._getPrimaryHeaderCells(e),r=this._getRowIndex(e),i=[],a=0;a<this.headerMapping.length;a++)if(a!==r)for(var o=0;o<this.headerMapping[a].length;o++)this.headerMapping[a][o]===t&&i.push(n[o]);return i},t.prototype.getRows=function(){var t=this;return this.$table.find("tr").filter(function(){return N(this).closest("table").is(t.$table)})},t.prototype.getBodyRows=function(t){return(t?N(t):this.$tbody).children().filter("tr")},t.prototype.getHeaderCellIndex=function(t){for(var e=this.headerMapping[0],n=0;n<e.length;n++)if(e[n]===t)return n;return-1},t.prototype._initCells=function(){var t=this.getRows(),o=[];t.each(function(t){o[t]=[]}),t.each(function(i){var a=0;N(this).children().each(function(){for(var t=parseInt(this.getAttribute("colspan"),10),e=parseInt(this.getAttribute("rowspan"),10);o[i][a];)a++;if(o[i][a]=this,t)for(var n=0;n<t-1;n++)a++,o[i][a]=this;if(e)for(var r=1;r<e;r++)o[i+r][a]=this;a++})});for(var e=this._getHeaderRowIndeces(),n=0;n<o[0].length;n++)for(var r=0,i=e.length;r<i;r++){var a,s=o[e[r]][n],l=e[r];for(s.cells||(s.cells=[]);l<o.length;)s!==(a=o[l][n])&&s.cells.push(a),l++}this.headerMapping=o},t.prototype.refresh=function(){this._initCells(),this.$table.trigger(r.refresh,[this])},t.prototype._getToolbarAnchor=function(){var t=this.$table.parent();return t.is(".tablesaw-overflow")?t:this.$table},t.prototype._getToolbar=function(t){return t||(t=this._getToolbarAnchor()),t.prev().filter("."+n.toolbar)},t.prototype.createToolbar=function(){var t=this._getToolbarAnchor(),e=this._getToolbar(t);e.length||(e=N("<div>").addClass(n.toolbar).insertBefore(t)),this.$toolbar=e,this.mode&&this.$toolbar.addClass("tablesaw-mode-"+this.mode)},t.prototype.destroy=function(){this._getToolbar().each(function(){this.className=this.className.replace(/\btablesaw-mode\-\w*\b/gi,"")});var t=this.$table.attr("id");N(document).off("."+t),N(window).off("."+t),this.$table.trigger(r.destroy,[this]),this.$table.removeData(e)},N.fn[e]=function(){return this.each(function(){N(this).data(e)||new t(this)})};var l=N(E.document);l.on("enhance.tablesaw",function(t){P.mustard&&N(t.target).find(a).filter(o)[e]()});var u,c,h=!1;l.on("scroll.tablesaw",function(){h=!0,E.clearTimeout(u),u=E.setTimeout(function(){h=!1},300)}),N(E).on("resize",function(){h||(E.clearTimeout(c),c=E.setTimeout(function(){l.trigger(r.resize)},150))})}(),r={stackTable:"tablesaw-stack",cellLabels:"tablesaw-cell-label",cellContentLabels:"tablesaw-cell-content"},n={key:"tablesaw-stack"},i={labelless:"data-tablesaw-no-labels",hideempty:"data-tablesaw-hide-empty"},(a=function(t,e){this.tablesaw=e,this.$table=N(t),this.labelless=this.$table.is("["+i.labelless+"]"),this.hideempty=this.$table.is("["+i.hideempty+"]"),this.$table.data(n.key,this)}).prototype.init=function(){if(this.$table.addClass(r.stackTable),!this.labelless){var n=this;this.$table.find("th, td").filter(function(){return!N(this).closest("thead").length}).filter(function(){return!(N(this).closest("tr").is("["+i.labelless+"]")||n.hideempty&&!N(this).html())}).each(function(){var i=N(document.createElement("b")).addClass(r.cellLabels),t=N(this);N(n.tablesaw._findPrimaryHeadersForCell(this)).each(function(t){var e=N(this.cloneNode(!0)),n=e.find(".tablesaw-sortable-btn");e.find(".tablesaw-sortable-arrow").remove();var r=e.find("[data-tablesaw-checkall]");r.closest("label").remove(),r.length?i=N([]):(0<t&&i.append(document.createTextNode(", ")),i.append(n.length?n[0].childNodes:e[0].childNodes))}),i.length&&!t.find("."+r.cellContentLabels).length&&t.wrapInner("<span class='"+r.cellContentLabels+"'></span>");var e=t.find("."+r.cellLabels);e.length?e.replaceWith(i):t.prepend(i)})}},a.prototype.destroy=function(){this.$table.removeClass(r.stackTable),this.$table.find("."+r.cellLabels).remove(),this.$table.find("."+r.cellContentLabels).each(function(){N(this).replaceWith(this.childNodes)})},N(document).on(P.events.create,function(t,e){"stack"===e.mode&&new a(e.table,e).init()}).on(P.events.refresh,function(t,e){"stack"===e.mode&&N(e.table).data(n.key).init()}).on(P.events.destroy,function(t,e){"stack"===e.mode&&N(e.table).data(n.key).destroy()}),o="tablesawbtn",t={_create:function(){return N(this).each(function(){N(this).trigger("beforecreate."+o)[o]("_init").trigger("create."+o)})},_init:function(){var t=N(this),e=this.getElementsByTagName("select")[0];return e&&N(this).addClass("btn-select tablesaw-btn-select")[o]("_select",e),t},_select:function(t){var e=function(t,e){var n,r,i=N(e).find("option"),a=document.createElement("span"),o=!1;if(a.setAttribute("aria-hidden","true"),a.innerHTML="&#160;",i.each(function(){var t=this;t.selected&&(a.innerHTML=t.text)}),r=t.childNodes,0<i.length){for(var s=0,l=r.length;s<l;s++)(n=r[s])&&"SPAN"===n.nodeName.toUpperCase()&&(t.replaceChild(a,n),o=!0);o||t.insertBefore(a,t.firstChild)}};e(this,t),N(this).on("change refresh",function(){e(this,t)})}},N.fn[o]=function(t,e,n,r){return this.each(function(){return t&&"string"==typeof t?N.fn[o].prototype[t].call(this,e,n,r):N(this).data(o+"active")?N(this):(N(this).data(o+"active",!0),void N.fn[o].prototype._create.call(this))})},N.extend(N.fn[o].prototype,t),v={key:"tablesaw-coltoggle"},(s=function(t){this.$table=N(t),this.$table.length&&(this.tablesaw=this.$table.data("tablesaw"),this.attributes={subrow:"data-tablesaw-subrow",ignorerow:"data-tablesaw-ignorerow",btnTarget:"data-tablesaw-columntoggle-btn-target",set:"data-tablesaw-columntoggle-set"},this.classes={columnToggleTable:"tablesaw-columntoggle",columnBtnContain:"tablesaw-columntoggle-btnwrap tablesaw-advance",columnBtn:"tablesaw-columntoggle-btn tablesaw-nav-btn down",popup:"tablesaw-columntoggle-popup",priorityPrefix:"tablesaw-priority-"},this.set=[],this.$headers=this.tablesaw._getPrimaryHeaderCells(),this.$table.data(v.key,this))}).prototype.initSet=function(){var t=this.$table.attr(this.attributes.set);if(t){var e=this.$table[0];this.set=N("table["+this.attributes.set+"='"+t+"']").filter(function(){return this!==e}).get()}},s.prototype.init=function(){function r(t){var e=t.checked,n=u.getHeaderFromCheckbox(t),r=u.$getCells(n);r[e?"removeClass":"addClass"]("tablesaw-toggle-cellhidden"),r[e?"addClass":"removeClass"]("tablesaw-toggle-cellvisible"),u.updateColspanIgnoredRows(e,N(n).add(n.cells)),u.$table.trigger("tablesawcolumns")}function e(t){t&&N(t.target).closest("."+u.classes.popup).length||(N(document).off("click."+i),a.removeClass("up").addClass("down"),l.removeClass("visible"))}function n(){l.addClass("visible"),a.removeClass("down").addClass("up"),N(document).off("click."+i,e),window.clearTimeout(f),f=window.setTimeout(function(){N(document).on("click."+i,e)},15)}if(this.$table.length){var i,t,a,o,s,l,u=this,c=this.tablesaw.getConfig({getColumnToggleLabelTemplate:function(t){return"<label><input type='checkbox' checked>"+t+"</label>"}});this.$table.addClass(this.classes.columnToggleTable),t=(i=this.$table.attr("id"))+"-popup",l=N("<div class='"+this.classes.columnBtnContain+"'></div>"),a=N("<a href='#"+t+"' class='btn tablesaw-btn btn-micro "+this.classes.columnBtn+"' data-popup-link><span>"+P.i18n.columnToggleButton+"</span></a>"),o=N("<div class='"+this.classes.popup+"' id='"+t+"'></div>"),s=N("<div class='btn-group'></div>"),this.$popup=o;var h=!1;this.$headers.each(function(){var t=N(this),e=t.attr("data-tablesaw-priority"),n=u.$getCells(this);e&&"persist"!==e&&(n.addClass(u.classes.priorityPrefix+e),N(c.getColumnToggleLabelTemplate(t.text())).appendTo(s).find('input[type="checkbox"]').data("tablesaw-header",this),h=!0)}),h||s.append("<label>"+P.i18n.columnToggleError+"</label>"),s.appendTo(o),s.find('input[type="checkbox"]').on("change",function(e){var n;r(e.target),u.set.length&&(N(u.$popup).find("input[type='checkbox']").each(function(t){if(this===e.target)return n=t,!1}),N(u.set).each(function(){var t=N(this).data(v.key).$popup.find("input[type='checkbox']").get(n);t&&(t.checked=e.target.checked,r(t))}))}),a.appendTo(l);var f,d=N(this.$table.attr(this.attributes.btnTarget));l.appendTo(d.length?d:this.tablesaw.$toolbar),a.on("click.tablesaw",function(t){t.preventDefault(),l.is(".visible")?e():n()}),o.appendTo(l),this.$menu=s;var p,g=this.$table.closest(".tablesaw-overflow");g.css("-webkit-overflow-scrolling")&&g.on("scroll",function(){var t=N(this);window.clearTimeout(p),p=window.setTimeout(function(){t.css("-webkit-overflow-scrolling","auto"),window.setTimeout(function(){t.css("-webkit-overflow-scrolling","touch")},0)},100)}),N(window).on(P.events.resize+"."+i,function(){u.refreshToggle()}),this.initSet(),this.refreshToggle()}},s.prototype.updateColspanIgnoredRows=function(o,s){this.$table.find("["+this.attributes.subrow+"],["+this.attributes.ignorerow+"]").each(function(){var t,e,n,r,i=N(this),a=i.find("td[colspan]").eq(0);!0===o||!1===o?(r=s.filter(function(){return this===a[0]}).length?o?1:-1:0,e=parseInt(a.attr("colspan"),10)+r):((n=a.data("original-colspan"))?e=n:(e=parseInt(a.attr("colspan"),10),a.data("original-colspan",e)),t=i.find("td").filter(function(){return this!==a[0]&&"none"===N(this).css("display")}).length,e-=o-t),a.attr("colspan",e)})},s.prototype.$getCells=function(t){var r=this;return N(t).add(t.cells).filter(function(){var t=N(this),e=t.parent(),n=t.is("[colspan]");return!(e.is("["+r.attributes.subrow+"]")||e.is("["+r.attributes.ignorerow+"]")&&n)})},s.prototype.getHeaderFromCheckbox=function(t){return N(t).data("tablesaw-header")},s.prototype.refreshToggle=function(){var n=this,r=0;this.$menu.find("input").each(function(){var t=n.getHeaderFromCheckbox(this),e="table-cell"===n.$getCells(t).eq(0).css("display");(this.checked=e)||r++}),this.updateColspanIgnoredRows(r)},s.prototype.destroy=function(){this.$table.removeClass(this.classes.columnToggleTable),this.$table.find("th, td").each(function(){N(this).removeClass("tablesaw-toggle-cellhidden").removeClass("tablesaw-toggle-cellvisible"),this.className=this.className.replace(/\bui\-table\-priority\-\d\b/g,"")})},N(document).on(P.events.create,function(t,e){"columntoggle"===e.mode&&new s(e.table).init()}),N(document).on(P.events.destroy,function(t,e){"columntoggle"===e.mode&&N(e.table).data(v.key).destroy()}),N(document).on(P.events.refresh,function(t,e){"columntoggle"===e.mode&&N(e.table).data(v.key).refreshPriority()}),function(){function h(t){var e=[];return N(t.childNodes).each(function(){var t=N(this);t.is("input, select")?e.push(t.val()):t.is(".tablesaw-cell-label")||e.push((t.text()||"").replace(/^\s+|\s+$/g,""))}),e.join("")}var f="tablesaw-sortable",n="table[data-"+f+"]",l="[data-"+f+"-switch]",d={sortCol:"data-tablesaw-sortable-col",defaultCol:"data-tablesaw-sortable-default-col",numericCol:"data-tablesaw-sortable-numeric",subRow:"data-tablesaw-subrow",ignoreRow:"data-tablesaw-ignorerow"},p={head:f+"-head",ascend:f+"-ascending",descend:f+"-descending",switcher:f+"-switch",tableToolbar:"tablesaw-bar-section",sortButton:f+"-btn"},t={_create:function(t){return N(this).each(function(){if(N(this).data(f+"-init"))return!1;N(this).data(f+"-init",!0).trigger("beforecreate."+f)[f]("_init",t).trigger("create."+f)})},_init:function(){function t(t){N.each(t,function(t,e){N(e).addClass(p.head)})}function e(t,r){N.each(t,function(t,e){var n=N("<button class='"+p.sortButton+"'/>");n.on("click",{col:e},r),N(e).wrapInner(n).find("button").append("<span class='tablesaw-sortable-arrow'>")})}function i(t){N.each(t,function(t,e){var n=N(e);n.removeAttr(d.defaultCol),n.removeClass(p.ascend),n.removeClass(p.descend)})}function n(t){if(!N(t.target).is("a[href]")){t.stopPropagation();var e=N(t.target).closest("["+d.sortCol+"]"),n=t.data.col,r=o.index(e[0]);i(e.closest("thead").find("th").filter(function(){return this!==e[0]})),e.is("."+p.descend)||!e.is("."+p.ascend)?(u[f]("sortBy",n,!0),r+="_asc"):(u[f]("sortBy",n),r+="_desc"),s&&s.find("select").val(r).trigger("refresh"),t.preventDefault()}}function r(t){N.each(t,function(t,e){var n=N(e);n.is("["+d.defaultCol+"]")&&(n.is("."+p.descend)||n.addClass(p.ascend))})}function a(n){s=N("<div>").addClass(p.switcher).addClass(p.tableToolbar);var l=["<label>"+P.i18n.sort+":"];l.push('<span class="btn tablesaw-btn"><select>'),n.each(function(t){var e=N(this),n=e.is("["+d.defaultCol+"]"),r=e.is("."+p.descend),i=e.is("["+d.numericCol+"]"),a=0,o=5;N(this.cells.slice(0,o)).each(function(){isNaN(parseInt(h(this),10))||a++});var s=a===o;i||e.attr(d.numericCol,s?"":"false"),l.push("<option"+(n&&!r?" selected":"")+' value="'+t+'_asc">'+e.text()+" "+(s?"&#x2191;":"(A-Z)")+"</option>"),l.push("<option"+(n&&r?" selected":"")+' value="'+t+'_desc">'+e.text()+" "+(s?"&#x2193;":"(Z-A)")+"</option>")}),l.push("</select></span></label>"),s.html(l.join(""));var t=c.$toolbar.children().eq(0);t.length?s.insertBefore(t):s.appendTo(c.$toolbar),s.find(".tablesaw-btn").tablesawbtn(),s.find("select").on("change",function(){var t=N(this).val().split("_"),e=n.eq(t[0]);i(e.siblings()),u[f]("sortBy",e.get(0),"asc"===t[1])})}var o,s,u=N(this),c=u.data("tablesaw");u.addClass(f),t(o=u.children().filter("thead").find("th["+d.sortCol+"]")),e(o,n),r(o),u.is(l)&&a(o)},sortRows:function(t,e,n,r,i){function a(t,s){var l=[];return N.each(t,function(t,e){for(var n=e.parentNode,r=N(n),i=[],a=r.next();a.is("["+d.subRow+"]");)i.push(a[0]),a=a.next();var o=n.parentNode;r.is("["+d.subRow+"]")||o===s&&l.push({element:e,cell:h(e),row:n,subrows:i.length?i:null,ignored:r.is("["+d.ignoreRow+"]")})}),l}function o(t,n){var r=/[^\-\+\d\.]/g;return t?function(t,e){return t.ignored||e.ignored?0:n?parseFloat(t.cell.replace(r,""))-parseFloat(e.cell.replace(r,"")):t.cell.toLowerCase()>e.cell.toLowerCase()?1:-1}:function(t,e){return t.ignored||e.ignored?0:n?parseFloat(e.cell.replace(r,""))-parseFloat(t.cell.replace(r,"")):t.cell.toLowerCase()<e.cell.toLowerCase()?1:-1}}function s(t){var e,n,r=[];for(e=0,n=t.length;e<n;e++)r.push(t[e].row),t[e].subrows&&r.push(t[e].subrows);return r}var l,u=a(r.cells,i),c=N(r).data("tablesaw-sort");return l=!(!c||"function"!=typeof c)&&c(n)||o(n,N(r).is("["+d.numericCol+"]")&&!N(r).is("["+d.numericCol+'="false"]')),s(u.sort(l))},makeColDefault:function(t,e){var n=N(t);n.attr(d.defaultCol,"true"),e?(n.removeClass(p.descend),n.addClass(p.ascend)):(n.removeClass(p.ascend),n.addClass(p.descend))},sortBy:function(s,l){var u,c=N(this),h=c.data("tablesaw");h.$tbody.each(function(){var t,e,n,r=this,i=N(this),a=h.getBodyRows(r),o=h.headerMapping[0];for(e=0,n=o.length;e<n;e++)if(o[e]===s){u=e;break}for(e=0,n=(t=c[f]("sortRows",a,u,l,s,r)).length;e<n;e++)i.append(t[e])}),c[f]("makeColDefault",s,l),c.trigger("tablesaw-sorted")}};N.fn[f]=function(t){var e,n=Array.prototype.slice.call(arguments,1);return t&&"string"==typeof t?void 0!==(e=N.fn[f].prototype[t].apply(this[0],n))?e:N(this):(N(this).data(f+"-active")||(N(this).data(f+"-active",!0),N.fn[f].prototype._create.call(this,t)),N(this))},N.extend(N.fn[f].prototype,t),N(document).on(P.events.create,function(t,e){e.$table.is(n)&&e.$table[f]()})}(),function(){function n(u,c){function e(t){return N(t.cells).add(t).filter(function(){return!N(this).parent().is("["+A.ignorerow+"],["+A.subrow+"]")})}function h(t){e(t).removeClass($.hiddenCol)}function f(t){e(t).addClass($.hiddenCol)}function d(t){e(t).addClass($.persistCol)}function o(t){return N(t).is('[data-tablesaw-priority="persist"]')}function t(){var e=0;return _.each(function(){var t=N(this);t.is("."+$.hiddenCol)||(e+=parseInt(t.attr("colspan")||1,10))}),e}function p(e){e||(e=t()),c.find("["+A.ignorerow+"],["+A.subrow+"]").find("td[colspan]").each(function(){var t=N(this);parseInt(t.attr("colspan"),10);t.attr("colspan",e)})}function g(){c.removeClass($.persistWidths),N("#"+T+"-persist").remove()}function n(){var t,n="#"+T+".tablesaw-swipe ",r=[],i=c.width(),a=[];if(_.each(function(t){var e;o(this)&&(e=this.getBoundingClientRect().width)<.75*i&&(a.push(t+"-"+e),r.push(n+" ."+$.persistCol+":nth-child("+(t+1)+") { width: "+e+"px; }"))}),t=a.join("_"),r.length){c.addClass($.persistWidths);var e=N("#"+T+"-persist");e.length&&e.data("tablesaw-hash")===t||(e.remove(),N("<style>"+r.join("\n")+"</style>").attr("id",T+"-persist").data("tablesaw-hash",t).appendTo(S))}}function r(){var r,i=[];return C.each(function(t){var e=N(this),n="none"===e.css("display")||e.is("."+$.hiddenCol);if(n||r){if(n&&r)return i[1]=t,!1}else r=!0,i[0]=t}),i}function i(){var t=r();return[t[1]-1,t[0]-1]}function a(t){return t?r():i()}function s(t){return-1<t[1]&&t[1]<C.length}function v(){var t=c.attr("data-tablesaw-swipe-media");return!t||"matchMedia"in E&&E.matchMedia(t).matches}function m(){if(v()){var n=c.parent().width(),r=[],i=0,a=[],o=_.length;_.each(function(t){var e=N(this).is('[data-tablesaw-priority="persist"]');r.push(e),i+=k[t],a.push(i),(e||n<i)&&o--});var s=0===o,l=0;_.each(function(t){var e=parseInt(N(this).attr("colspan")||1,10);if(r[t])return l+=e,void d(this);a[t]<=n||s?(l+=e,s=!1,h(this)):f(this)}),p(l),g(),c.trigger("tablesawcolumns")}}function y(t){var e=a(t);s(e)&&(isNaN(e[0])&&(e[0]=t?0:C.length-1),n(),f(C.get(e[0])),h(C.get(e[1])),p(),c.trigger("tablesawcolumns"))}function b(t,e){return(t.touches||t.originalEvent.touches)[0][e]}var l=c.data("tablesaw"),w=N("<div class='tablesaw-advance'></div>"),x=N("<a href='#' class='btn tablesaw-nav-btn tablesaw-btn btn-micro left' title='"+P.i18n.swipePreviousColumn+"'></a>").appendTo(w),M=N("<a href='#' class='btn tablesaw-nav-btn tablesaw-btn btn-micro right' title='"+P.i18n.swipeNextColumn+"'></a>").appendTo(w),_=u._getPrimaryHeaderCells(),C=_.not('[data-tablesaw-priority="persist"]'),k=[],S=N(document.head||"head"),T=c.attr("id");if(!_.length)throw new Error("tablesaw swipe: no header cells found.");c.addClass("tablesaw-swipe"),c.find("."+$.hiddenCol).removeClass($.hiddenCol),_.each(function(){var t=this.offsetWidth;k.push(t)}),w.appendTo(l.$toolbar),T||(T="tableswipe-"+Math.round(1e4*Math.random()),c.attr("id",T)),x.add(M).on("click",function(t){y(!!N(t.target).closest(M).length),t.preventDefault()}),c.is("["+A.disableTouchEvents+"]")||c.on("touchstart.swipetoggle",function(t){var i,a,o=b(t,"pageX"),s=b(t,"pageY"),l=window.pageYOffset;N(E).off(P.events.resize,m),N(this).on("touchmove.swipetoggle",function(t){i=b(t,"pageX"),a=b(t,"pageY")}).on("touchend.swipetoggle",function(){var t=u.getConfig({swipeHorizontalThreshold:30,swipeVerticalThreshold:30}),e=t.swipe?t.swipe.verticalThreshold:t.swipeVerticalThreshold,n=t.swipe?t.swipe.horizontalThreshold:t.swipeHorizontalThreshold,r=Math.abs(window.pageYOffset-l)>=e;Math.abs(a-s)>=e||r||(i-o<-1*n&&y(!0),n<i-o&&y(!1)),window.setTimeout(function(){N(E).on(P.events.resize,m)},300),N(this).off("touchmove.swipetoggle touchend.swipetoggle")})}),c.on("tablesawcolumns.swipetoggle",function(){var t=s(i()),e=s(r());x[t?"removeClass":"addClass"]($.hideBtn),M[e?"removeClass":"addClass"]($.hideBtn),l.$toolbar[t||e?"removeClass":"addClass"]($.allColumnsVisible)}).on("tablesawnext.swipetoggle",function(){y(!0)}).on("tablesawprev.swipetoggle",function(){y(!1)}).on(P.events.destroy+".swipetoggle",function(){var t=N(this);t.removeClass("tablesaw-swipe"),l.$toolbar.find(".tablesaw-advance").remove(),N(E).off(P.events.resize,m),t.off(".swipetoggle")}).on(P.events.refresh,function(){k=[],_.each(function(){var t=this.offsetWidth;k.push(t)}),m()}),m(),N(E).on(P.events.resize,m)}var $={hideBtn:"disabled",persistWidths:"tablesaw-fix-persist",hiddenCol:"tablesaw-swipe-cellhidden",persistCol:"tablesaw-swipe-cellpersist",allColumnsVisible:"tablesaw-all-cols-visible"},A={disableTouchEvents:"data-tablesaw-no-touch",ignorerow:"data-tablesaw-ignorerow",subrow:"data-tablesaw-subrow"};N(document).on(P.events.create,function(t,e){"swipe"===e.mode&&n(e,e.$table)})}(),function(){function n(t){function n(t){var e=t.attr(s.attr.init);return!e||E.matchMedia&&E.matchMedia(e).matches}function e(){if(n(t)){i.css("display","block");var e=a.find("li").removeClass(o);t.find("thead th").each(function(t){"none"===N(this).css("display")&&e.eq(t).addClass(o)})}else i.css("display","none")}var r=t.data("tablesaw"),i=N('<div class="tablesaw-advance minimap">'),a=N('<ul class="tablesaw-advance-dots">').appendTo(i),o="tablesaw-advance-dots-hide";t.find("thead th").each(function(){a.append("<li><i></i></li>")}),i.appendTo(r.$toolbar),e(),N(E).on(P.events.resize,e),t.on("tablesawcolumns.minimap",function(){e()}).on(P.events.destroy+".minimap",function(){var t=N(this);r.$toolbar.find(".tablesaw-advance").remove(),N(E).off(P.events.resize,e),t.off(".minimap")})}var s={attr:{init:"data-tablesaw-minimap"}};N(document).on(P.events.create,function(t,e){"swipe"!==e.mode&&"columntoggle"!==e.mode||!e.$table.is("[ "+s.attr.init+"]")||n(e.$table)})}(),f={selectors:{init:"table[data-tablesaw-mode-switch]"},attributes:{excludeMode:"data-tablesaw-mode-exclude"},classes:{main:"tablesaw-modeswitch",toolbar:"tablesaw-bar-section"},modes:["stack","swipe","columntoggle"],init:function(e){var t,n=N(e),r=n.data("tablesaw"),i=n.attr(f.attributes.excludeMode),a=r.$toolbar,o=N("<div>").addClass(f.classes.main+" "+f.classes.toolbar),s=['<label><span class="abbreviated">'+P.i18n.modeSwitchColumnsAbbreviated+'</span><span class="longform">'+P.i18n.modeSwitchColumns+"</span>:"],l=n.attr("data-tablesaw-mode");s.push('<span class="btn tablesaw-btn"><select>');for(var u=0,c=f.modes.length;u<c;u++)i&&i.toLowerCase()===f.modes[u]||(t=l===f.modes[u],s.push("<option"+(t?" selected":"")+' value="'+f.modes[u]+'">'+P.i18n.modes[u]+"</option>"));s.push("</select></span></label>"),o.html(s.join(""));var h=a.find(".tablesaw-advance").eq(0);h.length?o.insertBefore(h):o.appendTo(a),o.find(".tablesaw-btn").tablesawbtn(),o.find("select").on("change",function(t){return f.onModeChange.call(e,t,N(this).val())})},onModeChange:function(t,e){var n=N(this),r=n.data("tablesaw");r.$toolbar.find("."+f.classes.main).remove(),r.destroy(),n.attr("data-tablesaw-mode",e),n.tablesaw()}},N(E.document).on(P.events.create,function(t,e){e.$table.is(f.selectors.init)&&f.init(e.table)}),function(){function n(t){this.tablesaw=t,this.$table=t.$table,this.attr="data-tablesaw-checkall",this.checkAllSelector="["+this.attr+"]",this.forceCheckedSelector="["+this.attr+"-checked]",this.forceUncheckedSelector="["+this.attr+"-unchecked]",this.checkboxSelector='input[type="checkbox"]',this.$triggers=null,this.$checkboxes=null,this.$table.data(a)||(this.$table.data(a,this),this.init())}var a="tablesawCheckAll";n.prototype._filterCells=function(t){return t.filter(function(){return!N(this).closest("tr").is("[data-tablesaw-subrow],[data-tablesaw-ignorerow]")}).find(this.checkboxSelector).not(this.checkAllSelector)},n.prototype.getCheckboxesForButton=function(t){return this._filterCells(N(N(t).attr(this.attr)))},n.prototype.getCheckboxesForCheckbox=function(t){return this._filterCells(N(N(t).closest("th")[0].cells))},n.prototype.init=function(){var t=this;this.$table.find(this.checkAllSelector).each(function(){N(this).is(t.checkboxSelector)?t.addCheckboxEvents(this):t.addButtonEvents(this)})},n.prototype.addButtonEvents=function(t){var i=this;N(t).on("click",function(t){t.preventDefault();var e,n=i.getCheckboxesForButton(this),r=!0;n.each(function(){this.checked||(r=!1)}),e=!!N(this).is(i.forceCheckedSelector)||!N(this).is(i.forceUncheckedSelector)&&!r,n.each(function(){this.checked=e,N(this).trigger("change."+a)})})},n.prototype.addCheckboxEvents=function(n){var e=this;N(n).on("change",function(){var t=this.checked;e.getCheckboxesForCheckbox(this).each(function(){this.checked=t})});var r=e.getCheckboxesForCheckbox(n);r.on("change."+a,function(){var t=0;r.each(function(){this.checked&&t++});var e=t===r.length;n.checked=e,n.indeterminate=0!==t&&!e})},N(document).on(P.events.create,function(t,e){new n(e)})}()}),function(t){"use strict";var e;if("shoestring"in t)e=t.shoestring;else{if(!("jQuery"in t))throw new Error("tablesaw: DOM library not found.");e=t.jQuery}"addEventListener"in document&&document.addEventListener("DOMContentLoaded",function(){e(document).trigger("enhance.tablesaw")})}("undefined"!=typeof window?window:this),function(c,h){"undefined"==typeof h.fn.clone&&(h.fn.clone=function(){var t=[];return this.each(function(){t.push(this.cloneNode(!0))}),h(t)});var f={selectors:{init:".table--long"},tests:{sticky:PP.utils.featureTest("position","sticky"),fixed:PP.utils.featureTest("position","fixed",!0)},getScrollTop:function(){var t="pageYOffset",e="scrollTop";return c?t in c?c[t]:c.document.documentElement[e]:elem[e]},init:function(t){function r(t){o[o.is(".on")?"removeClass":"addClass"]("on"),t&&u()}var e,n,i=h(t),a=i.find("thead").eq(0),o=i.next().is(".stickyclone"),s=function(t){return t.tagName+":eq("+h(t).prevAll().length+")"},l=function(t,e){t.replaceWith(e.clone().css("width",e[0].clientWidth+1+"px"))},u=function(){var r=o.find("th"),t=window.getComputedStyle?getComputedStyle(i[0],null):i[0].currentStyle,e=parseInt(t.getPropertyValue("width"),10),n=-1<navigator.userAgent.toLowerCase().indexOf("firefox")?0:1;o.css("width",e-n+"px"),a.find("th").each(function(t){var e=h(this),n=r.eq(t);"none"!==e.css("display")?l(n,e):n.css("display","none")})};o.length||((e=document.createElement("table")).className=t.className.replace(/\bstickyheaders\b/,"")+" stickyclone",(o=h(e)).append(a.clone()),o.on("click",function(t){var e=h(t.target),n=[s(t.target)];e.is("a[href]")||(e.parents().each(function(){var t=this.tagName;if("THEAD"===t)return!1;n.unshift(s(this)),"TH"!==t&&"TD"!==t||n}),a.find(n.join(" > ")).trigger(t.type),u())}),i.after(o)),h(c).bind("scroll",function(){var t=i.offset().top,e=f.getScrollTop(),n=o.is(".on");e<t||t+i.height()<e?n&&r():n||r(!0)}).trigger("scroll"),h(c).bind("resize",function(){clearTimeout(n),n=setTimeout(function(){o.is(".on")&&u()},150)})}};!(c.StickyHeaders=f).tests.sticky&&f.tests.fixed&&h(c.document).on("enhance",function(){h(f.selectors.init).each(function(){f.init(this)})})}(this,jQuery),function(r){"use strict";var e="table--shortened",n="data-enhanced-"+e,i="."+e+":not(["+n+"])",a="container-shortened",t=".stickyclone",o="at-top",s="at-bottom";r.fn[e]=function(){return this.not(t).each(function(){var t=r(this),e=function(t){var e=r(t),n=e.scrollTop();0==n?e.addClass(o).removeClass(s):n+e.innerHeight()>=e[0].scrollHeight?e.addClass(s).removeClass(o):e.removeClass(o+" "+s)};t.wrap('<div class="'+a+'-inner"></div>').parent().wrap('<div class="'+a+' full"></div>').prepend('<div class="'+a+"-cap "+a+'-cap--top" role="presentation" aria-hidden></div>').append('<div class="'+a+"-cap "+a+'-cap--bottom" role="presentation" aria-hidden></div>');var n=t.parent();n.on("scroll",function(t){e(t.target)}),e(n[0])})},r(document).bind("enhance",function(t){(r(t.target).is(i)?r(t.target):r(i,t.target))[e]().attr(n,"true")})}(jQuery),function(e){"use strict";e(".site-nav-item").bind("ajaxInclude",function(){e(this).addClass("collapsible collapsible-collapsed").attr("data-collapsible-set","nav-primary").attr("data-collapsible-hover",""),e(document).trigger("enhance")}),e(window).on("resize",function(){e(".site-mast .collapsible-expanded .collapsible-header, .modal.collapsible-expanded .collapsible-header").trigger("click")}),e(document).keyup(function(t){27===t.keyCode&&e(".modal.collapsible-expanded .collapsible-header").trigger("click")})}(jQuery),function(e){"use strict";var n="subnav",r="data-enhanced-"+n,i="."+n+":not(["+r+"])";stickybits("."+n,{customVerticalPosition:!0,useStickyClasses:!0});var a="is-hidden",o=[],s=".medium, .full, .site-footer, .aside.aside-medium, .aside.aside-large",l=".aside--alt, .stickyclone";e.fn[n]=function(){return this.each(function(){var r=e(this),t=function(t,e){if("add"===e)o.push(t),r.addClass(a);else{var n=o.indexOf(t);-1<n&&o.splice(n,1),0===o.length&&r.removeClass(a)}};e(s).not(l).each(function(){new Waypoint.Inview({element:e(this)[0],enter:function(){t(this.element,"add")},exited:function(){t(this.element,"remove")}})})})},e(document).bind("enhance",function(t){(e(t.target).is(i)?e(t.target):e(i,t.target))[n]().attr(r,"true")})}(jQuery),function(i){"use strict";var e="number",n="data-enhanced-"+e,r="."+e+":not(["+n+"])",a=['<div class="rank-scale" role="presentation" aria-hidden>','    <span class="rank-marker" style="left: {{ position }}"></span>','    <ul class="rank-labels">',"        <li>High</li>","        <li>Low</li>","    </ul>","</div>"].join("\n");i.fn[e]=function(){return this.each(function(){var t=i(this),e=i(".rank",t);if(0===i(".rank-scale",t).length&&0<e.length){var n=e.attr("data-rank")/e.attr("data-total")*100,r=a.split("{{ position }}").join(n+"%");e.prepend(r)}})},i(document).bind("enhance",function(t){(i(t.target).is(r)?i(t.target):i(r,t.target))[e]().attr(n,"true")})}(jQuery),$(document).ready(function(){$("html").addClass("enhanced"),$("[data-append], [data-replace], [data-after], [data-before]").ajaxInclude(),$("[data-set] > *").appendAround(),$(document).trigger("enhance")}),propublica.ApIzer=function(t){this.state=t,this.STATES=[["Alabama","AL","Ala.",1],["Alaska","AK","Alaska",2],["Arizona","AZ","Ariz.",4],["Arkansas","AR","Ark.",5],["California","CA","Calif.",6],["Colorado","CO","Colo.",8],["Connecticut","CT","Conn.",9],["Delaware","DE","Del.","10"],["District of Columbia","DC","D.C.",11],["Florida","FL","Fla.",12],["Georgia","GA","Ga.",13],["Hawaii","HI","Hawaii",15],["Idaho","ID","Idaho",16],["Illinois","IL","Ill.",17],["Indiana","IN","Ind.",18],["Iowa","IA","Iowa",19],["Kansas","KS","Kan.",20],["Kentucky","KY","Ky.",21],["Louisiana","LA","La.",22],["Maine","ME","Maine",23],["Maryland","MD","Md.",24],["Massachusetts","MA","Mass.",25],["Michigan","MI","Mich.",26],["Minnesota","MN","Minn.",27],["Mississippi","MS","Miss.",28],["Missouri","MO","Mo.",29],["Montana","MT","Mont.",30],["Nebraska","NE","Neb.",31],["Nevada","NV","Nev.",32],["New Hampshire","NH","N.H.",33],["New Jersey","NJ","N.J.",34],["New Mexico","NM","N.M.",35],["New York","NY","N.Y.",36],["North Carolina","NC","N.C.",37],["North Dakota","ND","N.D.",38],["Ohio","OH","Ohio",39],["Oklahoma","OK","Okla.",40],["Oregon","OR","Ore.",41],["Pennsylvania","PA","Pa.",42],["Rhode Island","RI","R.I.",44],["South Carolina","SC","S.C.",45],["South Dakota","SD","S.D.",46],["Tennessee","TN","Tenn.",47],["Texas","TX","Texas",48],["Utah","UT","Utah",49],["Vermont","VT","Vt.",50],["Virginia","VA","Va.",51],["Washington","WA","Wash.",53],["West Virginia","WV","W.Va.",54],["Wisconsin","WI","Wis.",55],["Wyoming","WY","Wyo.",56],["Puerto Rico","PR","P.R.",72],["Virgin Islands","VI","V.I.",78],["Guam","GU","Guam",66],["American Samoa","AS","A.S.",60],["Northern Mariana Islands","MP","M.P.",69]]},propublica.ApIzer.prototype.find=function(t){for(var e=0;e<this.STATES.length;e++)if(_(this.STATES[e]).include(this.state))return this.STATES[e][t]},propublica.ApIzer.prototype.toAp=function(){return this.find(2)},propublica.ApIzer.prototype.toPostal=function(){return this.find(1)},propublica.ApIzer.prototype.toName=function(){return this.find(0)},propublica.ApIzer.prototype.toFIPS=function(){return this.find(3)},function(){function s(t){return t&&(t.ownerDocument||t.document||t).documentElement}function L(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}function o(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}function u(t){return null===t?NaN:+t}function c(t){return!isNaN(t)}function t(a){return{left:function(t,e,n,r){for(arguments.length<3&&(n=0),arguments.length<4&&(r=t.length);n<r;){var i=n+r>>>1;a(t[i],e)<0?n=i+1:r=i}return n},right:function(t,e,n,r){for(arguments.length<3&&(n=0),arguments.length<4&&(r=t.length);n<r;){var i=n+r>>>1;0<a(t[i],e)?r=i:n=i+1}return n}}}function l(t){return t.length}function h(t){for(var e=1;t*e%1;)e*=10;return e}function e(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function y(){this._=Object.create(null)}function n(t){return(t+="")===bo||t[0]===wo?wo+t:t}function r(t){return(t+="")[0]===wo?t.slice(1):t}function i(t){return n(t)in this._}function a(t){return(t=n(t))in this._&&delete this._[t]}function f(){var t=[];for(var e in this._)t.push(r(e));return t}function d(){var t=0;for(var e in this._)++t;return t}function p(){for(var t in this._)return!1;return!0}function g(){this._=Object.create(null)}function I(t){return t}function v(e,n,r){return function(){var t=r.apply(n,arguments);return t===n?e:t}}function m(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,r=xo.length;n<r;++n){var i=xo[n]+e;if(i in t)return i}}function w(){}function b(){}function x(i){function t(){for(var t,e=a,n=-1,r=e.length;++n<r;)(t=e[n].on)&&t.apply(this,arguments);return i}var a=[],o=new y;return t.on=function(t,e){var n,r=o.get(t);return arguments.length<2?r&&r.on:(r&&(r.on=null,a=a.slice(0,n=a.indexOf(r)).concat(a.slice(n+1)),o.remove(t)),e&&a.push(o.set(t,{on:e})),i)},t}function z(){so.event.preventDefault()}function M(
){for(var t,e=so.event;t=e.sourceEvent;)e=t;return e}function j(i){for(var a=new b,t=0,e=arguments.length;++t<e;)a[arguments[t]]=x(a);return a.of=function(n,r){return function(t){try{var e=t.sourceEvent=so.event;t.target=i,so.event=t,a[t.type].apply(n,r)}finally{so.event=e}}},a}function _(t){return _o(t,To),t}function C(t){return"function"==typeof t?t:function(){return Co(t,this)}}function k(t){return"function"==typeof t?t:function(){return ko(t,this)}}function S(e,n){function t(){this.removeAttribute(e)}function r(){this.removeAttributeNS(e.space,e.local)}function i(){this.setAttribute(e,n)}function a(){this.setAttributeNS(e.space,e.local,n)}function o(){var t=n.apply(this,arguments);null==t?this.removeAttribute(e):this.setAttribute(e,t)}function s(){var t=n.apply(this,arguments);null==t?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}return e=so.ns.qualify(e),null==n?e.local?r:t:"function"==typeof n?e.local?s:o:e.local?a:i}function T(t){return t.trim().replace(/\s+/g," ")}function $(t){return new RegExp("(?:^|\\s+)"+so.requote(t)+"(?:\\s+|$)","g")}function A(t){return(t+"").trim().split(/^|\s+/)}function N(n,r){function t(){for(var t=-1;++t<i;)n[t](this,r)}function e(){for(var t=-1,e=r.apply(this,arguments);++t<i;)n[t](this,e)}var i=(n=A(n).map(E)).length;return"function"==typeof r?e:t}function E(r){var i=$(r);return function(t,e){if(n=t.classList)return e?n.add(r):n.remove(r);var n=t.getAttribute("class")||"";e?(i.lastIndex=0,i.test(n)||t.setAttribute("class",T(n+" "+r))):t.setAttribute("class",T(n.replace(i," ")))}}function P(e,n,r){function t(){this.style.removeProperty(e)}function i(){this.style.setProperty(e,n,r)}function a(){var t=n.apply(this,arguments);null==t?this.style.removeProperty(e):this.style.setProperty(e,t,r)}return null==n?t:"function"==typeof n?a:i}function R(e,n){function t(){delete this[e]}function r(){this[e]=n}function i(){var t=n.apply(this,arguments);null==t?delete this[e]:this[e]=t}return null==n?t:"function"==typeof n?i:r}function D(n){function t(){var t=this.ownerDocument,e=this.namespaceURI;return e&&e!==t.documentElement.namespaceURI?t.createElementNS(e,n):t.createElement(n)}function e(){return this.ownerDocument.createElementNS(n.space,n.local)}return"function"==typeof n?n:(n=so.ns.qualify(n)).local?e:t}function q(){var t=this.parentNode;t&&t.removeChild(this)}function F(t){return{__data__:t}}function H(t){return function(){return So(this,t)}}function O(n){return arguments.length||(n=o),function(t,e){return t&&e?n(t.__data__,e.__data__):!t-!e}}function B(t,e){for(var n=0,r=t.length;n<r;n++)for(var i,a=t[n],o=0,s=a.length;o<s;o++)(i=a[o])&&e(i,o,n);return t}function U(t){return _o(t,Ao),t}function V(o){var s,l;return function(t,e,n){var r,i=o[n].update,a=i.length;for(n!=l&&(l=n,s=0),s<=e&&(s=e+1);!(r=i[s])&&++s<a;);return r}}function W(i,e,n){function r(){var t=this[o];t&&(this.removeEventListener(i,t,t.$),delete this[o])}function t(){var t=l(e,uo(arguments));r.call(this),this.addEventListener(i,this[o]=t,t.$=n),t._=e}function a(){var t,e=new RegExp("^__on([^.]+)"+so.requote(i)+"$");for(var n in this)if(t=n.match(e)){var r=this[n];this.removeEventListener(t[1],r,r.$),delete this[n]}}var o="__on"+i,s=i.indexOf("."),l=Y;0<s&&(i=i.slice(0,s));var u=No.get(i);return u&&(i=u,l=Q),s?e?t:r:e?w:a}function Y(n,r){return function(t){var e=so.event;so.event=t,r[0]=this.__data__;try{n.apply(this,r)}finally{so.event=e}}}function Q(t,e){var r=Y(t,e);return function(t){var e=this,n=t.relatedTarget;n&&(n===e||8&n.compareDocumentPosition(e))||r.call(e,t)}}function Z(t){var n=".dragsuppress-"+ ++Po,r="click"+n,i=so.select(L(t)).on("touchmove"+n,z).on("dragstart"+n,z).on("selectstart"+n,z);if(null==Eo&&(Eo=!("onselectstart"in t)&&m(t.style,"userSelect")),Eo){var a=s(t).style,o=a[Eo];a[Eo]="none"}return function(t){if(i.on(n,null),Eo&&(a[Eo]=o),t){var e=function(){i.on(r,null)};i.on(r,function(){z(),e()},!0),setTimeout(e,0)}}}function J(t,e){e.changedTouches&&(e=e.changedTouches[0]);var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();if(Ro<0){var i=L(t);if(i.scrollX||i.scrollY){var a=(n=so.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();Ro=!(a.f||a.e),n.remove()}}return Ro?(r.x=e.pageX,r.y=e.pageY):(r.x=e.clientX,r.y=e.clientY),[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}function G(){return so.event.changedTouches[0].identifier}function X(t){return 0<t?1:t<0?-1:0}function K(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function tt(t){return 1<t?0:t<-1?zo:Math.acos(t)}function et(t){return 1<t?qo:t<-1?-qo:Math.asin(t)}function nt(t){return((t=Math.exp(t))-1/t)/2}function rt(t){return((t=Math.exp(t))+1/t)/2}function it(t){return((t=Math.exp(2*t))-1)/(t+1)}function at(t){return(t=Math.sin(t/2))*t}function ot(){}function st(t,e,n){return this instanceof st?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof st?new st(t.h,t.s,t.l):xt(""+t,Mt,st):new st(t,e,n)}function lt(t,e,n){function r(t){return 360<t?t-=360:t<0&&(t+=360),t<60?a+(o-a)*t/60:t<180?o:t<240?a+(o-a)*(240-t)/60:a}function i(t){return Math.round(255*r(t))}var a,o;return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:e<0?0:1<e?1:e,a=2*(n=n<0?0:1<n?1:n)-(o=n<=.5?n*(1+e):n+e-n*e),new mt(i(t+120),i(t),i(t-120))}function ut(t,e,n){return this instanceof ut?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof ut?new ut(t.h,t.c,t.l):dt(t instanceof ht?t.l:(t=_t((t=so.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new ut(t,e,n)}function ct(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new ht(n,Math.cos(t*=Fo)*e,Math.sin(t)*e)}function ht(t,e,n){return this instanceof ht?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof ht?new ht(t.l,t.a,t.b):t instanceof ut?ct(t.h,t.c,t.l):_t((t=mt(t)).r,t.g,t.b):new ht(t,e,n)}function ft(t,e,n){var r=(t+16)/116,i=r+e/500,a=r-n/200;return new mt(vt(3.2404542*(i=pt(i)*Go)-1.5371385*(r=pt(r)*Xo)-.4985314*(a=pt(a)*Ko)),vt(-.969266*i+1.8760108*r+.041556*a),vt(.0556434*i-.2040259*r+1.0572252*a))}function dt(t,e,n){return 0<t?new ut(Math.atan2(n,e)*Ho,Math.sqrt(e*e+n*n),t):new ut(NaN,NaN,t)}function pt(t){return.206893034<t?t*t*t:(t-4/29)/7.787037}function gt(t){return.008856<t?Math.pow(t,1/3):7.787037*t+4/29}function vt(t){return Math.round(255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function mt(t,e,n){return this instanceof mt?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof mt?new mt(t.r,t.g,t.b):xt(""+t,mt,lt):new mt(t,e,n)}function yt(t){return new mt(t>>16,t>>8&255,255&t)}function bt(t){return yt(t)+""}function wt(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function xt(t,e,n){var r,i,a,o=0,s=0,l=0;if(r=/([a-z]+)\((.*)\)/.exec(t=t.toLowerCase()))switch(i=r[2].split(","),r[1]){case"hsl":return n(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return e(kt(i[0]),kt(i[1]),kt(i[2]))}return(a=ns.get(t))?e(a.r,a.g,a.b):(null==t||"#"!==t.charAt(0)||isNaN(a=parseInt(t.slice(1),16))||(4===t.length?(o=(3840&a)>>4,o|=o>>4,s=240&a,s|=s>>4,l=15&a,l|=l<<4):7===t.length&&(o=(16711680&a)>>16,s=(65280&a)>>8,l=255&a)),e(o,s,l))}function Mt(t,e,n){var r,i,a=Math.min(t/=255,e/=255,n/=255),o=Math.max(t,e,n),s=o-a,l=(o+a)/2;return s?(i=l<.5?s/(o+a):s/(2-o-a),r=t==o?(e-n)/s+(e<n?6:0):e==o?(n-t)/s+2:(t-e)/s+4,r*=60):(r=NaN,i=0<l&&l<1?0:r),new st(r,i,l)}function _t(t,e,n){var r=gt((.4124564*(t=Ct(t))+.3575761*(e=Ct(e))+.1804375*(n=Ct(n)))/Go),i=gt((.2126729*t+.7151522*e+.072175*n)/Xo);return ht(116*i-16,500*(r-i),200*(i-gt((.0193339*t+.119192*e+.9503041*n)/Ko)))}function Ct(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function kt(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}function St(t){return"function"==typeof t?t:function(){return t}}function Tt(r){return function(t,e,n){return 2===arguments.length&&"function"==typeof e&&(n=e,e=null),$t(t,e,r,n)}}function $t(i,a,n,r){function t(){var t,e=u.status;if(!e&&Nt(u)||200<=e&&e<300||304===e){try{t=n.call(o,u)}catch(r){return void s.error.call(o,r)}s.load.call(o,t)}else s.error.call(o,u)}var o={},s=so.dispatch("beforesend","progress","load","error"),l={},u=new XMLHttpRequest,c=null;return!this.XDomainRequest||"withCredentials"in u||!/^(http(s)?:)?\/\//.test(i)||(u=new XDomainRequest),"onload"in u?u.onload=u.onerror=t:u.onreadystatechange=function(){3<u.readyState&&t()},u.onprogress=function(t){var e=so.event;so.event=t;try{s.progress.call(o,u)}finally{so.event=e}},o.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?l[t]:(null==e?delete l[t]:l[t]=e+"",o)},o.mimeType=function(t){return arguments.length?(a=null==t?null:t+"",o):a},o.responseType=function(t){return arguments.length?(c=t,o):c},o.response=function(t){return n=t,o},["get","post"].forEach(function(t){o[t]=function(){return o.send.apply(o,[t].concat(uo(arguments)))}}),o.send=function(t,e,n){if(2===arguments.length&&"function"==typeof e&&(n=e,e=null),u.open(t,i,!0),null==a||"accept"in l||(l.accept=a+",*/*"),u.setRequestHeader)for(var r in l)u.setRequestHeader(r,l[r]);return null!=a&&u.overrideMimeType&&u.overrideMimeType(a),null!=c&&(u.responseType=c),null!=n&&o.on("error",n).on("load",function(t){n(null,t)}),s.beforesend.call(o,u),u.send(null==e?null:e),o},o.abort=function(){return u.abort(),o},so.rebind(o,s,"on"),null==r?o:o.get(At(r))}function At(n){return 1===n.length?function(t,e){n(null==t?e:null)}:n}function Nt(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}function Et(t,e,n){var r=arguments.length;r<2&&(e=0),r<3&&(n=Date.now());var i={c:t,t:n+e,n:null};return is?is.n=i:rs=i,is=i,as||(os=clearTimeout(os),as=1,ss(Pt)),i}function Pt(){var t=Rt(),e=Lt()-t;24<e?(isFinite(e)&&(clearTimeout(os),os=setTimeout(Pt,e)),as=0):(as=1,ss(Pt))}function Rt(){for(var t=Date.now(),e=rs;e;)t>=e.t&&e.c(t-e.t)&&(e.c=null),e=e.n;return t}function Lt(){for(var t,e=rs,n=1/0;e;)e.c?(e.t<n&&(n=e.t),e=(t=e).n):e=t?t.n=e.n:rs=e.n;return is=t,n}function It(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function zt(t,e){var n=Math.pow(10,3*yo(8-e));return{scale:8<e?function(t){return t/n}:function(t){return t*n},symbol:t}}function jt(t){var C=t.decimal,s=t.thousands,l=t.grouping,r=t.currency,k=l&&s?function(t,e){for(var n=t.length,r=[],i=0,a=l[0],o=0;0<n&&0<a&&(e<o+a+1&&(a=Math.max(1,e-o)),r.push(t.substring(n-=a,n+a)),!((o+=a+1)>e));)a=l[i=(i+1)%l.length];return r.reverse().join(s)}:I;return function(t){var e=us.exec(t),c=e[1]||" ",h=e[2]||">",f=e[3]||"-",n=e[4]||"",d=e[5],p=+e[6],g=e[7],v=e[8],m=e[9],y=1,b="",w="",x=!1,M=!0;switch(v&&(v=+v.substring(1)),(d||"0"===c&&"="===h)&&(d=c="0",h="="),m){case"n":g=!0,m="g";break;case"%":y=100,w="%",m="f";break;case"p":y=100,w="%",m="r";break;case"b":case"o":case"x":case"X":"#"===n&&(b="0"+m.toLowerCase());case"c":M=!1;case"d":x=!0,v=0;break;case"s":y=-1,m="r"}"$"===n&&(b=r[0],w=r[1]),"r"!=m||v||(m="g"),null!=v&&("g"==m?v=Math.max(1,Math.min(21,v)):("e"==m||"f"==m)&&(v=Math.max(0,Math.min(20,v)))),m=cs.get(m)||Dt;var _=d&&g;return function(t){var e=w;if(x&&t%1)return"";var n=t<0||0===t&&1/t<0?(t=-t,"-"):"-"===f?"":f;if(y<0){var r=so.formatPrefix(t,v);t=r.scale(t),e=r.symbol+w}else t*=y;var i,a,o=(t=m(t,v)).lastIndexOf(".");if(o<0){var s=M?t.lastIndexOf("e"):-1;s<0?(i=t,a=""):(i=t.substring(0,s),a=t.substring(s))}else i=t.substring(0,o),a=C+t.substring(o+1);!d&&g&&(i=k(i,1/0));var l=b.length+i.length+a.length+(_?0:n.length),u=l<p?new Array(l=p-l+1).join(c):"";return _&&(i=k(u+i,u.length?p-a.length:1/0)),n+=b,t=i+a,("<"===h?n+t+u:">"===h?u+n+t:"^"===h?u.substring(0,l>>=1)+n+t+u.substring(l):n+(_?t:u+t))+e}}}function Dt(t){return t+""}function qt(t){this._=new Date(1<arguments.length?Date.UTC.apply(this,arguments):t)}function Ft(r,a,o){function t(t){var e=r(t),n=i(e,1);return t-e<n-t?e:n}function s(t){return a(t=r(new fs(t-1)),1),t}function i(t,e){return a(t=new fs(+t),e),t}function l(t,e,n){var r=s(t),i=[];if(1<n)for(;r<e;)o(r)%n||i.push(new Date(+r)),a(r,1);else for(;r<e;)i.push(new Date(+r)),a(r,1);return i}function e(t,e,n){try{var r=new(fs=qt);return r._=t,l(r,e,n)}finally{fs=Date}}(r.floor=r).round=t,r.ceil=s,r.offset=i,r.range=l;var n=r.utc=Ht(r);return(n.floor=n).round=Ht(t),n.ceil=Ht(s),n.offset=Ht(i),n.range=e,r}function Ht(r){return function(t,e){try{var n=new(fs=qt);return n._=t,r(n,e)._}finally{fs=Date}}}function Ot(t){function r(s){function t(t){for(var e,n,r,i=[],a=-1,o=0;++a<l;)37===s.charCodeAt(a)&&(i.push(s.slice(o,a)),null!=(n=ps[e=s.charAt(++a)])&&(e=s.charAt(++a)),(r=$[e])&&(e=r(t,null==n?"e"===e?" ":"0":n)),i.push(e),o=a+1);return i.push(s.slice(o,a)),i.join("")}var l=s.length;return t.parse=function(t){var e={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(i(e,s,t,0)!=t.length)return null;"p"in e&&(e.H=e.H%12+12*e.p);var n=null!=e.Z&&fs!==qt,r=new(n?qt:fs);return"j"in e?r.setFullYear(e.y,0,e.j):"W"in e||"U"in e?("w"in e||(e.w="W"in e?1:0),r.setFullYear(e.y,0,1),r.setFullYear(e.y,0,"W"in e?(e.w+6)%7+7*e.W-(r.getDay()+5)%7:e.w+7*e.U-(r.getDay()+6)%7)):r.setFullYear(e.y,e.m,e.d),r.setHours(e.H+(e.Z/100|0),e.M+e.Z%100,e.S,e.L),n?r._:r},t.toString=function(){return s},t}function i(t,e,n,r){for(var i,a,o,s=0,l=e.length,u=n.length;s<l;){if(u<=r)return-1;if(37===(i=e.charCodeAt(s++))){if(o=e.charAt(s++),!(a=A[o in ps?e.charAt(s++):o])||(r=a(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function e(t,e,n){M.lastIndex=0;var r=M.exec(e.slice(n));return r?(t.w=_.get(r[0].toLowerCase()),n+r[0].length):-1}function n(t,e,n){w.lastIndex=0;var r=w.exec(e.slice(n));return r?(t.w=x.get(r[0].toLowerCase()),n+r[0].length):-1}function a(t,e,n){S.lastIndex=0;var r=S.exec(e.slice(n));return r?(t.m=T.get(r[0].toLowerCase()),n+r[0].length):-1}function o(t,e,n){C.lastIndex=0;var r=C.exec(e.slice(n));return r?(t.m=k.get(r[0].toLowerCase()),n+r[0].length):-1}function s(t,e,n){return i(t,$.c.toString(),e,n)}function l(t,e,n){return i(t,$.x.toString(),e,n)}function u(t,e,n){return i(t,$.X.toString(),e,n)}function c(t,e,n){var r=b.get(e.slice(n,n+=2).toLowerCase());return null==r?-1:(t.p=r,n)}var h=t.dateTime,f=t.date,d=t.time,p=t.periods,g=t.days,v=t.shortDays,m=t.months,y=t.shortMonths;r.utc=function(t){function e(t){try{var e=new(fs=qt);return e._=t,n(e)}finally{fs=Date}}var n=r(t);return e.parse=function(t){try{fs=qt;var e=n.parse(t);return e&&e._}finally{fs=Date}},e.toString=n.toString,e},r.multi=r.utc.multi=le;var b=so.map(),w=Ut(g),x=Vt(g),M=Ut(v),_=Vt(v),C=Ut(m),k=Vt(m),S=Ut(y),T=Vt(y);p.forEach(function(t,e){b.set(t.toLowerCase(),e)});var $={a:function(t){return v[t.getDay()]},A:function(t){return g[t.getDay()]},b:function(t){return y[t.getMonth()]},B:function(t){return m[t.getMonth()]},c:r(h),d:function(t,e){return Bt(t.getDate(),e,2)},e:function(t,e){return Bt(t.getDate(),e,2)},H:function(t,e){return Bt(t.getHours(),e,2)},I:function(t,e){return Bt(t.getHours()%12||12,e,2)},j:function(t,e){return Bt(1+hs.dayOfYear(t),e,3)},L:function(t,e){return Bt(t.getMilliseconds(),e,3)},m:function(t,e){return Bt(t.getMonth()+1,e,2)},M:function(t,e){return Bt(t.getMinutes(),e,2)},p:function(t){return p[+(12<=t.getHours())]},S:function(t,e){return Bt(t.getSeconds(),e,2)},U:function(t,e){return Bt(hs.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return Bt(hs.mondayOfYear(t),e,2)},x:r(f),X:r(d),y:function(t,e){return Bt(t.getFullYear()%100,e,2)},Y:function(t,e){return Bt(t.getFullYear()%1e4,e,4)},Z:oe,"%":function(){return"%"}},A={a:e,A:n,b:a,B:o,c:s,d:te,e:te,H:ne,I:ne,j:ee,L:ae,m:Kt,M:re,p:c,S:ie,U:Yt,w:Wt,W:Qt,x:l,X:u,y:Jt,Y:Zt,Z:Gt,"%":se};return r}function Bt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function Ut(t){return new RegExp("^(?:"+t.map(so.requote).join("|")+")","i")}function Vt(t){for(var e=new y,n=-1,r=t.length;++n<r;)e.set(t[n].toLowerCase(),n);return e}function Wt(t,e,n){gs.lastIndex=0;var r=gs.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Yt(t,e,n){gs.lastIndex=0;var r=gs.exec(e.slice(n));return r?(t.U=+r[0],n+r[0].length):-1}function Qt(t,e,n){gs.lastIndex=0;var r=gs.exec(e.slice(n));return r?(t.W=+r[0],n+r[0].length):-1}function Zt(t,e,n){gs.lastIndex=0;var r=gs.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Jt(t,e,n){gs.lastIndex=0;var r=gs.exec(e.slice(n,n+2));return r?(t.y=Xt(+r[0]),n+r[0].length):-1}function Gt(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function Xt(t){return t+(68<t?1900:2e3)}function Kt(t,e,n){gs.lastIndex=0;var r=gs.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function te(t,e,n){gs.lastIndex=0;var r=gs.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function ee(t,e,n){gs.lastIndex=0;var r=gs.exec(e.slice(n,n+3));return r?(t.j=+r[0],n+r[0].length):-1}function ne(t,e,n){gs.lastIndex=0;var r=gs.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function re(t,e,n){gs.lastIndex=0;var r=gs.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function ie(t,e,n){gs.lastIndex=0;var r=gs.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function ae(t,e,n){gs.lastIndex=0;var r=gs.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function oe(t){var e=t.getTimezoneOffset(),n=0<e?"-":"+",r=yo(e)/60|0,i=yo(e)%60;return n+Bt(r,"0",2)+Bt(i,"0",2)}function se(t,e,n){vs.lastIndex=0;var r=vs.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function le(r){for(var t=r.length,e=-1;++e<t;)r[e][0]=this(r[e][0]);return function(t){for(var e=0,n=r[e];!n[1](t);)n=r[++e];return n[0](t)}}function ue(){}function ce(t,e,n){var r=n.s=t+e,i=r-t,a=r-i;n.t=t-a+(e-i)}function he(t,e){t&&ws.hasOwnProperty(t.type)&&ws[t.type](t,e)}function fe(t,e,n){var r,i=-1,a=t.length-n;for(e.lineStart();++i<a;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function de(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)fe(t[n],e,1);e.polygonEnd()}function pe(){function n(t,e){e=e*Fo/2+zo/4;var n=(t*=Fo)-c,r=0<=n?1:-1,i=r*n,a=Math.cos(e),o=Math.sin(e),s=f*o,l=h*a+s*Math.cos(i),u=s*r*Math.sin(i);Ms.add(Math.atan2(u,l)),c=t,h=a,f=o}var r,i,c,h,f;_s.point=function(t,e){_s.point=n,c=(r=t)*Fo,h=Math.cos(e=(i=e)*Fo/2+zo/4),f=Math.sin(e)},_s.lineEnd=function(){n(r,i)}}function ge(t){var e=t[0],n=t[1],r=Math.cos(n);return[r*Math.cos(e),r*Math.sin(e),Math.sin(n)]}function ve(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function me(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function ye(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function be(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function we(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function xe(t){return[Math.atan2(t[1],t[0]),et(t[2])]}function Me(t,e){return yo(t[0]-e[0])<Lo&&yo(t[1]-e[1])<Lo}function _e(t,e){t*=Fo;var n=Math.cos(e*=Fo);Ce(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function Ce(t,e,n){Ss+=(t-Ss)/++Cs,Ts+=(e-Ts)/Cs,$s+=(n-$s)/Cs}function ke(){function r(t,e){t*=Fo;var n=Math.cos(e*=Fo),r=n*Math.cos(t),i=n*Math.sin(t),a=Math.sin(e),o=Math.atan2(Math.sqrt((o=l*a-u*i)*o+(o=u*r-s*a)*o+(o=s*i-l*r)*o),s*r+l*i+u*a);ks+=o,As+=o*(s+(s=r)),Ns+=o*(l+(l=i)),Es+=o*(u+(u=a)),Ce(s,l,u)}var s,l,u;Is.point=function(t,e){t*=Fo;var n=Math.cos(e*=Fo);s=n*Math.cos(t),l=n*Math.sin(t),u=Math.sin(e),Is.point=r,Ce(s,l,u)}}function Se(){Is.point=_e}function Te(){function r(t,e){t*=Fo;var n=Math.cos(e*=Fo),r=n*Math.cos(t),i=n*Math.sin(t),a=Math.sin(e),o=p*a-g*i,s=g*r-d*a,l=d*i-p*r,u=Math.sqrt(o*o+s*s+l*l),c=d*r+p*i+g*a,h=u&&-tt(c)/u,f=Math.atan2(u,c);Ps+=h*o,Rs+=h*s,Ls+=h*l,ks+=f,As+=f*(d+(d=r)),Ns+=f*(p+(p=i)),Es+=f*(g+(g=a)),Ce(d,p,g)}var i,a,d,p,g;Is.point=function(t,e){i=t,a=e,Is.point=r,t*=Fo;var n=Math.cos(e*=Fo);d=n*Math.cos(t),p=n*Math.sin(t),g=Math.sin(e),Ce(d,p,g)},Is.lineEnd=function(){r(i,a),Is.lineEnd=Se,Is.point=_e}}function $e(n,r){function t(t,e){return t=n(t,e),r(t[0],t[1])}return n.invert&&r.invert&&(t.invert=function(t,e){return(t=r.invert(t,e))&&n.invert(t[0],t[1])}),t}function Ae(){return!0}function Ne(t,e,n,r,s){var l=[],u=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],r=t[e];if(Me(n,r)){s.lineStart();for(var i=0;i<e;++i)s.point((n=t[i])[0],n[1]);return void s.lineEnd()}var a=new Pe(n,t,null,!0),o=new Pe(n,null,a,!1);a.o=o,l.push(a),u.push(o),o=new Pe(r,null,a=new Pe(r,t,null,!1),!0),a.o=o,l.push(a),u.push(o)}}),u.sort(e),Ee(l),Ee(u),l.length){for(var i=0,a=n,o=u.length;i<o;++i)u[i].e=a=!a;for(var c,h,f=l[0];;){for(var d=f,p=!0;d.v;)if((d=d.n)===f)return;c=d.z,s.lineStart();do{if(d.v=d.o.v=!0,d.e){if(p)for(i=0,o=c.length;i<o;++i)s.point((h=c[i])[0],h[1]);else r(d.x,d.n.x,1,s);d=d.n}else{if(p)for(i=(c=d.p.z).length-1;0<=i;--i)s.point((h=c[i])[0],h[1]);else r(d.x,d.p.x,-1,s);d=d.p}c=(d=d.o).z,p=!p}while(!d.v);s.lineEnd()}}}function Ee(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function Pe(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Re(y,b,w,x){return function(r,o){function e(t,e){var n=r(t,e);y(t=n[0],e=n[1])&&o.point(t,e)}function t(t,e){var n=r(t,e);f.point(n[0],n[1])}function n(){p.point=t,f.lineStart()}function i(){p.point=e,f.lineEnd()}function s(t,e){h.push([t,e]);var n=r(t,e);v.point(n[0],n[1])}function a(){v.lineStart(),h=[]}function l(){s(h[0][0],h[0][1]),v.lineEnd();var t,e=v.clean(),n=g.buffer(),r=n.length;if(h.pop(),c.push(h),h=null,r)if(1&e){var i,a=-1;if(0<(r=(t=n[0]).length-1)){for(m||(o.polygonStart(),m=!0),o.lineStart();++a<r;)o.point((i=t[a])[0],i[1]);o.lineEnd()}}else 1<r&&2&e&&n.push(n.pop().concat(n.shift())),u.push(n.filter(Le))}var u,c,h,f=b(o),d=r.invert(x[0],x[1]),p={point:e,lineStart:n,lineEnd:i,polygonStart:function(){p.point=s,p.lineStart=a,p.lineEnd=l,u=[],c=[]},polygonEnd:function(){p.point=e,p.lineStart=n,p.lineEnd=i,u=so.merge(u);var t=Fe(d,c);u.length?(m||(o.polygonStart(),m=!0),Ne(u,ze,t,w,o)):t&&(m||(o.polygonStart(),m=!0),o.lineStart(),w(null,null,1,o),o.lineEnd()),m&&(o.polygonEnd(),m=!1),u=c=null},sphere:function(){o.polygonStart(),o.lineStart(),w(null,null,1,o),o.lineEnd(),o.polygonEnd()}},g=Ie(),v=b(g),m=!1;return p}}function Le(t){return 1<t.length}function Ie(){var n,e=[];return{lineStart:function(){e.push(n=[])},point:function(t,e){n.push([t,e])},lineEnd:w,buffer:function(){var t=e;return e=[],n=null,t},rejoin:function(){1<e.length&&e.push(e.pop().concat(e.shift()))}}}function ze(t,e){return((t=t.x)[0]<0?t[1]-qo-Lo:qo-t[1])-((e=e.x)[0]<0?e[1]-qo-Lo:qo-e[1])}function je(i){var a,o=NaN,s=NaN,l=NaN;return{lineStart:function(){i.lineStart(),a=1},point:function(t,e){var n=0<t?zo:-zo,r=yo(t-o);yo(r-zo)<Lo?(i.point(o,s=0<(s+e)/2?qo:-qo),i.point(l,s),i.lineEnd(),i.lineStart(),i.point(n,s),i.point(t,s),a=0):l!==n&&zo<=r&&(yo(o-l)<Lo&&(o-=l*Lo),yo(t-n)<Lo&&(t-=n*Lo),s=De(o,s,t,e),i.point(l,s),i.lineEnd(),i.lineStart(),i.point(n,s),a=0),i.point(o=t,s=e),l=n},lineEnd:function(){i.lineEnd(),o=s=NaN},clean:function(){return 2-a}}}function De(t,e,n,r){var i,a,o=Math.sin(t-n);return yo(o)>Lo?Math.atan((Math.sin(e)*(a=Math.cos(r))*Math.sin(n)-Math.sin(r)*(i=Math.cos(e))*Math.sin(t))/(i*a*o)):(e+r)/2}function qe(t,e,n,r){var i;if(null==t)i=n*qo,r.point(-zo,i),r.point(0,i),r.point(zo,i),r.point(zo,0),r.point(zo,-i),r.point(0,-i),r.point(-zo,-i),r.point(-zo,0),r.point(-zo,i);else if(yo(t[0]-e[0])>Lo){var a=t[0]<e[0]?zo:-zo;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(e[0],e[1])}function Fe(t,e){var n=t[0],r=t[1],i=[Math.sin(n),-Math.cos(n),0],a=0,o=0;Ms.reset();for(var s=0,l=e.length;s<l;++s){var u=e[s],c=u.length;if(c)for(var h=u[0],f=h[0],d=h[1]/2+zo/4,p=Math.sin(d),g=Math.cos(d),v=1;;){v===c&&(v=0);var m=(t=u[v])[0],y=t[1]/2+zo/4,b=Math.sin(y),w=Math.cos(y),x=m-f,M=0<=x?1:-1,_=M*x,C=zo<_,k=p*b;if(Ms.add(Math.atan2(k*M*Math.sin(_),g*w+k*Math.cos(_))),a+=C?x+M*jo:x,C^n<=f^n<=m){var S=me(ge(h),ge(t));we(S);var T=me(i,S);we(T);var $=(C^0<=x?-1:1)*et(T[2]);($<r||r===$&&(S[0]||S[1]))&&(o+=C^0<=x?1:-1)}if(!v++)break;f=m,p=b,g=w,h=t}}return(a<-Lo||a<Lo&&Ms<0)^1&o}function He(i){function d(t,e){return Math.cos(t)*Math.cos(e)>S}function t(s){var l,u,c,h,f;return{lineStart:function(){h=c=!1,f=1},point:function(t,e){var n,r=[t,e],i=d(t,e),a=v?i?0:g(t,e):i?g(t+(t<0?zo:-zo),e):0;if(!l&&(h=c=i)&&s.lineStart(),i!==c&&(n=p(l,r),(Me(l,n)||Me(r,n))&&(r[0]+=Lo,r[1]+=Lo,i=d(r[0],r[1]))),i!==c)f=0,i?(s.lineStart(),n=p(r,l),s.point(n[0],n[1])):(n=p(l,r),s.point(n[0],n[1]),s.lineEnd()),l=n;else if(m&&l&&v^i){var o;a&u||!(o=p(r,l,!0))||(f=0,v?(s.lineStart(),s.point(o[0][0],o[0][1]),s.point(o[1][0],o[1][1]),s.lineEnd()):(s.point(o[1][0],o[1][1]),s.lineEnd(),s.lineStart(),s.point(o[0][0],o[0][1])))}!i||l&&Me(l,r)||s.point(r[0],r[1]),l=r,c=i,u=a},lineEnd:function(){c&&s.lineEnd(),l=null},clean:function(){return f|(h&&c)<<1}}}function p(t,e,n){var r=[1,0,0],i=me(ge(t),ge(e)),a=ve(i,i),o=i[0],s=a-o*o;if(!s)return!n&&t;var l=S*a/s,u=-S*o/s,c=me(r,i),h=be(r,l);ye(h,be(i,u));var f=c,d=ve(h,f),p=ve(f,f),g=d*d-p*(ve(h,h)-1);if(!(g<0)){var v=Math.sqrt(g),m=be(f,(-d-v)/p);if(ye(m,h),m=xe(m),!n)return m;var y,b=t[0],w=e[0],x=t[1],M=e[1];w<b&&(y=b,b=w,w=y);var _=w-b,C=yo(_-zo)<Lo;if(!C&&M<x&&(y=x,x=M,M=y),C||_<Lo?C?0<x+M^m[1]<(yo(m[0]-b)<Lo?x:M):x<=m[1]&&m[1]<=M:zo<_^(b<=m[0]&&m[0]<=w)){var k=be(f,(-d+v)/p);return ye(k,h),[m,xe(k)]}}}function g(t,e){var n=v?i:zo-i,r=0;return t<-n?r|=1:n<t&&(r|=2),e<-n?r|=4:n<e&&(r|=8),r}var S=Math.cos(i),v=0<S,m=yo(S)>Lo;return Re(d,t,gn(i,6*Fo),v?[0,-i]:[-zo,i-zo])}function Oe(c,h,f,d){return function(t){var e,n=t.a,r=t.b,i=n.x,a=n.y,o=0,s=1,l=r.x-i,u=r.y-a;if(e=c-i,l||!(0<e)){if(e/=l,l<0){if(e<o)return;e<s&&(s=e)}else if(0<l){if(s<e)return;o<e&&(o=e)}if(e=f-i,l||!(e<0)){if(e/=l,l<0){if(s<e)return;o<e&&(o=e)}else if(0<l){if(e<o)return;e<s&&(s=e)}if(e=h-a,u||!(0<e)){if(e/=u,u<0){if(e<o)return;e<s&&(s=e)}else if(0<u){if(s<e)return;o<e&&(o=e)}if(e=d-a,u||!(e<0)){if(e/=u,u<0){if(s<e)return;o<e&&(o=e)}else if(0<u){if(e<o)return;e<s&&(s=e)}return 0<o&&(t.a={x:i+o*l,y:a+o*u}),s<1&&(t.b={x:i+s*l,y:a+s*u}),t}}}}}}function Be(_,C,k,S){function T(t,e){return yo(t[0]-_)<Lo?0<e?0:3:yo(t[0]-k)<Lo?0<e?2:1:yo(t[1]-C)<Lo?0<e?1:0:0<e?3:2}function $(t,e){return A(t.x,e.x)}function A(t,e){var n=T(t,1),r=T(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(i){function r(t){for(var e=0,n=c.length,r=t[1],i=0;i<n;++i)for(var a,o=1,s=c[i],l=s.length,u=s[0];o<l;++o)a=s[o],u[1]<=r?a[1]>r&&0<K(u,a,t)&&++e:a[1]<=r&&K(u,a,t)<0&&--e,u=a;return 0!==e}function a(t,e,n,r){var i=0,a=0;if(null==t||(i=T(t,n))!==(a=T(e,n))||A(t,e)<0^0<n)for(;r.point(0===i||3===i?_:k,1<i?S:C),(i=(i+n+4)%4)!==a;);else r.point(e[0],e[1])}function o(t,e){return _<=t&&t<=k&&C<=e&&e<=S}function t(t,e){o(t,e)&&i.point(t,e)}function e(){M.point=s,c&&c.push(u=[]),v=!(m=!0),p=g=NaN}function n(){l&&(s(h,f),d&&v&&w.rejoin(),l.push(w.buffer())),M.point=t,v&&i.lineEnd()}function s(t,e){var n=o(t=Math.max(-js,Math.min(js,t)),e=Math.max(-js,Math.min(js,e)));if(c&&u.push([t,e]),m)h=t,f=e,m=!1,(d=n)&&(i.lineStart(),i.point(t,e));else if(n&&v)i.point(t,e);else{var r={a:{x:p,y:g},b:{x:t,y:e}};x(r)?(v||(i.lineStart(),i.point(r.a.x,r.a.y)),i.point(r.b.x,r.b.y),n||i.lineEnd(),y=!1):n&&(i.lineStart(),i.point(t,e),y=!1)}p=t,g=e,v=n}var l,c,u,h,f,d,p,g,v,m,y,b=i,w=Ie(),x=Oe(_,C,k,S),M={point:t,lineStart:e,lineEnd:n,polygonStart:function(){i=w,l=[],c=[],y=!0},polygonEnd:function(){i=b,l=so.merge(l);var t=r([_,S]),e=y&&t,n=l.length;(e||n)&&(i.polygonStart(),e&&(i.lineStart(),a(null,null,1,i),i.lineEnd()),n&&Ne(l,$,t,a,i),i.polygonEnd()),l=c=u=null}};return M}}function Ue(t){var e=0,n=zo/3,r=sn(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*zo/180,n=t[1]*zo/180):[e/zo*180,n/zo*180]},i}function Ve(t,e){function n(t,e){var n=Math.sqrt(a-2*i*Math.sin(e))/i;return[n*Math.sin(t*=i),o-n*Math.cos(t)]}var r=Math.sin(t),i=(r+Math.sin(e))/2,a=1+r*(2*i-r),o=Math.sqrt(a)/i;return n.invert=function(t,e){var n=o-e;return[Math.atan2(t,n)/i,et((a-(t*t+n*n)*i*i)/(2*i))]},n}function We(){function n(t,e){qs+=o*t-a*e,a=t,o=e}var r,i,a,o;Us.point=function(t,e){Us.point=n,r=a=t,i=o=e},Us.lineEnd=function(){n(r,i)}}function Ye(t,e){t<Fs&&(Fs=t),Os<t&&(Os=t),e<Hs&&(Hs=e),Bs<e&&(Bs=e)}function Qe(){function t(t,e){o.push("M",t,",",e,a)}function e(t,e){o.push("M",t,",",e),s.point=n}function n(t,e){o.push("L",t,",",e)}function r(){s.point=t}function i(){o.push("Z")}var a=Ze(4.5),o=[],s={point:t,lineStart:function(){s.point=e},lineEnd:r,polygonStart:function(){s.lineEnd=i},polygonEnd:function(){s.lineEnd=r,s.point=t},pointRadius:function(t){return a=Ze(t),s},result:function(){if(o.length){var t=o.join("");return o=[],t}}};return s}function Ze(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Je(t,e){Ss+=t,Ts+=e,++$s}function Ge(){function n(t,e){var n=t-a,r=e-o,i=Math.sqrt(n*n+r*r);As+=i*(a+t)/2,Ns+=i*(o+e)/2,Es+=i,Je(a=t,o=e)}var a,o;Ws.point=function(t,e){Ws.point=n,Je(a=t,o=e)}}function Xe(){Ws.point=Je}function Ke(){function n(t,e){var n=t-a,r=e-o,i=Math.sqrt(n*n+r*r);As+=i*(a+t)/2,Ns+=i*(o+e)/2,Es+=i,Ps+=(i=o*t-a*e)*(a+t),Rs+=i*(o+e),Ls+=3*i,Je(a=t,o=e)}var r,i,a,o;Ws.point=function(t,e){Ws.point=n,Je(r=a=t,i=o=e)},Ws.lineEnd=function(){n(r,i)}}function tn(n){function t(t,e){n.moveTo(t+o,e),n.arc(t,e,o,0,jo)}function e(t,e){n.moveTo(t,e),s.point=r}function r(t,e){n.lineTo(t,e)}function i(){s.point=t}function a(){n.closePath()}var o=4.5,s={point:t,lineStart:function(){s.point=e},lineEnd:i,polygonStart:function(){s.lineEnd=a},polygonEnd:function(){s.lineEnd=i,s.point=t},pointRadius:function(t){return o=t,s},result:w};return s}function en(A){function e(t){return(x?r:n)(t)}function n(n){return an(n,function(t,e){t=A(t,e),n.point(t[0],t[1])})}function r(i){function t(t,e){t=A(t,e),i.point(t[0],t[1])}function e(){g=NaN,w.point=n,i.lineStart()}function n(t,e){var n=ge([t,e]),r=A(t,e);N(g,v,p,m,y,b,g=r[0],v=r[1],p=t,m=n[0],y=n[1],b=n[2],x,i),i.point(g,v)}function r(){w.point=t,i.lineEnd()}function a(){e(),w.point=o,w.lineEnd=s}function o(t,e){n(l=t,e),u=g,c=v,h=m,f=y,d=b,w.point=n}function s(){N(g,v,p,m,y,b,u,c,l,h,f,d,x,i),(w.lineEnd=r)()}var l,u,c,h,f,d,p,g,v,m,y,b,w={point:t,lineStart:e,lineEnd:r,polygonStart:function(){i.polygonStart(),w.lineStart=a},polygonEnd:function(){i.polygonEnd(),w.lineStart=e}};return w}function N(t,e,n,r,i,a,o,s,l,u,c,h,f,d){var p=o-t,g=s-e,v=p*p+g*g;if(4*E<v&&f--){var m=r+u,y=i+c,b=a+h,w=Math.sqrt(m*m+y*y+b*b),x=Math.asin(b/=w),M=yo(yo(b)-1)<Lo||yo(n-l)<Lo?(n+l)/2:Math.atan2(y,m),_=A(M,x),C=_[0],k=_[1],S=C-t,T=k-e,$=g*S-p*T;(E<$*$/v||.3<yo((p*S+g*T)/v-.5)||r*u+i*c+a*h<P)&&(N(t,e,n,r,i,a,C,k,M,m/=w,y/=w,b,f,d),d.point(C,k),N(C,k,M,m,y,b,o,s,l,u,c,h,f,d))}}var E=.5,P=Math.cos(30*Fo),x=16;return e.precision=function(t){return arguments.length?(x=0<(E=t*t)&&16,e):Math.sqrt(E)},e}function nn(n){var e=en(function(t,e){return n([t*Ho,e*Ho])});return function(t){return ln(e(t))}}function rn(t){this.stream=t}function an(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function on(t){return sn(function(){return t})()}function sn(t){function e(t){return[(t=s(t[0]*Fo,t[1]*Fo))[0]*f+l,u-t[1]*f]}function n(t){return(t=s.invert((t[0]-l)/f,(u-t[1])/f))&&[t[0]*Ho,t[1]*Ho]}function r(){s=$e(o=hn(m,y,b),a);var t=a(g,v);return l=d-t[0]*f,u=p+t[1]*f,i()}function i(){return c&&(c.valid=!1,c=null),e}var a,o,s,l,u,c,h=en(function(t,e){return[(t=a(t,e))[0]*f+l,u-t[1]*f]}),f=150,d=480,p=250,g=0,v=0,m=0,y=0,b=0,w=zs,x=I,M=null,_=null;return e.stream=function(t){return c&&(c.valid=!1),(c=ln(w(o,h(x(t))))).valid=!0,c},e.clipAngle=function(t){return arguments.length?(w=null==t?(M=t,zs):He((M=+t)*Fo),i()):M},e.clipExtent=function(t){return arguments.length?(x=(_=t)?Be(t[0][0],t[0][1],t[1][0],t[1][1]):I,i()):_},e.scale=function(t){return arguments.length?(f=+t,r()):f},e.translate=function(t){return arguments.length?(d=+t[0],p=+t[1],r()):[d,p]},e.center=function(t){return arguments.length?(g=t[0]%360*Fo,v=t[1]%360*Fo,r()):[g*Ho,v*Ho]},e.rotate=function(t){return arguments.length?(m=t[0]%360*Fo,y=t[1]%360*Fo,b=2<t.length?t[2]%360*Fo:0,r()):[m*Ho,y*Ho,b*Ho]},so.rebind(e,h,"precision"),function(){return a=t.apply(this,arguments),e.invert=a.invert&&n,r()}}function ln(n){return an(n,function(t,e){n.point(t*Fo,e*Fo)})}function un(t,e){return[t,e]}function cn(t,e){return[zo<t?t-jo:t<-zo?t+jo:t,e]}function hn(t,e,n){return t?e||n?$e(dn(t),pn(e,n)):dn(t):e||n?pn(e,n):cn}function fn(n){return function(t,e){return[zo<(t+=n)?t-jo:t<-zo?t+jo:t,e]}}function dn(t){var e=fn(t);return e.invert=fn(-t),e}function pn(t,e){
function n(t,e){var n=Math.cos(e),r=Math.cos(t)*n,i=Math.sin(t)*n,a=Math.sin(e),o=a*s+r*l;return[Math.atan2(i*u-o*c,r*s-a*l),et(o*u+i*c)]}var s=Math.cos(t),l=Math.sin(t),u=Math.cos(e),c=Math.sin(e);return n.invert=function(t,e){var n=Math.cos(e),r=Math.cos(t)*n,i=Math.sin(t)*n,a=Math.sin(e),o=a*u-i*c;return[Math.atan2(i*u+a*c,r*s+o*l),et(o*s-r*l)]},n}function gn(s,l){var u=Math.cos(s),c=Math.sin(s);return function(t,e,n,r){var i=n*l;null!=t?(t=vn(u,t),e=vn(u,e),(0<n?t<e:e<t)&&(t+=n*jo)):(t=s+n*jo,e=s-.5*i);for(var a,o=t;0<n?e<o:o<e;o-=i)r.point((a=xe([u,-c*Math.cos(o),-c*Math.sin(o)]))[0],a[1])}}function vn(t,e){var n=ge(e);n[0]-=t,we(n);var r=tt(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-Lo)%(2*Math.PI)}function mn(t,e,n){var r=so.range(t,e-Lo,n).concat(e);return function(e){return r.map(function(t){return[e,t]})}}function yn(t,e,n){var r=so.range(t,e-Lo,n).concat(e);return function(e){return r.map(function(t){return[t,e]})}}function bn(t){return t.source}function wn(t){return t.target}function xn(t,e,n,r){var i=Math.cos(e),o=Math.sin(e),a=Math.cos(r),s=Math.sin(r),l=i*Math.cos(t),u=i*Math.sin(t),c=a*Math.cos(n),h=a*Math.sin(n),f=2*Math.asin(Math.sqrt(at(r-e)+i*a*at(n-t))),d=1/Math.sin(f),p=f?function(t){var e=Math.sin(t*=f)*d,n=Math.sin(f-t)*d,r=n*l+e*c,i=n*u+e*h,a=n*o+e*s;return[Math.atan2(i,r)*Ho,Math.atan2(a,Math.sqrt(r*r+i*i))*Ho]}:function(){return[t*Ho,e*Ho]};return p.distance=f,p}function Mn(){function n(t,e){var n=Math.sin(e*=Fo),r=Math.cos(e),i=yo((t*=Fo)-o),a=Math.cos(i);Ys+=Math.atan2(Math.sqrt((i=r*Math.sin(i))*i+(i=l*n-s*r*a)*i),s*n+l*r*a),o=t,s=n,l=r}var o,s,l;Qs.point=function(t,e){o=t*Fo,s=Math.sin(e*=Fo),l=Math.cos(e),Qs.point=n},Qs.lineEnd=function(){Qs.point=Qs.lineEnd=w}}function _n(a,o){function t(t,e){var n=Math.cos(t),r=Math.cos(e),i=a(n*r);return[i*r*Math.sin(t),i*Math.sin(e)]}return t.invert=function(t,e){var n=Math.sqrt(t*t+e*e),r=o(n),i=Math.sin(r),a=Math.cos(r);return[Math.atan2(t*i,n*a),Math.asin(n&&e*i/n)]},t}function Cn(t,e){function n(t,e){0<o?e<-qo+Lo&&(e=-qo+Lo):qo-Lo<e&&(e=qo-Lo);var n=o/Math.pow(i(e),a);return[n*Math.sin(a*t),o-n*Math.cos(a*t)]}var r=Math.cos(t),i=function(t){return Math.tan(zo/4+t/2)},a=t===e?Math.sin(t):Math.log(r/Math.cos(e))/Math.log(i(e)/i(t)),o=r*Math.pow(i(t),a)/a;return a?(n.invert=function(t,e){var n=o-e,r=X(a)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/a,2*Math.atan(Math.pow(o/r,1/a))-qo]},n):Sn}function kn(t,e){function n(t,e){var n=a-e;return[n*Math.sin(i*t),a-n*Math.cos(i*t)]}var r=Math.cos(t),i=t===e?Math.sin(t):(r-Math.cos(e))/(e-t),a=r/i+t;return yo(i)<Lo?un:(n.invert=function(t,e){var n=a-e;return[Math.atan2(t,n)/i,a-X(i)*Math.sqrt(t*t+n*n)]},n)}function Sn(t,e){return[t,Math.log(Math.tan(zo/4+e/2))]}function Tn(t){var i,a=on(t),o=a.scale,s=a.translate,l=a.clipExtent;return a.scale=function(){var t=o.apply(a,arguments);return t===a?i?a.clipExtent(null):a:t},a.translate=function(){var t=s.apply(a,arguments);return t===a?i?a.clipExtent(null):a:t},a.clipExtent=function(t){var e=l.apply(a,arguments);if(e===a){if(i=null==t){var n=zo*o(),r=s();l([[r[0]-n,r[1]-n],[r[0]+n,r[1]+n]])}}else i&&(e=null);return e},a.clipExtent(null)}function $n(t,e){return[Math.log(Math.tan(zo/4+e/2)),-t]}function An(t){return t[0]}function Nn(t){return t[1]}function En(t){for(var e=t.length,n=[0,1],r=2,i=2;i<e;i++){for(;1<r&&K(t[n[r-2]],t[n[r-1]],t[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function Pn(t,e){return t[0]-e[0]||t[1]-e[1]}function Rn(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function Ln(t,e,n,r){var i=t[0],a=n[0],o=e[0]-i,s=r[0]-a,l=t[1],u=n[1],c=e[1]-l,h=r[1]-u,f=(s*(l-u)-h*(i-a))/(h*o-s*c);return[i+f*o,l+f*c]}function In(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}function zn(){rr(this),this.edge=this.site=this.circle=null}function jn(t){var e=ol.pop()||new zn;return e.site=t,e}function Dn(t){Qn(t),rl.remove(t),ol.push(t),rr(t)}function qn(t){var e=t.circle,n=e.x,r=e.cy,i={x:n,y:r},a=t.P,o=t.N,s=[t];Dn(t);for(var l=a;l.circle&&yo(n-l.circle.x)<Lo&&yo(r-l.circle.cy)<Lo;)a=l.P,s.unshift(l),Dn(l),l=a;s.unshift(l),Qn(l);for(var u=o;u.circle&&yo(n-u.circle.x)<Lo&&yo(r-u.circle.cy)<Lo;)o=u.N,s.push(u),Dn(u),u=o;s.push(u),Qn(u);var c,h=s.length;for(c=1;c<h;++c)u=s[c],l=s[c-1],tr(u.edge,l.site,u.site,i);l=s[0],(u=s[h-1]).edge=Xn(l.site,u.site,null,i),Yn(l),Yn(u)}function Fn(t){for(var e,n,r,i,a=t.x,o=t.y,s=rl._;s;)if(r=Hn(s,o)-a,Lo<r)s=s.L;else{if(i=a-On(s,o),!(Lo<i)){-Lo<r?(e=s.P,n=s):-Lo<i?n=(e=s).N:e=n=s;break}if(!s.R){e=s;break}s=s.R}var l=jn(t);if(rl.insert(e,l),e||n){if(e===n)return Qn(e),n=jn(e.site),rl.insert(l,n),l.edge=n.edge=Xn(e.site,l.site),Yn(e),void Yn(n);if(!n)return void(l.edge=Xn(e.site,l.site));Qn(e),Qn(n);var u=e.site,c=u.x,h=u.y,f=t.x-c,d=t.y-h,p=n.site,g=p.x-c,v=p.y-h,m=2*(f*v-d*g),y=f*f+d*d,b=g*g+v*v,w={x:(v*y-d*b)/m+c,y:(f*b-g*y)/m+h};tr(n.edge,u,p,w),l.edge=Xn(u,t,null,w),n.edge=Xn(t,p,null,w),Yn(e),Yn(n)}}function Hn(t,e){var n=t.site,r=n.x,i=n.y,a=i-e;if(!a)return r;var o=t.P;if(!o)return-1/0;var s=(n=o.site).x,l=n.y,u=l-e;if(!u)return s;var c=s-r,h=1/a-1/u,f=c/u;return h?(-f+Math.sqrt(f*f-2*h*(c*c/(-2*u)-l+u/2+i-a/2)))/h+r:(r+s)/2}function On(t,e){var n=t.N;if(n)return Hn(n,e);var r=t.site;return r.y===e?r.x:1/0}function Bn(t){this.site=t,this.edges=[]}function Un(t){for(var e,n,r,i,a,o,s,l,u,c,h=t[0][0],f=t[1][0],d=t[0][1],p=t[1][1],g=nl,v=g.length;v--;)if((a=g[v])&&a.prepare())for(l=(s=a.edges).length,o=0;o<l;)r=(c=s[o].end()).x,i=c.y,e=(u=s[++o%l].start()).x,n=u.y,(yo(r-e)>Lo||yo(i-n)>Lo)&&(s.splice(o,0,new er(Kn(a.site,c,yo(r-h)<Lo&&Lo<p-i?{x:h,y:yo(e-h)<Lo?n:p}:yo(i-p)<Lo&&Lo<f-r?{x:yo(n-p)<Lo?e:f,y:p}:yo(r-f)<Lo&&Lo<i-d?{x:f,y:yo(e-f)<Lo?n:d}:yo(i-d)<Lo&&Lo<r-h?{x:yo(n-d)<Lo?e:h,y:d}:null),a.site,null)),++l)}function Vn(t,e){return e.angle-t.angle}function Wn(){rr(this),this.x=this.y=this.arc=this.site=this.cy=null}function Yn(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,a=n.site;if(r!==a){var o=i.x,s=i.y,l=r.x-o,u=r.y-s,c=a.x-o,h=2*(l*(v=a.y-s)-u*c);if(!(-Io<=h)){var f=l*l+u*u,d=c*c+v*v,p=(v*f-u*d)/h,g=(l*d-c*f)/h,v=g+s,m=sl.pop()||new Wn;m.arc=t,m.site=i,m.x=p+o,m.y=v+Math.sqrt(p*p+g*g),m.cy=v,t.circle=m;for(var y=null,b=al._;b;)if(m.y<b.y||m.y===b.y&&m.x<=b.x){if(!b.L){y=b.P;break}b=b.L}else{if(!b.R){y=b;break}b=b.R}al.insert(y,m),y||(il=m)}}}}function Qn(t){var e=t.circle;e&&(e.P||(il=e.N),al.remove(e),sl.push(e),rr(e),t.circle=null)}function Zn(t){for(var e,n=el,r=Oe(t[0][0],t[0][1],t[1][0],t[1][1]),i=n.length;i--;)(!Jn(e=n[i],t)||!r(e)||yo(e.a.x-e.b.x)<Lo&&yo(e.a.y-e.b.y)<Lo)&&(e.a=e.b=null,n.splice(i,1))}function Jn(t,e){var n=t.b;if(n)return!0;var r,i,a=t.a,o=e[0][0],s=e[1][0],l=e[0][1],u=e[1][1],c=t.l,h=t.r,f=c.x,d=c.y,p=h.x,g=h.y,v=(f+p)/2,m=(d+g)/2;if(g===d){if(v<o||s<=v)return;if(p<f){if(a){if(a.y>=u)return}else a={x:v,y:l};n={x:v,y:u}}else{if(a){if(a.y<l)return}else a={x:v,y:u};n={x:v,y:l}}}else if(i=m-(r=(f-p)/(g-d))*v,r<-1||1<r)if(p<f){if(a){if(a.y>=u)return}else a={x:(l-i)/r,y:l};n={x:(u-i)/r,y:u}}else{if(a){if(a.y<l)return}else a={x:(u-i)/r,y:u};n={x:(l-i)/r,y:l}}else if(d<g){if(a){if(a.x>=s)return}else a={x:o,y:r*o+i};n={x:s,y:r*s+i}}else{if(a){if(a.x<o)return}else a={x:s,y:r*s+i};n={x:o,y:r*o+i}}return t.a=a,t.b=n,!0}function Gn(t,e){this.l=t,this.r=e,this.a=this.b=null}function Xn(t,e,n,r){var i=new Gn(t,e);return el.push(i),n&&tr(i,t,e,n),r&&tr(i,e,t,r),nl[t.i].edges.push(new er(i,t,e)),nl[e.i].edges.push(new er(i,e,t)),i}function Kn(t,e,n){var r=new Gn(t,null);return r.a=e,r.b=n,el.push(r),r}function tr(t,e,n,r){t.a||t.b?t.l===n?t.b=r:t.a=r:(t.a=r,t.l=e,t.r=n)}function er(t,e,n){var r=t.a,i=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function nr(){this._=null}function rr(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function ir(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function ar(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function or(t){for(;t.L;)t=t.L;return t}function sr(t,e){var n,r,i,a=t.sort(lr).pop();for(el=[],nl=new Array(t.length),rl=new nr,al=new nr;;)if(i=il,a&&(!i||a.y<i.y||a.y===i.y&&a.x<i.x))(a.x!==n||a.y!==r)&&(nl[a.i]=new Bn(a),Fn(a),n=a.x,r=a.y),a=t.pop();else{if(!i)break;qn(i.arc)}e&&(Zn(e),Un(e));var o={cells:nl,edges:el};return rl=al=el=nl=null,o}function lr(t,e){return e.y-t.y||e.x-t.x}function ur(t,e,n){return(t.x-n.x)*(e.y-t.y)-(t.x-e.x)*(n.y-t.y)}function cr(t){return t.x}function hr(t){return t.y}function fr(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function dr(t,e,n,r,i,a){if(!t(e,n,r,i,a)){var o=.5*(n+i),s=.5*(r+a),l=e.nodes;l[0]&&dr(t,l[0],n,r,o,s),l[1]&&dr(t,l[1],o,r,i,s),l[2]&&dr(t,l[2],n,s,o,a),l[3]&&dr(t,l[3],o,s,i,a)}}function pr(t,g,v,m,y,b,w){var x,M=1/0;return function _(t,e,n,r,i){if(!(b<e||w<n||r<m||i<y)){if(a=t.point){var a,o=g-t.x,s=v-t.y,l=o*o+s*s;if(l<M){var u=Math.sqrt(M=l);m=g-u,y=v-u,b=g+u,w=v+u,x=a}}for(var c=t.nodes,h=.5*(e+r),f=.5*(n+i),d=(f<=v)<<1|h<=g,p=d+4;d<p;++d)if(t=c[3&d])switch(3&d){case 0:_(t,e,n,h,f);break;case 1:_(t,h,n,r,f);break;case 2:_(t,e,f,h,i);break;case 3:_(t,h,f,r,i)}}}(t,m,y,b,w),x}function gr(t,e){t=so.rgb(t),e=so.rgb(e);var n=t.r,r=t.g,i=t.b,a=e.r-n,o=e.g-r,s=e.b-i;return function(t){return"#"+wt(Math.round(n+a*t))+wt(Math.round(r+o*t))+wt(Math.round(i+s*t))}}function vr(t,e){var n,r={},i={};for(n in t)n in e?r[n]=br(t[n],e[n]):i[n]=t[n];for(n in e)n in t||(i[n]=e[n]);return function(t){for(n in r)i[n]=r[n](t);return i}}function mr(e,n){return e=+e,n=+n,function(t){return e*(1-t)+n*t}}function yr(t,r){var e,n,i,a=ul.lastIndex=cl.lastIndex=0,o=-1,s=[],l=[];for(t+="",r+="";(e=ul.exec(t))&&(n=cl.exec(r));)(i=n.index)>a&&(i=r.slice(a,i),s[o]?s[o]+=i:s[++o]=i),(e=e[0])===(n=n[0])?s[o]?s[o]+=n:s[++o]=n:(s[++o]=null,l.push({i:o,x:mr(e,n)})),a=cl.lastIndex;return a<r.length&&(i=r.slice(a),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?(r=l[0].x,function(t){return r(t)+""}):function(){return r}:(r=l.length,function(t){for(var e,n=0;n<r;++n)s[(e=l[n]).i]=e.x(t);return s.join("")})}function br(t,e){for(var n,r=so.interpolators.length;0<=--r&&!(n=so.interpolators[r](t,e)););return n}function wr(t,e){var n,r=[],i=[],a=t.length,o=e.length,s=Math.min(t.length,e.length);for(n=0;n<s;++n)r.push(br(t[n],e[n]));for(;n<a;++n)i[n]=t[n];for(;n<o;++n)i[n]=e[n];return function(t){for(n=0;n<s;++n)i[n]=r[n](t);return i}}function xr(e){return function(t){return t<=0?0:1<=t?1:e(t)}}function Mr(e){return function(t){return 1-e(1-t)}}function _r(e){return function(t){return.5*(t<.5?e(2*t):2-e(2-2*t))}}function Cr(t){return t*t}function kr(t){return t*t*t}function Sr(t){if(t<=0)return 0;if(1<=t)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)}function Tr(e){return function(t){return Math.pow(t,e)}}function $r(t){return 1-Math.cos(t*qo)}function Ar(t){return Math.pow(2,10*(t-1))}function Nr(t){return 1-Math.sqrt(1-t*t)}function Er(e,n){var r;return arguments.length<2&&(n=.45),arguments.length?r=n/jo*Math.asin(1/e):(e=1,r=n/4),function(t){return 1+e*Math.pow(2,-10*t)*Math.sin((t-r)*jo/n)}}function Pr(e){return e||(e=1.70158),function(t){return t*t*((e+1)*t-e)}}function Rr(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function Lr(t,e){t=so.hcl(t),e=so.hcl(e);var n=t.h,r=t.c,i=t.l,a=e.h-n,o=e.c-r,s=e.l-i;return isNaN(o)&&(o=0,r=isNaN(r)?e.c:r),isNaN(a)?(a=0,n=isNaN(n)?e.h:n):180<a?a-=360:a<-180&&(a+=360),function(t){return ct(n+a*t,r+o*t,i+s*t)+""}}function Ir(t,e){t=so.hsl(t),e=so.hsl(e);var n=t.h,r=t.s,i=t.l,a=e.h-n,o=e.s-r,s=e.l-i;return isNaN(o)&&(o=0,r=isNaN(r)?e.s:r),isNaN(a)?(a=0,n=isNaN(n)?e.h:n):180<a?a-=360:a<-180&&(a+=360),function(t){return lt(n+a*t,r+o*t,i+s*t)+""}}function zr(t,e){t=so.lab(t),e=so.lab(e);var n=t.l,r=t.a,i=t.b,a=e.l-n,o=e.a-r,s=e.b-i;return function(t){return ft(n+a*t,r+o*t,i+s*t)+""}}function jr(e,n){return n-=e,function(t){return Math.round(e+n*t)}}function Dr(t){var e=[t.a,t.b],n=[t.c,t.d],r=Fr(e),i=qr(e,n),a=Fr(Hr(n,e,-i))||0;e[0]*n[1]<n[0]*e[1]&&(e[0]*=-1,e[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(e[1],e[0]):Math.atan2(-n[0],n[1]))*Ho,this.translate=[t.e,t.f],this.scale=[r,a],this.skew=a?Math.atan2(i,a)*Ho:0}function qr(t,e){return t[0]*e[0]+t[1]*e[1]}function Fr(t){var e=Math.sqrt(qr(t,t));return e&&(t[0]/=e,t[1]/=e),e}function Hr(t,e,n){return t[0]+=n*e[0],t[1]+=n*e[1],t}function Or(t){return t.length?t.pop()+",":""}function Br(t,e,n,r){if(t[0]!==e[0]||t[1]!==e[1]){var i=n.push("translate(",null,",",null,")");r.push({i:i-4,x:mr(t[0],e[0])},{i:i-2,x:mr(t[1],e[1])})}else(e[0]||e[1])&&n.push("translate("+e+")")}function Ur(t,e,n,r){t!==e?(180<t-e?e+=360:180<e-t&&(t+=360),r.push({i:n.push(Or(n)+"rotate(",null,")")-2,x:mr(t,e)})):e&&n.push(Or(n)+"rotate("+e+")")}function Vr(t,e,n,r){t!==e?r.push({i:n.push(Or(n)+"skewX(",null,")")-2,x:mr(t,e)}):e&&n.push(Or(n)+"skewX("+e+")")}function Wr(t,e,n,r){if(t[0]!==e[0]||t[1]!==e[1]){var i=n.push(Or(n)+"scale(",null,",",null,")");r.push({i:i-4,x:mr(t[0],e[0])},{i:i-2,x:mr(t[1],e[1])})}else(1!==e[0]||1!==e[1])&&n.push(Or(n)+"scale("+e+")")}function Yr(t,e){var i=[],a=[];return t=so.transform(t),e=so.transform(e),Br(t.translate,e.translate,i,a),Ur(t.rotate,e.rotate,i,a),Vr(t.skew,e.skew,i,a),Wr(t.scale,e.scale,i,a),t=e=null,function(t){for(var e,n=-1,r=a.length;++n<r;)i[(e=a[n]).i]=e.x(t);return i.join("")}}function Qr(e,n){return n=(n-=e=+e)||1/n,function(t){return(t-e)/n}}function Zr(e,n){return n=(n-=e=+e)||1/n,function(t){return Math.max(0,Math.min(1,(t-e)/n))}}function Jr(t){for(var e=t.source,n=t.target,r=Xr(e,n),i=[e];e!==r;)e=e.parent,i.push(e);for(var a=i.length;n!==r;)i.splice(a,0,n),n=n.parent;return i}function Gr(t){for(var e=[],n=t.parent;null!=n;)e.push(t),n=(t=n).parent;return e.push(t),e}function Xr(t,e){if(t===e)return t;for(var n=Gr(t),r=Gr(e),i=n.pop(),a=r.pop(),o=null;i===a;)o=i,i=n.pop(),a=r.pop();return o}function Kr(t){t.fixed|=2}function ti(t){t.fixed&=-7}function ei(t){t.fixed|=4,t.px=t.x,t.py=t.y}function ni(t){t.fixed&=-5}function ri(t,e,n){var r=0,i=0;if(t.charge=0,!t.leaf)for(var a,o=t.nodes,s=o.length,l=-1;++l<s;)null!=(a=o[l])&&(ri(a,e,n),t.charge+=a.charge,r+=a.charge*a.cx,i+=a.charge*a.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var u=e*n[t.point.index];t.charge+=t.pointCharge=u,r+=u*t.point.x,i+=u*t.point.y}t.cx=r/t.charge,t.cy=i/t.charge}function ii(t,e){return so.rebind(t,e,"sort","children","value"),(t.nodes=t).links=ci,t}function ai(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(i=t.children)&&(r=i.length))for(var r,i;0<=--r;)n.push(i[r])}function oi(t,e){for(var n=[t],r=[];null!=(t=n.pop());)if(r.push(t),(a=t.children)&&(i=a.length))for(var i,a,o=-1;++o<i;)n.push(a[o]);for(;null!=(t=r.pop());)e(t)}function si(t){return t.children}function li(t){return t.value}function ui(t,e){return e.value-t.value}function ci(t){return so.merge(t.map(function(e){return(e.children||[]).map(function(t){return{source:e,target:t}})}))}function hi(t){return t.x}function fi(t){return t.y}function di(t,e,n){t.y0=e,t.y=n}function pi(t){return so.range(t.length)}function gi(t){for(var e=-1,n=t[0].length,r=[];++e<n;)r[e]=0;return r}function vi(t){for(var e,n=1,r=0,i=t[0][1],a=t.length;n<a;++n)(e=t[n][1])>i&&(r=n,i=e);return r}function mi(t){return t.reduce(yi,0)}function yi(t,e){return t+e[1]}function bi(t,e){return wi(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function wi(t,e){for(var n=-1,r=+t[0],i=(t[1]-r)/e,a=[];++n<=e;)a[n]=i*n+r;return a}function xi(t){return[so.min(t),so.max(t)]}function Mi(t,e){return t.value-e.value}function _i(t,e){var n=t._pack_next;(t._pack_next=e)._pack_prev=t,(e._pack_next=n)._pack_prev=e}function Ci(t,e){(t._pack_next=e)._pack_prev=t}function ki(t,e){var n=e.x-t.x,r=e.y-t.y,i=t.r+e.r;return n*n+r*r<.999*i*i}function Si(t){function e(t){c=Math.min(t.x-t.r,c),h=Math.max(t.x+t.r,h),f=Math.min(t.y-t.r,f),d=Math.max(t.y+t.r,d)}if((n=t.children)&&(u=n.length)){var n,r,i,a,o,s,l,u,c=1/0,h=-1/0,f=1/0,d=-1/0;if(n.forEach(Ti),(r=n[0]).x=-r.r,r.y=0,e(r),1<u&&((i=n[1]).x=i.r,i.y=0,e(i),2<u))for(Ni(r,i,a=n[2]),e(a),_i(r,a),_i(r._pack_prev=a,i),i=r._pack_next,o=3;o<u;o++){Ni(r,i,a=n[o]);var p=0,g=1,v=1;for(s=i._pack_next;s!==i;s=s._pack_next,g++)if(ki(s,a)){p=1;break}if(1==p)for(l=r._pack_prev;l!==s._pack_prev&&!ki(l,a);l=l._pack_prev,v++);p?(g<v||g==v&&i.r<r.r?Ci(r,i=s):Ci(r=l,i),o--):(_i(r,a),e(i=a))}var m=(c+h)/2,y=(f+d)/2,b=0;for(o=0;o<u;o++)(a=n[o]).x-=m,a.y-=y,b=Math.max(b,a.r+Math.sqrt(a.x*a.x+a.y*a.y));t.r=b,n.forEach($i)}}function Ti(t){t._pack_next=t._pack_prev=t}function $i(t){delete t._pack_next,delete t._pack_prev}function Ai(t,e,n,r){var i=t.children;if(t.x=e+=r*t.x,t.y=n+=r*t.y,t.r*=r,i)for(var a=-1,o=i.length;++a<o;)Ai(i[a],e,n,r)}function Ni(t,e,n){var r=t.r+n.r,i=e.x-t.x,a=e.y-t.y;if(r&&(i||a)){var o=e.r+n.r,s=i*i+a*a,l=.5+((r*=r)-(o*=o))/(2*s),u=Math.sqrt(Math.max(0,2*o*(r+s)-(r-=s)*r-o*o))/(2*s);n.x=t.x+l*i+u*a,n.y=t.y+l*a-u*i}else n.x=t.x+r,n.y=t.y}function Ei(t,e){return t.parent==e.parent?1:2}function Pi(t){var e=t.children;return e.length?e[0]:t.t}function Ri(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function Li(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function Ii(t){for(var e,n=0,r=0,i=t.children,a=i.length;0<=--a;)(e=i[a]).z+=n,e.m+=n,n+=e.s+(r+=e.c)}function zi(t,e,n){return t.a.parent===e.parent?t.a:n}function ji(t){return 1+so.max(t,function(t){return t.y})}function Di(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}function qi(t){var e=t.children;return e&&e.length?qi(e[0]):t}function Fi(t){var e,n=t.children;return n&&(e=n.length)?Fi(n[e-1]):t}function Hi(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function Oi(t,e){var n=t.x+e[3],r=t.y+e[0],i=t.dx-e[1]-e[3],a=t.dy-e[0]-e[2];return i<0&&(n+=i/2,i=0),a<0&&(r+=a/2,a=0),{x:n,y:r,dx:i,dy:a}}function Bi(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]}function Ui(t){return t.rangeExtent?t.rangeExtent():Bi(t.range())}function Vi(t,e,n,r){var i=n(t[0],t[1]),a=r(e[0],e[1]);return function(t){return a(i(t))}}function Wi(t,e){var n,r=0,i=t.length-1,a=t[r],o=t[i];return o<a&&(n=r,r=i,i=n,n=a,a=o,o=n),t[r]=e.floor(a),t[i]=e.ceil(o),t}function Yi(e){return e?{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}:xl}function Qi(n,t,e,r){var i=[],a=[],o=0,s=Math.min(n.length,t.length)-1;for(n[s]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++o<=s;)i.push(e(n[o-1],n[o])),a.push(r(t[o-1],t[o]));return function(t){var e=so.bisect(n,t,1,s)-1;return a[e](i[e](t))}}function Zi(n,r,i,a){function e(){var t=2<Math.min(n.length,r.length)?Qi:Vi,e=a?Zr:Qr;return s=t(n,r,e,i),l=t(r,n,e,br),o}function o(t){return s(t)}var s,l;return o.invert=function(t){return l(t)},o.domain=function(t){return arguments.length?(n=t.map(Number),e()):n},o.range=function(t){return arguments.length?(r=t,e()):r},o.rangeRound=function(t){return o.range(t).interpolate(jr)},o.clamp=function(t){return arguments.length?(a=t,e()):a},o.interpolate=function(t){return arguments.length?(i=t,e()):i},o.ticks=function(t){return Ki(n,t)},o.tickFormat=function(t,e){return ta(n,t,e)},o.nice=function(t){return Gi(n,t),e()},o.copy=function(){return Zi(n,r,i,a)},e()}function Ji(t,e){return so.rebind(t,e,"range","rangeRound","interpolate","clamp")}function Gi(t,e){return Wi(t,Yi(Xi(t,e)[2])),Wi(t,Yi(Xi(t,e)[2])),t}function Xi(t,e){null==e&&(e=10);var n=Bi(t),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/e)/Math.LN10)),a=e/r*i;return a<=.15?i*=10:a<=.35?i*=5:a<=.75&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+.5*i,n[2]=i,n}function Ki(t,e){return so.range.apply(so,Xi(t,e))}function ta(t,e,n){var r=Xi(t,e);if(n){var i=us.exec(n);if(i.shift(),"s"===i[8]){var a=so.formatPrefix(Math.max(yo(r[0]),yo(r[1])));return i[7]||(i[7]="."+ea(a.scale(r[2]))),i[8]="f",n=so.format(i.join("")),function(t){return n(a.scale(t))+a.symbol}}i[7]||(i[7]="."+na(i[8],r)),n=i.join("")}else n=",."+ea(r[2])+"f";return so.format(n)}function ea(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function na(t,e){var n=ea(e[2]);return t in Ml?Math.abs(n-ea(Math.max(yo(e[0]),yo(e[1]))))+ +("e"!==t):n-2*("%"===t)}function ra(e,l,u,c){function h(t){return(u?Math.log(t<0?0:t):-Math.log(0<t?0:-t))/Math.log(l)}function f(t){return u?Math.pow(l,t):-Math.pow(l,-t)}function i(t){return e(h(t))}return i.invert=function(t){return f(e.invert(t))},i.domain=function(t){return arguments.length?(u=0<=t[0],e.domain((c=t.map(Number)).map(h)),i):c},i.base=function(t){return arguments.length?(l=+t,e.domain(c.map(h)),i):l},i.nice=function(){var t=Wi(c.map(h),u?Math:Cl);return e.domain(t),c=t.map(f),i},i.ticks=function(){var t=Bi(c),e=[],n=t[0],r=t[1],i=Math.floor(h(n)),a=Math.ceil(h(r)),o=l%1?2:l;if(isFinite(a-i)){if(u){for(;i<a;i++)for(var s=1;s<o;s++)e.push(f(i)*s);e.push(f(i))}else for(e.push(f(i));i++<a;)for(s=o-1;0<s;s--)e.push(f(i)*s);for(i=0;e[i]<n;i++);for(a=e.length;e[a-1]>r;a--);e=e.slice(i,a)}return e},i.tickFormat=function(t,n){if(!arguments.length)return _l;arguments.length<2?n=_l:"function"!=typeof n&&(n=so.format(n));var r=Math.max(1,l*t/i.ticks().length);return function(t){var e=t/f(Math.round(h(t)));return e*l<l-.5&&(e*=l),e<=r?n(t):""}},i.copy=function(){return ra(e.copy(),l,u,c)},Ji(i,e)}function ia(e,n,r){function i(t){return e(a(t))}var a=aa(n),o=aa(1/n);return i.invert=function(t){return o(e.invert(t))},i.domain=function(t){return arguments.length?(e.domain((r=t.map(Number)).map(a)),i):r},i.ticks=function(t){return Ki(r,t)},i.tickFormat=function(t,e){return ta(r,t,e)},i.nice=function(t){return i.domain(Gi(r,t))},i.exponent=function(t){return arguments.length?(a=aa(n=t),o=aa(1/n),e.domain(r.map(a)),i):n},i.copy=function(){return ia(e.copy(),n,r)},Ji(i,e)}function aa(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function oa(s,l){function u(t){return h[((i.get(t)||("range"===l.t?i.set(t,s.push(t)):NaN))-1)%h.length]}function c(e,n){return so.range(s.length).map(function(t){return e+n*t})}var i,h,f;return u.domain=function(t){if(!arguments.length)return s;s=[],i=new y;for(var e,n=-1,r=t.length;++n<r;)i.has(e=t[n])||i.set(e,s.push(e));return u[l.t].apply(u,l.a)},u.range=function(t){return arguments.length?(h=t,f=0,l={t:"range",a:arguments},u):h},u.rangePoints=function(t,e){arguments.length<2&&(e=0);var n=t[0],r=t[1],i=s.length<2?(n=(n+r)/2,0):(r-n)/(s.length-1+e);return h=c(n+i*e/2,i),f=0,l={t:"rangePoints",a:arguments},u},u.rangeRoundPoints=function(t,e){arguments.length<2&&(e=0);var n=t[0],r=t[1],i=s.length<2?(n=r=Math.round((n+r)/2),0):(r-n)/(s.length-1+e)|0;return h=c(n+Math.round(i*e/2+(r-n-(s.length-1+e)*i)/2),i),f=0,l={t:"rangeRoundPoints",a:arguments},u},u.rangeBands=function(t,e,n){arguments.length<2&&(e=0),arguments.length<3&&(n=e);var r=t[1]<t[0],i=t[r-0],a=(t[1-r]-i)/(s.length-e+2*n);return h=c(i+a*n,a),r&&h.reverse(),f=a*(1-e),l={t:"rangeBands",a:arguments},u},u.rangeRoundBands=function(t,e,n){arguments.length<2&&(e=0),arguments.length<3&&(n=e);var r=t[1]<t[0],i=t[r-0],a=t[1-r],o=Math.floor((a-i)/(s.length-e+2*n));return h=c(i+Math.round((a-i-(s.length-e)*o)/2),o),r&&h.reverse(),f=Math.round(o*(1-e)),l={t:"rangeRoundBands",a:arguments},u},u.rangeBand=function(){return f},u.rangeExtent=function(){return Bi(l.a[0])},u.copy=function(){return oa(s,l)},u.domain(s)}function sa(n,r){function e(){var t=0,e=r.length;for(a=[];++t<e;)a[t-1]=so.quantile(n,t/e);return i}function i(t){return isNaN(t=+t)?void 0:r[so.bisect(a,t)]}var a;return i.domain=function(t){return arguments.length?(n=t.map(u).filter(c).sort(o),e()):n},i.range=function(t){return arguments.length?(r=t,e()):r},i.quantiles=function(){return a},i.invertExtent=function(t){return(t=r.indexOf(t))<0?[NaN,NaN]:[0<t?a[t-1]:n[0],t<a.length?a[t]:n[n.length-1]]},i.copy=function(){return sa(n,r)},e()}function la(e,n,r){function t(t){return r[Math.max(0,Math.min(o,Math.floor(a*(t-e))))]}function i(){return a=r.length/(n-e),o=r.length-1,t}var a,o;return t.domain=function(t){return arguments.length?(e=+t[0],n=+t[t.length-1],i()):[e,n]},t.range=function(t){return arguments.length?(r=t,i()):r},t.invertExtent=function(t){return[t=(t=r.indexOf(t))<0?NaN:t/a+e,t+1/a]},t.copy=function(){return la(e,n,r)},i()}function ua(e,n){function r(t){return t<=t?n[so.bisect(e,t)]:void 0}return r.domain=function(t){return arguments.length?(e=t,r):e},r.range=function(t){return arguments.length?(n=t,r):n},r.invertExtent=function(t){return t=n.indexOf(t),[e[t-1],e[t]]},r.copy=function(){return ua(e,n)},r}function ca(n){function e(t){return+t}return(e.invert=e).domain=e.range=function(t){return arguments.length?(n=t.map(e),e):n},e.ticks=function(t){return Ki(n,t)},e.tickFormat=function(t,e){return ta(n,t,e)},e.copy=function(){return ca(n)},e}function ha(){return 0}function fa(t){return t.innerRadius}function da(t){return t.outerRadius}function pa(t){return t.startAngle}function ga(t){return t.endAngle}function va(t){return t&&t.padAngle}function ma(t,e,n,r){return 0<(t-n)*e-(e-r)*t?0:1}function ya(t,e,n,r,i){var a=t[0]-e[0],o=t[1]-e[1],s=(i?r:-r)/Math.sqrt(a*a+o*o),l=s*o,u=-s*a,c=t[0]+l,h=t[1]+u,f=e[0]+l,d=e[1]+u,p=(c+f)/2,g=(h+d)/2,v=f-c,m=d-h,y=v*v+m*m,b=n-r,w=c*d-f*h,x=(m<0?-1:1)*Math.sqrt(Math.max(0,b*b*y-w*w)),M=(w*m-v*x)/y,_=(-w*v-m*x)/y,C=(w*m+v*x)/y,k=(-w*v+m*x)/y,S=M-p,T=_-g,$=C-p,A=k-g;return $*$+A*A<S*S+T*T&&(M=C,_=k),[[M-l,_-u],[M*n/b,_*n/b]]}function ba(u){function e(t){function e(){r.push("M",d(u(i),p))}for(var n,r=[],i=[],a=-1,o=t.length,s=St(c),l=St(h);++a<o;)f.call(this,n=t[a],a)?i.push([+s.call(this,n,a),+l.call(this,n,a)]):i.length&&(e(),i=[]);return i.length&&e(),r.length?r.join(""):null}var c=An,h=Nn,f=Ae,d=wa,n=d.key,p=.7;return e.x=function(t){return arguments.length?(c=t,e):c},e.y=function(t){return arguments.length?(h=t,e):h},e.defined=function(t){return arguments.length?(f=t,e):f},e.interpolate=function(t){return arguments.length?(n="function"==typeof t?d=t:(d=Nl.get(t)||wa).key,e):n},e.tension=function(t){return arguments.length?(p=t,e):p},e}function wa(t){return 1<t.length?t.join("L"):t+"Z"}function xa(t){return t.join("L")+"Z"}function Ma(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r[0]+(r=t[e])[0])/2,"V",r[1]);return 1<n&&i.push("H",r[0]),i.join("")}function _a(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("V",(r=t[e])[1],"H",r[0]);return i.join("")}function Ca(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r=t[e])[0],"V",r[1]);return i.join("")}function ka(t,e){return t.length<4?wa(t):t[1]+$a(t.slice(1,-1),Aa(t,e))}function Sa(t,e){return t.length<3?xa(t):t[0]+$a((t.push(t[0]),t),Aa([t[t.length-2]].concat(t,[t[1]]),e))}function Ta(t,e){return t.length<3?wa(t):t[0]+$a(t,Aa(t,e))}function $a(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return wa(t);var n=t.length!=e.length,r="",i=t[0],a=t[1],o=e[0],s=o,l=1;if(n&&(r+="Q"+(a[0]-2*o[0]/3)+","+(a[1]-2*o[1]/3)+","+a[0]+","+a[1],i=t[1],l=2),1<e.length){s=e[1],a=t[l],l++,r+="C"+(i[0]+o[0])+","+(i[1]+o[1])+","+(a[0]-s[0])+","+(a[1]-s[1])+","+a[0]+","+a[1];for(var u=2;u<e.length;u++,l++)a=t[l],s=e[u],r+="S"+(a[0]-s[0])+","+(a[1]-s[1])+","+a[0]+","+a[1]}if(n){var c=t[l];r+="Q"+(a[0]+2*s[0]/3)+","+(a[1]+2*s[1]/3)+","+c[0]+","+c[1]}return r}function Aa(t,e){for(var n,r=[],i=(1-e)/2,a=t[0],o=t[1],s=1,l=t.length;++s<l;)n=a,a=o,o=t[s],r.push([i*(o[0]-n[0]),i*(o[1]-n[1])]);return r}function Na(t){if(t.length<3)return wa(t);var e=1,n=t.length,r=t[0],i=r[0],a=r[1],o=[i,i,i,(r=t[1])[0]],s=[a,a,a,r[1]],l=[i,",",a,"L",La(Rl,o),",",La(Rl,s)];for(t.push(t[n-1]);++e<=n;)r=t[e],o.shift(),o.push(r[0]),s.shift(),s.push(r[1]),Ia(l,o,s);return t.pop(),l.push("L",r),l.join("")}function Ea(t){if(t.length<4)return wa(t);for(var e,n=[],r=-1,i=t.length,a=[0],o=[0];++r<3;)e=t[r],a.push(e[0]),o.push(e[1]);for(n.push(La(Rl,a)+","+La(Rl,o)),--r;++r<i;)e=t[r],a.shift(),a.push(e[0]),o.shift(),o.push(e[1]),Ia(n,a,o);return n.join("")}function Pa(t){for(var e,n,r=-1,i=t.length,a=i+4,o=[],s=[];++r<4;)n=t[r%i],o.push(n[0]),s.push(n[1]);for(e=[La(Rl,o),",",La(Rl,s)],--r;++r<a;)n=t[r%i],o.shift(),o.push(n[0]),s.shift(),s.push(n[1]),Ia(e,o,s);return e.join("")}function Ra(t,e){var n=t.length-1;if(n)for(var r,i,a=t[0][0],o=t[0][1],s=t[n][0]-a,l=t[n][1]-o,u=-1;++u<=n;)i=u/n,(r=t[u])[0]=e*r[0]+(1-e)*(a+i*s),r[1]=e*r[1]+(1-e)*(o+i*l);return Na(t)}function La(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function Ia(t,e,n){t.push("C",La(El,e),",",La(El,n),",",La(Pl,e),",",La(Pl,n),",",La(Rl,e),",",La(Rl,n))}function za(t,e){return(e[1]-t[1])/(e[0]-t[0])}function ja(t){for(var e=0,n=t.length-1,r=[],i=t[0],a=t[1],o=r[0]=za(i,a);++e<n;)r[e]=(o+(o=za(i=a,a=t[e+1])))/2;return r[e]=o,r}function Da(t){for(var e,n,r,i,a=[],o=ja(t),s=-1,l=t.length-1;++s<l;)e=za(t[s],t[s+1]),yo(e)<Lo?o[s]=o[s+1]=0:9<(i=(n=o[s]/e)*n+(r=o[s+1]/e)*r)&&(i=3*e/Math.sqrt(i),o[s]=i*n,o[s+1]=i*r);for(s=-1;++s<=l;)i=(t[Math.min(l,s+1)][0]-t[Math.max(0,s-1)][0])/(6*(1+o[s]*o[s])),a.push([i||0,o[s]*i||0]);return a}function qa(t){return t.length<3?wa(t):t[0]+$a(t,Da(t))}function Fa(t){for(var e,n,r,i=-1,a=t.length;++i<a;)n=(e=t[i])[0],r=e[1]-qo,e[0]=n*Math.cos(r),e[1]=n*Math.sin(r);return t}function Ha(p){function e(t){function e(){a.push("M",w(p(s),_),M,x(p(o.reverse()),_),"Z")}for(var n,r,i,a=[],o=[],s=[],l=-1,u=t.length,c=St(g),h=St(m),f=g===v?function(){return r}:St(v),d=m===y?function(){return i}:St(y);++l<u;)b.call(this,n=t[l],l)?(o.push([r=+c.call(this,n,l),i=+h.call(this,n,l)]),s.push([+f.call(this,n,l),+d.call(this,n,l)])):o.length&&(e(),o=[],s=[]);return o.length&&e(),a.length?a.join(""):null}var g=An,v=An,m=0,y=Nn,b=Ae,w=wa,n=w.key,x=w,M="L",_=.7;return e.x=function(t){return arguments.length?(g=v=t,e):v},e.x0=function(t){return arguments.length?(g=t,e):g},e.x1=function(t){return arguments.length?(v=t,e):v},e.y=function(t){return arguments.length?(m=y=t,e):y},e.y0=function(t){return arguments.length?(m=t,e):m},e.y1=function(t){return arguments.length?(y=t,e):y},e.defined=function(t){return arguments.length?(b=t,e):b},e.interpolate=function(t){return arguments.length?(n="function"==typeof t?w=t:(w=Nl.get(t)||wa).key,x=w.reverse||w,M=w.closed?"M":"L",e):n},e.tension=function(t){return arguments.length?(_=t,e):_},e}function Oa(t){return t.radius}function Ba(t){return[t.x,t.y]}function Ua(r){return function(){var t=r.apply(this,arguments),e=t[0],n=t[1]-qo;return[e*Math.cos(n),e*Math.sin(n)]}}function Va(){return 64}function Wa(){return"circle"}function Ya(t){var e=Math.sqrt(t/zo);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}function Qa(r){return function(){var t,e,n;(t=this[r])&&(n=t[e=t.active])&&(n.timer.c=null,n.timer.t=NaN,--t.count?delete t[e]:delete this[r],t.active+=.5,n.event&&n.event.interrupt.call(this,this.__data__,n.index))}}function Za(t,e,n){return _o(t,Fl),t.namespace=e,t.id=n,t}function Ja(t,r,i,a){var o=t.id,s=t.namespace;return B(t,"function"==typeof i?function(t,e,n){t[s][o].tween.set(r,a(i.call(t,t.__data__,e,n)))}:(i=a(i),function(t){t[s][o].tween.set(r,i)}))}function Ga(t){return null==t&&(t=""),function(){this.textContent=t}}function Xa(t){return null==t?"__transition__":"__transition_"+t+"__"}function Ka(a,o,i,s,t){function e(t){var e=g.delay;return c.t=e+u,e<=t?n(t-e):void(c.c=n)}function n(t){var e=p.active,n=p[e];for(var r in n&&(n.timer.c=null,n.timer.t=NaN,--p.count,delete p[e],n.event&&n.event.interrupt.call(a,a.__data__,n.index)),p)if(+r<s){var i=p[r];i.timer.c=null,i.timer.t=NaN,--p.count,delete p[r]}c.c=l,Et(function(){return c.c&&l(t||1)&&(c.c=null,c.t=NaN),1},0,u),p.active=s,g.event&&g.event.start.call(a,a.__data__,o),d=[],g.tween.forEach(function(t,e){(e=e.call(a,a.__data__,o))&&d.push(e)}),f=g.ease,h=g.duration}function l(t){for(var e=t/h,n=f(e),r=d.length;0<r;)d[--r].call(a,n);return 1<=e?(g.event&&g.event.end.call(a,a.__data__,o),--p.count?delete p[s]:delete a[i],1):void 0}var u,c,h,f,d,p=a[i]||(a[i]={active:0,count:0}),g=p[s];g||(u=t.time,c=Et(e,0,u),g=p[s]={tween:new y,time:u,timer:c,delay:t.delay,duration:t.duration,ease:t.ease,index:o},t=null,++p.count)}function to(t,n,r){t.attr("transform",function(t){var e=n(t);return"translate("+(isFinite(e)?e:r(t))+",0)"})}function eo(t,n,r){t.attr("transform",function(t){var e=n(t);return"translate(0,"+(isFinite(e)?e:r(t))+")"})}function no(t){return t.toISOString()}function ro(e,i,t){function o(t){return e(t)}function s(t,e){var n=(t[1]-t[0])/e,r=so.bisect(Zl,n);return r==Zl.length?[i.year,Xi(t.map(function(t){return t/31536e6}),e)[2]]:r?i[n/Zl[r-1]<Zl[r]/n?r-1:r]:[Xl,Xi(t,e)[2]]}return o.invert=function(t){return io(e.invert(t))},o.domain=function(t){return arguments.length?(e.domain(t),o):e.domain().map(io)},o.nice=function(e,n){function r(t){return!isNaN(t)&&!e.range(t,io(+t+1),n).length}var t=o.domain(),i=Bi(t),a=null==e?s(i,10
):"number"==typeof e&&s(i,e);return a&&(e=a[0],n=a[1]),o.domain(Wi(t,1<n?{floor:function(t){for(;r(t=e.floor(t));)t=io(t-1);return t},ceil:function(t){for(;r(t=e.ceil(t));)t=io(+t+1);return t}}:e))},o.ticks=function(t,e){var n=Bi(o.domain()),r=null==t?s(n,10):"number"==typeof t?s(n,t):!t.range&&[{range:t},e];return r&&(t=r[0],e=r[1]),t.range(n[0],io(+n[1]+1),e<1?1:e)},o.tickFormat=function(){return t},o.copy=function(){return ro(e.copy(),i,t)},Ji(o,e)}function io(t){return new Date(t)}function ao(t){return JSON.parse(t.responseText)}function oo(t){var e=co.createRange();return e.selectNode(co.body),e.createContextualFragment(t.responseText)}var so={version:"3.5.15"},lo=[].slice,uo=function(t){return lo.call(t)},co=this.document;if(co)try{uo(co.documentElement.childNodes)[0].nodeType}catch(eu){uo=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}if(Date.now||(Date.now=function(){return+new Date}),co)try{co.createElement("DIV").style.setProperty("opacity",0,"")}catch(nu){var ho=this.Element.prototype,fo=ho.setAttribute,po=ho.setAttributeNS,go=this.CSSStyleDeclaration.prototype,vo=go.setProperty;ho.setAttribute=function(t,e){fo.call(this,t,e+"")},ho.setAttributeNS=function(t,e,n){po.call(this,t,e,n+"")},go.setProperty=function(t,e,n){vo.call(this,t,e+"",n)}}so.ascending=o,so.descending=function(t,e){return e<t?-1:t<e?1:t<=e?0:NaN},so.min=function(t,e){var n,r,i=-1,a=t.length;if(1===arguments.length){for(;++i<a;)if(null!=(r=t[i])&&r<=r){n=r;break}for(;++i<a;)null!=(r=t[i])&&r<n&&(n=r)}else{for(;++i<a;)if(null!=(r=e.call(t,t[i],i))&&r<=r){n=r;break}for(;++i<a;)null!=(r=e.call(t,t[i],i))&&r<n&&(n=r)}return n},so.max=function(t,e){var n,r,i=-1,a=t.length;if(1===arguments.length){for(;++i<a;)if(null!=(r=t[i])&&r<=r){n=r;break}for(;++i<a;)null!=(r=t[i])&&n<r&&(n=r)}else{for(;++i<a;)if(null!=(r=e.call(t,t[i],i))&&r<=r){n=r;break}for(;++i<a;)null!=(r=e.call(t,t[i],i))&&n<r&&(n=r)}return n},so.extent=function(t,e){var n,r,i,a=-1,o=t.length;if(1===arguments.length){for(;++a<o;)if(null!=(r=t[a])&&r<=r){n=i=r;break}for(;++a<o;)null!=(r=t[a])&&(r<n&&(n=r),i<r&&(i=r))}else{for(;++a<o;)if(null!=(r=e.call(t,t[a],a))&&r<=r){n=i=r;break}for(;++a<o;)null!=(r=e.call(t,t[a],a))&&(r<n&&(n=r),i<r&&(i=r))}return[n,i]},so.sum=function(t,e){var n,r=0,i=t.length,a=-1;if(1===arguments.length)for(;++a<i;)c(n=+t[a])&&(r+=n);else for(;++a<i;)c(n=+e.call(t,t[a],a))&&(r+=n);return r},so.mean=function(t,e){var n,r=0,i=t.length,a=-1,o=i;if(1===arguments.length)for(;++a<i;)c(n=u(t[a]))?r+=n:--o;else for(;++a<i;)c(n=u(e.call(t,t[a],a)))?r+=n:--o;return o?r/o:void 0},so.quantile=function(t,e){var n=(t.length-1)*e+1,r=Math.floor(n),i=+t[r-1],a=n-r;return a?i+a*(t[r]-i):i},so.median=function(t,e){var n,r=[],i=t.length,a=-1;if(1===arguments.length)for(;++a<i;)c(n=u(t[a]))&&r.push(n);else for(;++a<i;)c(n=u(e.call(t,t[a],a)))&&r.push(n);return r.length?so.quantile(r.sort(o),.5):void 0},so.variance=function(t,e){var n,r,i=t.length,a=0,o=0,s=-1,l=0;if(1===arguments.length)for(;++s<i;)c(n=u(t[s]))&&(o+=(r=n-a)*(n-(a+=r/++l)));else for(;++s<i;)c(n=u(e.call(t,t[s],s)))&&(o+=(r=n-a)*(n-(a+=r/++l)));return 1<l?o/(l-1):void 0},so.deviation=function(){var t=so.variance.apply(this,arguments);return t?Math.sqrt(t):t};var mo=t(o);so.bisectLeft=mo.left,so.bisect=so.bisectRight=mo.right,so.bisector=function(n){return t(1===n.length?function(t,e){return o(n(t),e)}:n)},so.shuffle=function(t,e,n){(a=arguments.length)<3&&(n=t.length,a<2&&(e=0));for(var r,i,a=n-e;a;)i=Math.random()*a--|0,r=t[a+e],t[a+e]=t[i+e],t[i+e]=r;return t},so.permute=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},so.pairs=function(t){for(var e=0,n=t.length-1,r=t[0],i=new Array(n<0?0:n);e<n;)i[e]=[r,r=t[++e]];return i},so.transpose=function(t){if(!(i=t.length))return[];for(var e=-1,n=so.min(t,l),r=new Array(n);++e<n;)for(var i,a=-1,o=r[e]=new Array(i);++a<i;)o[a]=t[a][e];return r},so.zip=function(){return so.transpose(arguments)},so.keys=function(t){var e=[];for(var n in t)e.push(n);return e},so.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},so.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},so.merge=function(t){for(var e,n,r,i=t.length,a=-1,o=0;++a<i;)o+=t[a].length;for(n=new Array(o);0<=--i;)for(e=(r=t[i]).length;0<=--e;)n[--o]=r[e];return n};var yo=Math.abs;so.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n==1/0)throw new Error("infinite range");var r,i=[],a=h(yo(n)),o=-1;if(t*=a,e*=a,(n*=a)<0)for(;(r=t+n*++o)>e;)i.push(r/a);else for(;(r=t+n*++o)<e;)i.push(r/a);return i},so.map=function(t,e){var n=new y;if(t instanceof y)t.forEach(function(t,e){n.set(t,e)});else if(Array.isArray(t)){var r,i=-1,a=t.length;if(1===arguments.length)for(;++i<a;)n.set(i,t[i]);else for(;++i<a;)n.set(e.call(t,r=t[i],i),r)}else for(var o in t)n.set(o,t[o]);return n};var bo="__proto__",wo="\0";e(y,{has:i,get:function(t){return this._[n(t)]},set:function(t,e){return this._[n(t)]=e},remove:a,keys:f,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:r(e),value:this._[e]});return t},size:d,empty:p,forEach:function(t){for(var e in this._)t.call(this,r(e),this._[e])}}),so.nest=function(){function h(n,t,r){if(r>=g.length)return d?d.call(p,t):f?t.sort(f):t;for(var e,i,a,o,s=-1,l=t.length,u=g[r++],c=new y;++s<l;)(o=c.get(e=u(i=t[s])))?o.push(i):c.set(e,[i]);return n?(i=n(),a=function(t,e){i.set(t,h(n,e,r))}):(i={},a=function(t,e){i[t]=h(n,e,r)}),c.forEach(a),i}function a(t,n){if(n>=g.length)return t;var r=[],i=e[n++];return t.forEach(function(t,e){r.push({key:t,values:a(e,n)})}),i?r.sort(function(t,e){return i(t.key,e.key)}):r}var f,d,p={},g=[],e=[];return p.map=function(t,e){return h(e,t,0)},p.entries=function(t){return a(h(so.map,t,0),0)},p.key=function(t){return g.push(t),p},p.sortKeys=function(t){return e[g.length-1]=t,p},p.sortValues=function(t){return f=t,p},p.rollup=function(t){return d=t,p},p},so.set=function(t){var e=new g;if(t)for(var n=0,r=t.length;n<r;++n)e.add(t[n]);return e},e(g,{has:i,add:function(t){return this._[n(t+="")]=!0,t},remove:a,values:f,size:d,empty:p,forEach:function(t){for(var e in this._)t.call(this,r(e))}}),so.behavior={},so.rebind=function(t,e){for(var n,r=1,i=arguments.length;++r<i;)t[n=arguments[r]]=v(t,e,e[n]);return t};var xo=["webkit","ms","moz","Moz","o","O"];so.dispatch=function(){for(var t=new b,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=x(t);return t},b.prototype.on=function(t,e){var n=t.indexOf("."),r="";if(0<=n&&(r=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(r):this[t].on(r,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(r,null);return this}},so.event=null,so.requote=function(t){return t.replace(Mo,"\\$&")};var Mo=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,_o={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]},Co=function(t,e){return e.querySelector(t)},ko=function(t,e){return e.querySelectorAll(t)},So=function(t,e){var n=t.matches||t[m(t,"matchesSelector")];return(So=function(t,e){return n.call(t,e)})(t,e)};"function"==typeof Sizzle&&(Co=function(t,e){return Sizzle(t,e)[0]||null},ko=Sizzle,So=Sizzle.matchesSelector),so.selection=function(){return so.select(co.documentElement)};var To=so.selection.prototype=[];To.select=function(t){var e,n,r,i,a=[];t=C(t);for(var o=-1,s=this.length;++o<s;){a.push(e=[]),e.parentNode=(r=this[o]).parentNode;for(var l=-1,u=r.length;++l<u;)(i=r[l])?(e.push(n=t.call(i,i.__data__,l,o)),n&&"__data__"in i&&(n.__data__=i.__data__)):e.push(null)}return _(a)},To.selectAll=function(t){var e,n,r=[];t=k(t);for(var i=-1,a=this.length;++i<a;)for(var o=this[i],s=-1,l=o.length;++s<l;)(n=o[s])&&(r.push(e=uo(t.call(n,n.__data__,s,i))),e.parentNode=n);return _(r)};var $o={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};so.ns={prefix:$o,qualify:function(t){var e=t.indexOf(":"),n=t;return 0<=e&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),$o.hasOwnProperty(n)?{space:$o[n],local:t}:t}},To.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return(t=so.ns.qualify(t)).local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(S(e,t[e]));return this}return this.each(S(t,e))},To.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),r=(t=A(t)).length,i=-1;if(e=n.classList){for(;++i<r;)if(!e.contains(t[i]))return!1}else for(e=n.getAttribute("class");++i<r;)if(!$(t[i]).test(e))return!1;return!0}for(e in t)this.each(N(e,t[e]));return this}return this.each(N(t,e))},To.style=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){for(n in r<2&&(e=""),t)this.each(P(n,t[n],e));return this}if(r<2){var i=this.node();return L(i).getComputedStyle(i,null).getPropertyValue(t)}n=""}return this.each(P(t,e,n))},To.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(R(e,t[e]));return this}return this.each(R(t,e))},To.text=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}:null==e?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},To.html=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},To.append=function(t){return t=D(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},To.insert=function(t,e){return t=D(t),e=C(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},To.remove=function(){return this.each(q)},To.data=function(t,p){function e(t,e){var n,r,i,a=t.length,o=e.length,s=Math.min(a,o),l=new Array(o),u=new Array(o),c=new Array(a);if(p){var h,f=new y,d=new Array(a);for(n=-1;++n<a;)(r=t[n])&&(f.has(h=p.call(r,r.__data__,n))?c[n]=r:f.set(h,r),d[n]=h);for(n=-1;++n<o;)(r=f.get(h=p.call(e,i=e[n],n)))?!0!==r&&((l[n]=r).__data__=i):u[n]=F(i),f.set(h,!0);for(n=-1;++n<a;)n in d&&!0!==f.get(d[n])&&(c[n]=t[n])}else{for(n=-1;++n<s;)r=t[n],i=e[n],r?(r.__data__=i,l[n]=r):u[n]=F(i);for(;n<o;++n)u[n]=F(e[n]);for(;n<a;++n)c[n]=t[n]}u.update=l,u.parentNode=l.parentNode=c.parentNode=t.parentNode,g.push(u),v.push(l),m.push(c)}var n,r,i=-1,a=this.length;if(!arguments.length){for(t=new Array(a=(n=this[0]).length);++i<a;)(r=n[i])&&(t[i]=r.__data__);return t}var g=U([]),v=_([]),m=_([]);if("function"==typeof t)for(;++i<a;)e(n=this[i],t.call(n,n.parentNode.__data__,i));else for(;++i<a;)e(n=this[i],t);return v.enter=function(){return g},v.exit=function(){return m},v},To.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},To.filter=function(t){var e,n,r,i=[];"function"!=typeof t&&(t=H(t));for(var a=0,o=this.length;a<o;a++){i.push(e=[]),e.parentNode=(n=this[a]).parentNode;for(var s=0,l=n.length;s<l;s++)(r=n[s])&&t.call(r,r.__data__,s,a)&&e.push(r)}return _(i)},To.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,r=this[t],i=r.length-1,a=r[i];0<=--i;)(n=r[i])&&(a&&a!==n.nextSibling&&a.parentNode.insertBefore(n,a),a=n);return this},To.sort=function(t){t=O.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},To.each=function(r){return B(this,function(t,e,n){r.call(t,t.__data__,e,n)})},To.call=function(t){var e=uo(arguments);return t.apply(e[0]=this,e),this},To.empty=function(){return!this.node()},To.node=function(){for(var t=0,e=this.length;t<e;t++)for(var n=this[t],r=0,i=n.length;r<i;r++){var a=n[r];if(a)return a}return null},To.size=function(){var t=0;return B(this,function(){++t}),t};var Ao=[];so.selection.enter=U,(so.selection.enter.prototype=Ao).append=To.append,Ao.empty=To.empty,Ao.node=To.node,Ao.call=To.call,Ao.size=To.size,Ao.select=function(t){for(var e,n,r,i,a,o=[],s=-1,l=this.length;++s<l;){r=(i=this[s]).update,o.push(e=[]),e.parentNode=i.parentNode;for(var u=-1,c=i.length;++u<c;)(a=i[u])?(e.push(r[u]=n=t.call(i.parentNode,a.__data__,u,s)),n.__data__=a.__data__):e.push(null)}return _(o)},Ao.insert=function(t,e){return arguments.length<2&&(e=V(this)),To.insert.call(this,t,e)},so.select=function(t){var e;return"string"==typeof t?(e=[Co(t,co)]).parentNode=co.documentElement:(e=[t]).parentNode=s(t),_([e])},so.selectAll=function(t){var e;return"string"==typeof t?(e=uo(ko(t,co))).parentNode=co.documentElement:(e=uo(t)).parentNode=null,_([e])},To.on=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){for(n in r<2&&(e=!1),t)this.each(W(n,t[n],e));return this}if(r<2)return(r=this.node()["__on"+t])&&r._;n=!1}return this.each(W(t,e,n))};var No=so.map({mouseenter:"mouseover",mouseleave:"mouseout"});co&&No.forEach(function(t){"on"+t in co&&No.remove(t)});var Eo,Po=0;so.mouse=function(t){return J(t,M())};var Ro=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;so.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=M().changedTouches),e)for(var r,i=0,a=e.length;i<a;++i)if((r=e[i]).identifier===n)return J(t,r)},so.behavior.drag=function(){function e(){this.on("mousedown.drag",n).on("touchstart.drag",r)}function t(d,p,g,v,m){return function(){function t(){var t,e,n=p(a,l);n&&(t=n[0]-f[0],e=n[1]-f[1],s|=t|e,o({type:"drag",x:(f=n)[0]+r[0],y:n[1]+r[1],dx:t,dy:e}))}function e(){p(a,l)&&(c.on(v+u,null).on(m+u,null),h(s),o({type:"dragend"}))}var r,n=this,i=so.event.target.correspondingElement||so.event.target,a=n.parentNode,o=y.of(n,arguments),s=0,l=d(),u=".drag"+(null==l?"":"-"+l),c=so.select(g(i)).on(v+u,t).on(m+u,e),h=Z(i),f=p(a,l);b?r=[(r=b.apply(n,arguments)).x-f[0],r.y-f[1]]:r=[0,0],o({type:"dragstart"})}}var y=j(e,"drag","dragstart","dragend"),b=null,n=t(w,so.mouse,L,"mousemove","mouseup"),r=t(G,so.touch,I,"touchmove","touchend");return e.origin=function(t){return arguments.length?(b=t,e):b},so.rebind(e,y,"on")},so.touches=function(n,t){return arguments.length<2&&(t=M().touches),t?uo(t).map(function(t){var e=J(n,t);return e.identifier=t.identifier,e}):[]};var Lo=1e-6,Io=Lo*Lo,zo=Math.PI,jo=2*zo,Do=jo-Lo,qo=zo/2,Fo=zo/180,Ho=180/zo,Oo=Math.SQRT2,Bo=2,Uo=4;so.interpolateZoom=function(t,e){var n,i,a=t[0],o=t[1],s=t[2],r=e[0],l=e[1],u=e[2],c=r-a,h=l-o,f=c*c+h*h;if(f<Io)i=Math.log(u/s)/Oo,n=function(t){return[a+t*c,o+t*h,s*Math.exp(Oo*t*i)]};else{var d=Math.sqrt(f),p=(u*u-s*s+Uo*f)/(2*s*Bo*d),g=(u*u-s*s-Uo*f)/(2*u*Bo*d),v=Math.log(Math.sqrt(p*p+1)-p),m=Math.log(Math.sqrt(g*g+1)-g);i=(m-v)/Oo,n=function(t){var e=t*i,n=rt(v),r=s/(Bo*d)*(n*it(Oo*e+v)-nt(v));return[a+r*c,o+r*h,s*n/rt(Oo*e+v)]}}return n.duration=1e3*i,n},so.behavior.zoom=function(){function i(t){t.on(A,s).on(Wo+".zoom",r).on("dblclick.zoom",a).on(P,S)}function l(t){return[(t[0]-$.x)/$.k,(t[1]-$.y)/$.k]}function n(t){return[t[0]*$.k+$.x,t[1]*$.k+$.y]}function w(t){$.k=Math.max(m[0],Math.min(m[1],t))}function x(t,e){e=n(e),$.x+=t[0]-e[0],$.y+=t[1]-e[1]}function M(t,e,n,r){t.__chart__={x:$.x,y:$.y,k:$.k},w(Math.pow(2,r)),x(u=e,n),t=so.select(t),0<y&&(t=t.transition().duration(y)),t.call(i.event)}function e(){d&&d.domain(f.range().map(function(t){return(t-$.x)/$.k}).map(f.invert)),g&&g.domain(p.range().map(function(t){return(t-$.y)/$.k}).map(p.invert))}function _(t){b++||t({type:"zoomstart"})}function C(t){e(),t({type:"zoom",scale:$.k,translate:[$.x,$.y]})}function k(t){--b||(t({type:"zoomend"}),u=null)}function s(){function t(){i=1,x(so.mouse(n),o),C(r)}function e(){a.on(N,null).on(E,null),s(i),k(r)}var n=this,r=R.of(n,arguments),i=0,a=so.select(L(n)).on(N,t).on(E,e),o=l(so.mouse(n)),s=Z(n);ql.call(n),_(r)}function S(){function c(){var t=so.touches(d);return u=$.k,t.forEach(function(t){t.identifier in g&&(g[t.identifier]=l(t))}),t}function t(){var t=so.event.target;so.select(t).on(m,h).on(y,f),b.push(t);for(var e=so.event.changedTouches,n=0,r=e.length;n<r;++n)g[e[n].identifier]=null;var i=c(),a=Date.now();if(1===i.length){if(a-T<500){var o=i[0];M(d,o,g[o.identifier],Math.floor(Math.log($.k)/Math.LN2)+1),z()}T=a}else if(1<i.length){o=i[0];var s=i[1],l=o[0]-s[0],u=o[1]-s[1];v=l*l+u*u}}function h(){var t,e,n,r,i=so.touches(d);ql.call(d);for(var a=0,o=i.length;a<o;++a,r=null)if(n=i[a],r=g[n.identifier]){if(e)break;t=n,e=r}if(r){var s=(s=n[0]-t[0])*s+(s=n[1]-t[1])*s,l=v&&Math.sqrt(s/v);t=[(t[0]+n[0])/2,(t[1]+n[1])/2],e=[(e[0]+r[0])/2,(e[1]+r[1])/2],w(l*u)}T=null,x(t,e),C(p)}function f(){if(so.event.touches.length){for(var t=so.event.changedTouches,e=0,n=t.length;e<n;++e)delete g[t[e].identifier];for(var r in g)return void c()}so.selectAll(b).on(i,null),a.on(A,s).on(P,S),o(),k(p)}var u,d=this,p=R.of(d,arguments),g={},v=0,i=".zoom-"+so.event.changedTouches[0].identifier,m="touchmove"+i,y="touchend"+i,b=[],a=so.select(d),o=Z(d);t(),_(p),a.on(A,null).on(P,t)}function r(){var t=R.of(this,arguments);h?clearTimeout(h):(ql.call(this),o=l(u=c||so.mouse(this)),_(t)),h=setTimeout(function(){h=null,k(t)},50),z(),w(Math.pow(2,.002*Vo())*$.k),x(u,o),C(t)}function a(){var t=so.mouse(this),e=Math.log($.k)/Math.LN2;M(this,t,l(t),so.event.shiftKey?Math.ceil(e)-1:Math.floor(e)+1)}var o,u,c,h,T,f,d,p,g,$={x:0,y:0,k:1},v=[960,500],m=Yo,y=250,b=0,A="mousedown.zoom",N="mousemove.zoom",E="mouseup.zoom",P="touchstart.zoom",R=j(i,"zoomstart","zoom","zoomend");return Wo||(Wo="onwheel"in co?(Vo=function(){return-so.event.deltaY*(so.event.deltaMode?120:1)},"wheel"):"onmousewheel"in co?(Vo=function(){return so.event.wheelDelta},"mousewheel"):(Vo=function(){return-so.event.detail},"MozMousePixelScroll")),i.event=function(t){t.each(function(){var s=R.of(this,arguments),e=$;jl?so.select(this).transition().each("start.zoom",function(){$=this.__chart__||{x:0,y:0,k:1},_(s)}).tween("zoom:zoom",function(){var r=v[0],t=v[1],i=u?u[0]:r/2,a=u?u[1]:t/2,o=so.interpolateZoom([(i-$.x)/$.k,(a-$.y)/$.k,r/$.k],[(i-e.x)/e.k,(a-e.y)/e.k,r/e.k]);return function(t){var e=o(t),n=r/e[2];this.__chart__=$={x:i-e[0]*n,y:a-e[1]*n,k:n},C(s)}}).each("interrupt.zoom",function(){k(s)}).each("end.zoom",function(){k(s)}):(this.__chart__=$,_(s),C(s),k(s))})},i.translate=function(t){return arguments.length?($={x:+t[0],y:+t[1],k:$.k},e(),i):[$.x,$.y]},i.scale=function(t){return arguments.length?($={x:$.x,y:$.y,k:null},w(+t),e(),i):$.k},i.scaleExtent=function(t){return arguments.length?(m=null==t?Yo:[+t[0],+t[1]],i):m},i.center=function(t){return arguments.length?(c=t&&[+t[0],+t[1]],i):c},i.size=function(t){return arguments.length?(v=t&&[+t[0],+t[1]],i):v},i.duration=function(t){return arguments.length?(y=+t,i):y},i.x=function(t){return arguments.length?(f=(d=t).copy(),$={x:0,y:0,k:1},i):d},i.y=function(t){return arguments.length?(p=(g=t).copy(),$={x:0,y:0,k:1},i):g},so.rebind(i,R,"on")};var Vo,Wo,Yo=[0,1/0];(so.color=ot).prototype.toString=function(){return this.rgb()+""};var Qo=(so.hsl=st).prototype=new ot;Qo.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new st(this.h,this.s,this.l/t)},Qo.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new st(this.h,this.s,t*this.l)},Qo.rgb=function(){return lt(this.h,this.s,this.l)};var Zo=(so.hcl=ut).prototype=new ot;Zo.brighter=function(t){return new ut(this.h,this.c,Math.min(100,this.l+Jo*(arguments.length?t:1)))},Zo.darker=function(t){return new ut(this.h,this.c,Math.max(0,this.l-Jo*(arguments.length?t:1)))},Zo.rgb=function(){return ct(this.h,this.c,this.l).rgb()},so.lab=ht;var Jo=18,Go=.95047,Xo=1,Ko=1.08883,ts=ht.prototype=new ot;ts.brighter=function(t){return new ht(Math.min(100,this.l+Jo*(arguments.length?t:1)),this.a,this.b)},ts.darker=function(t){return new ht(Math.max(0,this.l-Jo*(arguments.length?t:1)),this.a,this.b)},ts.rgb=function(){return ft(this.l,this.a,this.b)};var es=(so.rgb=mt).prototype=new ot;es.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,r=this.b,i=30;return e||n||r?(e&&e<i&&(e=i),n&&n<i&&(n=i),r&&r<i&&(r=i),new mt(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,r/t))):new mt(i,i,i)},es.darker=function(t){return new mt((t=Math.pow(.7,arguments.length?t:1))*this.r,t*this.g,t*this.b)},es.hsl=function(){return Mt(this.r,this.g,this.b)},es.toString=function(){return"#"+wt(this.r)+wt(this.g)+wt(this.b)};var ns=so.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});ns.forEach(function(t,e){ns.set(t,yt(e))}),so.functor=St,so.xhr=Tt(I),so.dsv=function(i,a){function o(t,e,n){arguments.length<3&&(n=e,e=null);var r=$t(t,a,null==e?s:l(e),n);return r.row=function(t){return arguments.length?r.response(null==(e=t)?s:l(t)):e},r}function s(t){return o.parse(t.responseText)}function l(e){return function(t){return o.parse(t.responseText,e)}}function e(t){return t.map(u).join(i)}function u(t){return n.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var n=new RegExp('["'+i+"\n]"),f=i.charCodeAt(0);return o.parse=function(t,r){var i;return o.parseRows(t,function(t,e){if(i)return i(t,e-1);var n=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");i=r?function(t,e){return r(n(t),e)}:n})},o.parseRows=function(i,t){function e(){if(l<=u)return s;if(a)return a=!1,o;var t=u;if(34===i.charCodeAt(t)){for(var e=t;e++<l;)if(34===i.charCodeAt(e)){if(34!==i.charCodeAt(e+1))break;++e}return u=e+2,13===(n=i.charCodeAt(e+1))?(a=!0,10===i.charCodeAt(e+2)&&++u):10===n&&(a=!0),i.slice(t+1,e).replace(/""/g,'"')}for(;u<l;){var n,r=1;if(10===(n=i.charCodeAt(u++)))a=!0;else if(13===n)a=!0,10===i.charCodeAt(u)&&(++u,++r);else if(n!==f)continue;return i.slice(t,u-r)}return i.slice(t)}for(var n,a,o={},s={},r=[],l=i.length,u=0,c=0;(n=e())!==s;){for(var h=[];n!==o&&n!==s;)h.push(n),n=e();t&&null==(h=t(h,c++))||r.push(h)}return r},o.format=function(t){if(Array.isArray(t[0]))return o.formatRows(t);var n=new g,r=[];return t.forEach(function(t){for(var e in t)n.has(e)||r.push(n.add(e))}),[r.map(u).join(i)].concat(t.map(function(e){return r.map(function(t){return u(e[t])}).join(i)})).join("\n")},o.formatRows=function(t){return t.map(e).join("\n")},o},so.csv=so.dsv(",","text/csv"),so.tsv=so.dsv("\t","text/tab-separated-values");var rs,is,as,os,ss=this[m(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};so.timer=function(){Et.apply(this,arguments)},so.timer.flush=function(){Rt(),Lt()},so.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var ls=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"].map(zt);so.formatPrefix=function(t,e){var n=0;return(t=+t)&&(t<0&&(t*=-1),e&&(t=so.round(t,It(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),ls[8+n/3]};var us=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,cs=so.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=so.round(t,It(t,e))).toFixed(Math.max(0,Math.min(20,It(t*(1+1e-15),e))))}}),hs=so.time={},fs=Date;qt.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){ds.setUTCDate.apply(this._,arguments)},setDay:function(){ds.setUTCDay.apply(this._,arguments)},setFullYear:function(){ds.setUTCFullYear.apply(this._,arguments)},setHours:function(){ds.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){ds.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){ds.setUTCMinutes.apply(this._,arguments)},setMonth:function(){ds.setUTCMonth.apply(this._,arguments)},setSeconds:function(){ds.setUTCSeconds.apply(this._,arguments)},setTime:function(){ds.setTime.apply(this._,arguments)}};var ds=Date.prototype;hs.year=Ft(function(t){return(t=hs.day(t)).setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),hs.years=hs.year.range,hs.years.utc=hs.year.utc.range,hs.day=Ft(function(t){var e=new fs(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),hs.days=hs.day.range,hs.days.utc=hs.day.utc.range,hs.dayOfYear=function(t){var e=hs.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,n){n=7-n;var e=hs[t]=Ft(function(t){return(t=hs.day(t)).setDate(t.getDate()-(t.getDay()+n)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var e=hs.year(t).getDay();return Math.floor((hs.dayOfYear(t)+(e+n)%7)/7)-(e!==n)});hs[t+"s"]=e.range,hs[t+"s"].utc=e.utc.range,hs[t+"OfYear"]=function(t){var e=hs.year(t).getDay();return Math.floor((hs.dayOfYear(t)+(e+n)%7)/7)}}),hs.week=hs.sunday,hs.weeks=hs.sunday.range,hs.weeks.utc=hs.sunday.utc.range,hs.weekOfYear=hs.sundayOfYear;var ps={"-":"",_:" ",0:"0"},gs=/^\s*\d+/,vs=/^%/;so.locale=function(t){return{numberFormat:jt(t),timeFormat:Ot(t)}};var ms=so.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});so.format=ms.numberFormat,so.geo={},ue.prototype={s:0,t:0,add:function(t){ce(t,this.t,ys),ce(ys.s,this.s,this),this.s?this.t+=ys.t:this.s=ys.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var ys=new ue;so.geo.stream=function(t,e){t&&bs.hasOwnProperty(t.type)?bs[t.type](t,e):he(t,e)};var bs={Feature:function(t,e){he(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)he(n[r].geometry,e)}},ws={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){fe(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)fe(n[r],e,0)},Polygon:function(t,e){de(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)de(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)he(n[r],e)}};so.geo.area=function(t){return xs=0,so.geo.stream(t,_s),xs};var xs,Ms=new ue,_s={sphere:function(){xs+=4*zo},point:w,lineStart:w,lineEnd:w,polygonStart:function(){Ms.reset(),_s.lineStart=pe},polygonEnd:function(){var t=2*Ms;xs+=t<0?4*zo+t:t,_s.lineStart=_s.lineEnd=_s.point=w}};so.geo.bounds=function(){function c(t,e){b.push(w=[f=t,p=t]),e<d&&(d=e),g<e&&(g=e)}function r(t,e){var n=ge([t*Fo,e*Fo]);if(m){var r=me(m,n),i=me([r[1],-r[0],0],r);we(i),i=xe(i);var a=t-v,o=0<a?1:-1,s=i[0]*Ho*o,l=180<yo(a);if(l^(o*v<s&&s<o*t)){var u=i[1]*Ho;g<u&&(g=u)}else if(l^(o*v<(s=(s+360)%360-180)&&s<o*t)){(u=-i[1]*Ho)<d&&(d=u)}else e<d&&(d=e),g<e&&(g=e);l?t<v?h(f,t)>h(f,p)&&(p=t):h(t,p)>h(f,p)&&(f=t):f<=p?(t<f&&(f=t),p<t&&(p=t)):v<t?h(f,t)>h(f,p)&&(p=t):h(t,p)>h(f,p)&&(f=t)}else c(t,e);m=n,v=t}function t(){x.point=r}function e(){w[0]=f,w[1]=p,x.point=c,m=null}function n(t,e){if(m){var n=t-v;y+=180<yo(n)?n+(0<n?360:-360):n}else o=t,s=e;_s.point(t,e),r(t,e)}function i(){_s.lineStart()}function a(){n(o,s),_s.lineEnd(),yo(y)>Lo&&(f=-(p=180)),w[0]=f,w[1]=p,m=null}function h(t,e){return(e-=t)<0?e+360:e}function l(t,e){return t[0]-e[0]}function u(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var f,d,p,g,v,o,s,m,y,b,w,x={point:c,lineStart:t,lineEnd:e,polygonStart:function(){x.point=n,x.lineStart=i,x.lineEnd=a,y=0,_s.polygonStart()},polygonEnd:function(){_s.polygonEnd(),x.point=c,x.lineStart=t,x.lineEnd=e,Ms<0?(f=-(p=180),d=-(g=90)):Lo<y?g=90:y<-Lo&&(d=-90),w[0]=f,w[1]=p}};return function(t){if(g=p=-(f=d=1/0),b=[],so.geo.stream(t,x),a=b.length){b.sort(l);for(var e=1,n=[s=b[0]];e<a;++e)u((i=b[e])[0],s)||u(i[1],s)?(h(s[0],i[1])>h(s[0],s[1])&&(s[1]=i[1]),h(i[0],s[1])>h(s[0],s[1])&&(s[0]=i[0])):n.push(s=i);for(var r,i,a,o=-1/0,s=(e=0,n[a=n.length-1]);e<=a;s=i,++e)i=n[e],(r=h(s[1],i[0]))>o&&(o=r,f=i[0],p=s[1])}return b=w=null,f===1/0||d===1/0?[[NaN,NaN],[NaN,NaN]]:[[f,d],[p,g]]}}(),so.geo.centroid=function(t){Cs=ks=Ss=Ts=$s=As=Ns=Es=Ps=Rs=Ls=0,so.geo.stream(t,Is);var e=Ps,n=Rs,r=Ls,i=e*e+n*n+r*r;return i<Io&&(e=As,n=Ns,r=Es,ks<Lo&&(e=Ss,n=Ts,r=$s),(i=e*e+n*n+r*r)<Io)?[NaN,NaN]:[Math.atan2(n,e)*Ho,et(r/Math.sqrt(i))*Ho]};var Cs,ks,Ss,Ts,$s,As,Ns,Es,Ps,Rs,Ls,Is={sphere:w,point:_e,lineStart:ke,lineEnd:Se,polygonStart:function(){Is.lineStart=Te},polygonEnd:function(){Is.lineStart=ke}},zs=Re(Ae,je,qe,[-zo,-zo/2]),js=1e9;so.geo.clipExtent=function(){var e,n,r,i,a,o,s={stream:function(t){return a&&(a.valid=!1),(a=o(t)).valid=!0,a},extent:function(t){return arguments.length?(o=Be(e=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),a&&(a.valid=!1,a=null),s):[[e,n],[r,i]]}};return s.extent([[0,0],[960,500]])},(so.geo.conicEqualArea=function(){return Ue(Ve)}).raw=Ve,so.geo.albers=function(){return so.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},so.geo.albersUsa=function(){function i(t){var e=t[0],n=t[1];return r=null,a(e,n),r||(o(e,n),r)||s(e,n),r}
var r,a,o,s,l=so.geo.albers(),u=so.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),c=so.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),h={point:function(t,e){r=[t,e]}};return i.invert=function(t){var e=l.scale(),n=l.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(.12<=i&&i<.234&&-.425<=r&&r<-.214?u:.166<=i&&i<.234&&-.214<=r&&r<-.115?c:l).invert(t)},i.stream=function(t){var n=l.stream(t),r=u.stream(t),i=c.stream(t);return{point:function(t,e){n.point(t,e),r.point(t,e),i.point(t,e)},sphere:function(){n.sphere(),r.sphere(),i.sphere()},lineStart:function(){n.lineStart(),r.lineStart(),i.lineStart()},lineEnd:function(){n.lineEnd(),r.lineEnd(),i.lineEnd()},polygonStart:function(){n.polygonStart(),r.polygonStart(),i.polygonStart()},polygonEnd:function(){n.polygonEnd(),r.polygonEnd(),i.polygonEnd()}}},i.precision=function(t){return arguments.length?(l.precision(t),u.precision(t),c.precision(t),i):l.precision()},i.scale=function(t){return arguments.length?(l.scale(t),u.scale(.35*t),c.scale(t),i.translate(l.translate())):l.scale()},i.translate=function(t){if(!arguments.length)return l.translate();var e=l.scale(),n=+t[0],r=+t[1];return a=l.translate(t).clipExtent([[n-.455*e,r-.238*e],[n+.455*e,r+.238*e]]).stream(h).point,o=u.translate([n-.307*e,r+.201*e]).clipExtent([[n-.425*e+Lo,r+.12*e+Lo],[n-.214*e-Lo,r+.234*e-Lo]]).stream(h).point,s=c.translate([n-.205*e,r+.212*e]).clipExtent([[n-.214*e+Lo,r+.166*e+Lo],[n-.115*e-Lo,r+.234*e-Lo]]).stream(h).point,i},i.scale(1070)};var Ds,qs,Fs,Hs,Os,Bs,Us={point:w,lineStart:w,lineEnd:w,polygonStart:function(){qs=0,Us.lineStart=We},polygonEnd:function(){Us.lineStart=Us.lineEnd=Us.point=w,Ds+=yo(qs/2)}},Vs={point:Ye,lineStart:w,lineEnd:w,polygonStart:w,polygonEnd:w},Ws={point:Je,lineStart:Ge,lineEnd:Xe,polygonStart:function(){Ws.lineStart=Ke},polygonEnd:function(){Ws.point=Je,Ws.lineStart=Ge,Ws.lineEnd=Xe}};so.geo.path=function(){function e(t){return t&&("function"==typeof l&&o.pointRadius(+l.apply(this,arguments)),s&&s.valid||(s=a(o)),so.geo.stream(t,s)),o.result()}function n(){return s=null,e}var r,i,a,o,s,l=4.5;return e.area=function(t){return Ds=0,so.geo.stream(t,a(Us)),Ds},e.centroid=function(t){return Ss=Ts=$s=As=Ns=Es=Ps=Rs=Ls=0,so.geo.stream(t,a(Ws)),Ls?[Ps/Ls,Rs/Ls]:Es?[As/Es,Ns/Es]:$s?[Ss/$s,Ts/$s]:[NaN,NaN]},e.bounds=function(t){return Os=Bs=-(Fs=Hs=1/0),so.geo.stream(t,a(Vs)),[[Fs,Hs],[Os,Bs]]},e.projection=function(t){return arguments.length?(a=(r=t)?t.stream||nn(t):I,n()):r},e.context=function(t){return arguments.length?(o=null==(i=t)?new Qe:new tn(t),"function"!=typeof l&&o.pointRadius(l),n()):i},e.pointRadius=function(t){return arguments.length?(l="function"==typeof t?t:(o.pointRadius(+t),+t),e):l},e.projection(so.geo.albersUsa()).context(null)},so.geo.transform=function(r){return{stream:function(t){var e=new rn(t);for(var n in r)e[n]=r[n];return e}}},rn.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},so.geo.projection=on,so.geo.projectionMutator=sn,(so.geo.equirectangular=function(){return on(un)}).raw=un.invert=un,so.geo.rotation=function(e){function t(t){return(t=e(t[0]*Fo,t[1]*Fo))[0]*=Ho,t[1]*=Ho,t}return e=hn(e[0]%360*Fo,e[1]*Fo,2<e.length?e[2]*Fo:0),t.invert=function(t){return(t=e.invert(t[0]*Fo,t[1]*Fo))[0]*=Ho,t[1]*=Ho,t},t},cn.invert=un,so.geo.circle=function(){function e(){var t="function"==typeof a?a.apply(this,arguments):a,n=hn(-t[0]*Fo,-t[1]*Fo,0).invert,r=[];return i(null,null,1,{point:function(t,e){r.push(t=n(t,e)),t[0]*=Ho,t[1]*=Ho}}),{type:"Polygon",coordinates:[r]}}var n,i,a=[0,0],r=6;return e.origin=function(t){return arguments.length?(a=t,e):a},e.angle=function(t){return arguments.length?(i=gn((n=+t)*Fo,r*Fo),e):n},e.precision=function(t){return arguments.length?(i=gn(n*Fo,(r=+t)*Fo),e):r},e.angle(90)},so.geo.distance=function(t,e){var n,r=(e[0]-t[0])*Fo,i=t[1]*Fo,a=e[1]*Fo,o=Math.sin(r),s=Math.cos(r),l=Math.sin(i),u=Math.cos(i),c=Math.sin(a),h=Math.cos(a);return Math.atan2(Math.sqrt((n=h*o)*n+(n=u*c-l*h*s)*n),l*c+u*h*s)},so.geo.graticule=function(){function e(){return{type:"MultiLineString",coordinates:t()}}function t(){return so.range(Math.ceil(a/v)*v,i,v).map(f).concat(so.range(Math.ceil(u/m)*m,l,m).map(d)).concat(so.range(Math.ceil(r/p)*p,n,p).filter(function(t){return yo(t%v)>Lo}).map(c)).concat(so.range(Math.ceil(s/g)*g,o,g).filter(function(t){return yo(t%m)>Lo}).map(h))}var n,r,i,a,o,s,l,u,c,h,f,d,p=10,g=p,v=90,m=360,y=2.5;return e.lines=function(){return t().map(function(t){return{type:"LineString",coordinates:t}})},e.outline=function(){return{type:"Polygon",coordinates:[f(a).concat(d(l).slice(1),f(i).reverse().slice(1),d(u).reverse().slice(1))]}},e.extent=function(t){return arguments.length?e.majorExtent(t).minorExtent(t):e.minorExtent()},e.majorExtent=function(t){return arguments.length?(a=+t[0][0],i=+t[1][0],u=+t[0][1],l=+t[1][1],i<a&&(t=a,a=i,i=t),l<u&&(t=u,u=l,l=t),e.precision(y)):[[a,u],[i,l]]},e.minorExtent=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],s=+t[0][1],o=+t[1][1],n<r&&(t=r,r=n,n=t),o<s&&(t=s,s=o,o=t),e.precision(y)):[[r,s],[n,o]]},e.step=function(t){return arguments.length?e.majorStep(t).minorStep(t):e.minorStep()},e.majorStep=function(t){return arguments.length?(v=+t[0],m=+t[1],e):[v,m]},e.minorStep=function(t){return arguments.length?(p=+t[0],g=+t[1],e):[p,g]},e.precision=function(t){return arguments.length?(y=+t,c=mn(s,o,90),h=yn(r,n,y),f=mn(u,l,90),d=yn(a,i,y),e):y},e.majorExtent([[-180,-90+Lo],[180,90-Lo]]).minorExtent([[-180,-80-Lo],[180,80+Lo]])},so.geo.greatArc=function(){function e(){return{type:"LineString",coordinates:[n||i.apply(this,arguments),r||a.apply(this,arguments)]}}var n,r,i=bn,a=wn;return e.distance=function(){return so.geo.distance(n||i.apply(this,arguments),r||a.apply(this,arguments))},e.source=function(t){return arguments.length?(n="function"==typeof(i=t)?null:t,e):i},e.target=function(t){return arguments.length?(r="function"==typeof(a=t)?null:t,e):a},e.precision=function(){return arguments.length?e:0},e},so.geo.interpolate=function(t,e){return xn(t[0]*Fo,t[1]*Fo,e[0]*Fo,e[1]*Fo)},so.geo.length=function(t){return Ys=0,so.geo.stream(t,Qs),Ys};var Ys,Qs={sphere:w,point:w,lineStart:Mn,lineEnd:w,polygonStart:w,polygonEnd:w},Zs=_n(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(so.geo.azimuthalEqualArea=function(){return on(Zs)}).raw=Zs;var Js=_n(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},I);(so.geo.azimuthalEquidistant=function(){return on(Js)}).raw=Js,(so.geo.conicConformal=function(){return Ue(Cn)}).raw=Cn,(so.geo.conicEquidistant=function(){return Ue(kn)}).raw=kn;var Gs=_n(function(t){return 1/t},Math.atan);(so.geo.gnomonic=function(){return on(Gs)}).raw=Gs,Sn.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-qo]},(so.geo.mercator=function(){return Tn(Sn)}).raw=Sn;var Xs=_n(function(){return 1},Math.asin);(so.geo.orthographic=function(){return on(Xs)}).raw=Xs;var Ks=_n(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(so.geo.stereographic=function(){return on(Ks)}).raw=Ks,$n.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-qo]},(so.geo.transverseMercator=function(){var t=Tn($n),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return t?n([t[0],t[1],2<t.length?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90])}).raw=$n,so.geom={},so.geom.hull=function(t){function e(t){if(t.length<3)return[];var e,n=St(f),r=St(d),i=t.length,a=[],o=[];for(e=0;e<i;e++)a.push([+n.call(this,t[e],e),+r.call(this,t[e],e),e]);for(a.sort(Pn),e=0;e<i;e++)o.push([a[e][0],-a[e][1]]);var s=En(a),l=En(o),u=l[0]===s[0],c=l[l.length-1]===s[s.length-1],h=[];for(e=s.length-1;0<=e;--e)h.push(t[a[s[e]][2]]);for(e=+u;e<l.length-c;++e)h.push(t[a[l[e]][2]]);return h}var f=An,d=Nn;return arguments.length?e(t):(e.x=function(t){return arguments.length?(f=t,e):f},e.y=function(t){return arguments.length?(d=t,e):d},e)},so.geom.polygon=function(t){return _o(t,tl),t};var tl=so.geom.polygon.prototype=[];tl.area=function(){for(var t,e=-1,n=this.length,r=this[n-1],i=0;++e<n;)t=r,r=this[e],i+=t[1]*r[0]-t[0]*r[1];return.5*i},tl.centroid=function(t){var e,n,r=-1,i=this.length,a=0,o=0,s=this[i-1];for(arguments.length||(t=-1/(6*this.area()));++r<i;)e=s,s=this[r],n=e[0]*s[1]-s[0]*e[1],a+=(e[0]+s[0])*n,o+=(e[1]+s[1])*n;return[a*t,o*t]},tl.clip=function(t){for(var e,n,r,i,a,o,s=In(t),l=-1,u=this.length-In(this),c=this[u-1];++l<u;){for(e=t.slice(),t.length=0,i=this[l],a=e[(r=e.length-s)-1],n=-1;++n<r;)Rn(o=e[n],c,i)?(Rn(a,c,i)||t.push(Ln(a,o,c,i)),t.push(o)):Rn(a,c,i)&&t.push(Ln(a,o,c,i)),a=o;s&&t.push(t[0]),c=i}return t};var el,nl,rl,il,al,ol=[],sl=[];Bn.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)(t=e[n].edge).b&&t.a||e.splice(n,1);return e.sort(Vn),e.length},er.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},nr.prototype={insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=or(this._),e.P=null,(e.N=t).P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(ir(this,n),n=(t=n).U),n.C=!1,r.C=!0,ar(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(ar(this,n),n=(t=n).U),n.C=!1,r.C=!0,ir(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,a=t.L,o=t.R;if(n=a?o?or(o):a:o,i?i.L===t?i.L=n:i.R=n:this._=n,a&&o?(r=n.C,n.C=t.C,((n.L=a).U=n)!==o?(i=n.U,n.U=t.U,t=n.R,i.L=t,(n.R=o).U=n):(n.U=i,t=(i=n).R)):(r=t.C,t=n),t&&(t.U=i),!r){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,ir(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,ar(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,ir(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,ar(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,ir(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,ar(this,i),t=this._;break}e.C=!0,i=(t=i).U}while(!t.C);t&&(t.C=!1)}}},so.geom.voronoi=function(t){function e(i){var a=new Array(i.length),o=c[0][0],s=c[0][1],l=c[1][0],u=c[1][1];return sr(n(i),c).cells.forEach(function(t,e){var n=t.edges,r=t.site;(a[e]=n.length?n.map(function(t){var e=t.start();return[e.x,e.y]}):r.x>=o&&r.x<=l&&r.y>=s&&r.y<=u?[[o,u],[l,u],[l,s],[o,s]]:[]).point=i[e]}),a}function n(t){return t.map(function(t,e){return{x:Math.round(a(t,e)/Lo)*Lo,y:Math.round(o(t,e)/Lo)*Lo,i:e}})}var r=An,i=Nn,a=r,o=i,c=ll;return t?e(t):(e.links=function(e){return sr(n(e)).edges.filter(function(t){return t.l&&t.r}).map(function(t){return{source:e[t.l.i],target:e[t.r.i]}})},e.triangles=function(u){var c=[];return sr(n(u)).cells.forEach(function(t,e){for(var n,r=t.site,i=t.edges.sort(Vn),a=-1,o=i.length,s=i[o-1].edge,l=s.l===r?s.r:s.l;++a<o;)s,n=l,l=(s=i[a].edge).l===r?s.r:s.l,e<n.i&&e<l.i&&ur(r,n,l)<0&&c.push([u[e],u[n.i],u[l.i]])}),c},e.x=function(t){return arguments.length?(a=St(r=t),e):r},e.y=function(t){return arguments.length?(o=St(i=t),e):i},e.clipExtent=function(t){return arguments.length?(c=null==t?ll:t,e):c===ll?null:c},e.size=function(t){return arguments.length?e.clipExtent(t&&[[0,0],t]):c===ll?null:c&&c[1]},e)};var ll=[[-1e6,-1e6],[1e6,1e6]];so.geom.delaunay=function(t){return so.geom.voronoi().triangles(t)},so.geom.quadtree=function(t,b,w,x,M){function e(t){function d(t,e,n,r,i,a,o,s){if(!isNaN(n)&&!isNaN(r))if(t.leaf){var l=t.x,u=t.y;if(null!=l)if(yo(l-n)+yo(u-r)<.01)h(t,e,n,r,i,a,o,s);else{var c=t.point;t.x=t.y=t.point=null,h(t,c,l,u,i,a,o,s),h(t,e,n,r,i,a,o,s)}else t.x=n,t.y=r,t.point=e}else h(t,e,n,r,i,a,o,s)}function h(t,e,n,r,i,a,o,s){var l=.5*(i+o),u=.5*(a+s),c=l<=n,h=u<=r,f=h<<1|c;t.leaf=!1,c?i=l:o=l,h?a=u:s=u,d(t=t.nodes[f]||(t.nodes[f]=fr()),e,n,r,i,a,o,s)}var e,n,r,i,a,o,s,l,u,c=St(C),f=St(k);if(null!=b)o=b,s=w,l=x,u=M;else if(l=u=-(o=s=1/0),n=[],r=[],a=t.length,_)for(i=0;i<a;++i)(e=t[i]).x<o&&(o=e.x),e.y<s&&(s=e.y),e.x>l&&(l=e.x),e.y>u&&(u=e.y),n.push(e.x),r.push(e.y);else for(i=0;i<a;++i){var p=+c(e=t[i],i),g=+f(e,i);p<o&&(o=p),g<s&&(s=g),l<p&&(l=p),u<g&&(u=g),n.push(p),r.push(g)}var v=l-o,m=u-s;m<v?u=s+v:l=o+m;var y=fr();if(y.add=function(t){d(y,t,+c(t,++i),+f(t,i),o,s,l,u)},y.visit=function(t){dr(t,y,o,s,l,u)},y.find=function(t){return pr(y,t[0],t[1],o,s,l,u)},i=-1,null==b){for(;++i<a;)d(y,t[i],n[i],r[i],o,s,l,u);--i}else t.forEach(y.add);return n=r=t=e=null,y}var _,C=An,k=Nn;return(_=arguments.length)?(C=cr,k=hr,3===_&&(M=w,x=b,w=b=0),e(t)):(e.x=function(t){return arguments.length?(C=t,e):C},e.y=function(t){return arguments.length?(k=t,e):k},e.extent=function(t){return arguments.length?(null==t?b=w=x=M=null:(b=+t[0][0],w=+t[0][1],x=+t[1][0],M=+t[1][1]),e):null==b?null:[[b,w],[x,M]]},e.size=function(t){return arguments.length?(null==t?b=w=x=M=null:(b=w=0,x=+t[0],M=+t[1]),e):null==b?null:[x-b,M-w]},e)},so.interpolateRgb=gr,so.interpolateObject=vr,so.interpolateNumber=mr,so.interpolateString=yr;var ul=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,cl=new RegExp(ul.source,"g");so.interpolate=br,so.interpolators=[function(t,e){var n=typeof e;return("string"===n?ns.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?gr:yr:e instanceof ot?gr:Array.isArray(e)?wr:"object"===n&&isNaN(e)?vr:mr)(t,e)}],so.interpolateArray=wr;var hl=function(){return I},fl=so.map({linear:hl,poly:Tr,quad:function(){return Cr},cubic:function(){return kr},sin:function(){return $r},exp:function(){return Ar},circle:function(){return Nr},elastic:Er,back:Pr,bounce:function(){return Rr}}),dl=so.map({"in":I,out:Mr,"in-out":_r,"out-in":function(t){return _r(Mr(t))}});so.ease=function(t){var e=t.indexOf("-"),n=0<=e?t.slice(0,e):t,r=0<=e?t.slice(e+1):"in";return n=fl.get(n)||hl,xr((r=dl.get(r)||I)(n.apply(null,lo.call(arguments,1))))},so.interpolateHcl=Lr,so.interpolateHsl=Ir,so.interpolateLab=zr,so.interpolateRound=jr,so.transform=function(t){var n=co.createElementNS(so.ns.prefix.svg,"g");return(so.transform=function(t){if(null!=t){n.setAttribute("transform",t);var e=n.transform.baseVal.consolidate()}return new Dr(e?e.matrix:pl)})(t)},Dr.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var pl={a:1,b:0,c:0,d:1,e:0,f:0};so.interpolateTransform=Yr,so.layout={},so.layout.bundle=function(){return function(t){for(var e=[],n=-1,r=t.length;++n<r;)e.push(Jr(t[n]));return e}},so.layout.chord=function(){function t(){var t,e,n,r,i,a={},o=[],s=so.range(w),l=[];for(m=[],y=[],t=0,r=-1;++r<w;){for(e=0,i=-1;++i<w;)e+=b[r][i];o.push(e),l.push(so.range(w)),t+=e}for(x&&s.sort(function(t,e){return x(o[t],o[e])}),M&&l.forEach(function(t,n){t.sort(function(t,e){return M(b[n][t],b[n][e])})}),t=(jo-C*w)/t,e=0,r=-1;++r<w;){for(n=e,i=-1;++i<w;){var u=s[r],c=l[u][i],h=b[u][c],f=e,d=e+=h*t;a[u+"-"+c]={index:u,subindex:c,startAngle:f,endAngle:d,value:h}}y[u]={index:u,startAngle:n,endAngle:e,value:o[u]},e+=C}for(r=-1;++r<w;)for(i=r-1;++i<w;){var p=a[r+"-"+i],g=a[i+"-"+r];(p.value||g.value)&&m.push(p.value<g.value?{source:g,target:p}:{source:p,target:g})}_&&v()}function v(){m.sort(function(t,e){return _((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}var m,y,b,w,x,M,_,e={},C=0;return e.matrix=function(t){return arguments.length?(w=(b=t)&&b.length,m=y=null,e):b},e.padding=function(t){return arguments.length?(C=t,m=y=null,e):C},e.sortGroups=function(t){return arguments.length?(x=t,m=y=null,e):x},e.sortSubgroups=function(t){return arguments.length?(M=t,m=null,e):M},e.sortChords=function(t){return arguments.length?(_=t,m&&v(),e):_},e.chords=function(){return m||t(),m},e.groups=function(){return y||t(),y},e},so.layout.force=function(){function h(u){return function(t,e,n,r){if(t.point!==u){var i=t.cx-u.x,a=t.cy-u.y,o=r-e,s=i*i+a*a;if(o*o/M<s){if(s<c){var l=t.charge/s;u.px-=i*l,u.py-=a*l}return!0}if(t.point&&s&&s<c){l=t.pointCharge/s;u.px-=i*l,u.py-=a*l}}return!t.charge}}function t(t){t.px=so.event.x,t.py=so.event.y,i.resume()}var f,e,d,p,g,v,i={},m=so.dispatch("start","tick","end"),y=[1,1],b=.9,a=gl,o=vl,w=-30,c=ml,x=.1,M=.64,_=[],C=[];return i.tick=function(){if((d*=.99)<.005)return f=null,m.end({type:"end",alpha:d=0}),!0;var t,e,n,r,i,a,o,s,l,u=_.length,c=C.length;for(e=0;e<c;++e)r=(n=C[e]).source,(a=(s=(i=n.target).x-r.x)*s+(l=i.y-r.y)*l)&&(s*=a=d*g[e]*((a=Math.sqrt(a))-p[e])/a,l*=a,i.x-=s*(o=r.weight+i.weight?r.weight/(r.weight+i.weight):.5),i.y-=l*o,r.x+=s*(o=1-o),r.y+=l*o);if((o=d*x)&&(s=y[0]/2,l=y[1]/2,e=-1,o))for(;++e<u;)(n=_[e]).x+=(s-n.x)*o,n.y+=(l-n.y)*o;if(w)for(ri(t=so.geom.quadtree(_),d,v),e=-1;++e<u;)(n=_[e]).fixed||t.visit(h(n));for(e=-1;++e<u;)(n=_[e]).fixed?(n.x=n.px,n.y=n.py):(n.x-=(n.px-(n.px=n.x))*b,n.y-=(n.py-(n.py=n.y))*b);m.tick({type:"tick",alpha:d})},i.nodes=function(t){return arguments.length?(_=t,i):_},i.links=function(t){return arguments.length?(C=t,i):C},i.size=function(t){return arguments.length?(y=t,i):y},i.linkDistance=function(t){return arguments.length?(a="function"==typeof t?t:+t,i):a},i.distance=i.linkDistance,i.linkStrength=function(t){return arguments.length?(o="function"==typeof t?t:+t,i):o},i.friction=function(t){return arguments.length?(b=+t,i):b},i.charge=function(t){return arguments.length?(w="function"==typeof t?t:+t,i):w},i.chargeDistance=function(t){return arguments.length?(c=t*t,i):Math.sqrt(c)},i.gravity=function(t){return arguments.length?(x=+t,i):x},i.theta=function(t){return arguments.length?(M=t*t,i):Math.sqrt(M)},i.alpha=function(t){return arguments.length?(t=+t,d?0<t?d=t:(f.c=null,f.t=NaN,f=null,m.end({type:"end",alpha:d=0})):0<t&&(m.start({type:"start",alpha:d=t}),f=Et(i.tick)),i):d},i.start=function(){function t(t,e){if(!l){for(l=new Array(u),a=0;a<u;++a)l[a]=[];for(a=0;a<c;++a){var n=C[a];l[n.source.index].push(n.target),l[n.target.index].push(n.source)}}for(var r,i=l[s],a=-1,o=i.length;++a<o;)if(!isNaN(r=i[a][t]))return r;return Math.random()*e}var s,l,e,u=_.length,c=C.length,n=y[0],r=y[1];for(s=0;s<u;++s)(e=_[s]).index=s,e.weight=0;for(s=0;s<c;++s)"number"==typeof(e=C[s]).source&&(e.source=_[e.source]),"number"==typeof e.target&&(e.target=_[e.target]),++e.source.weight,++e.target.weight;for(s=0;s<u;++s)e=_[s],isNaN(e.x)&&(e.x=t("x",n)),isNaN(e.y)&&(e.y=t("y",r)),isNaN(e.px)&&(e.px=e.x),isNaN(e.py)&&(e.py=e.y);if(p=[],"function"==typeof a)for(s=0;s<c;++s)p[s]=+a.call(this,C[s],s);else for(s=0;s<c;++s)p[s]=a;if(g=[],"function"==typeof o)for(s=0;s<c;++s)g[s]=+o.call(this,C[s],s);else for(s=0;s<c;++s)g[s]=o;if(v=[],"function"==typeof w)for(s=0;s<u;++s)v[s]=+w.call(this,_[s],s);else for(s=0;s<u;++s)v[s]=w;return i.resume()},i.resume=function(){return i.alpha(.1)},i.stop=function(){return i.alpha(0)},i.drag=function(){return e||(e=so.behavior.drag().origin(I).on("dragstart.force",Kr).on("drag.force",t).on("dragend.force",ti)),arguments.length?void this.on("mouseover.force",ei).on("mouseout.force",ni).call(e):e},so.rebind(i,m,"on")};var gl=20,vl=1,ml=1/0;so.layout.hierarchy=function(){function s(t){var e,n=[t],r=[];for(t.depth=0;null!=(e=n.pop());)if(r.push(e),(a=u.call(s,e,e.depth))&&(i=a.length)){for(var i,a,o;0<=--i;)n.push(o=a[i]),o.parent=e,o.depth=e.depth+1;c&&(e.value=0),e.children=a}else c&&(e.value=+c.call(s,e,e.depth)||0),delete e.children;return oi(t,function(t){var e,n;l&&(e=t.children)&&e.sort(l),c&&(n=t.parent)&&(n.value+=t.value)}),r}var l=ui,u=si,c=li;return s.sort=function(t){return arguments.length?(l=t,s):l},s.children=function(t){return arguments.length?(u=t,s):u},s.value=function(t){return arguments.length?(c=t,s):c},s.revalue=function(t){return c&&(ai(t,function(t){t.children&&(t.value=0)}),oi(t,function(t){var e;t.children||(t.value=+c.call(s,t,t.depth)||0),(e=t.parent)&&(e.value+=t.value)})),t},s},so.layout.partition=function(){function u(t,e,n,r){var i=t.children;if(t.x=e,t.y=t.depth*r,t.dx=n,t.dy=r,i&&(a=i.length)){var a,o,s,l=-1;for(n=t.value?n/t.value:0;++l<a;)u(o=i[l],e,s=o.value*n,r),e+=s}}function a(t){var e=t.children,n=0;if(e&&(r=e.length))for(var r,i=-1;++i<r;)n=Math.max(n,a(e[i]));return 1+n}function e(t,e){var n=r.call(this,t,e);return u(n[0],0,i[0],i[1]/a(n[0])),n}var r=so.layout.hierarchy(),i=[1,1];return e.size=function(t){return arguments.length?(i=t,e):i},ii(e,r)},so.layout.pie=function(){function f(n){var e,t=n.length,r=n.map(function(t,e){return+d.call(f,t,e)}),i=+("function"==typeof g?g.apply(this,arguments):g),a=("function"==typeof v?v.apply(this,arguments):v)-i,o=Math.min(Math.abs(a)/t,+("function"==typeof m?m.apply(this,arguments):m)),s=o*(a<0?-1:1),l=so.sum(r),u=l?(a-t*s)/l:0,c=so.range(t),h=[];return null!=p&&c.sort(p===yl?function(t,e){return r[e]-r[t]}:function(t,e){return p(n[t],n[e])}),c.forEach(function(t){h[t]={data:n[t],value:e=r[t],startAngle:i,endAngle:i+=e*u+s,padAngle:o}}),h}var d=Number,p=yl,g=0,v=jo,m=0;return f.value=function(t){return arguments.length?(d=t,f):d},f.sort=function(t){return arguments.length?(p=t,f):p},f.startAngle=function(t){return arguments.length?(g=t,f):g},f.endAngle=function(t){return arguments.length?(v=t,f):v},f.padAngle=function(t){return arguments.length?(m=t,f):m},f};var yl={};so.layout.stack=function(){function h(t,e){if(!(a=t.length))return t;var n=t.map(function(t,e){return f.call(h,t,e)}),r=n.map(function(t){return t.map(function(t,e){return[v.call(h,t,e),m.call(h,t,e)]})}),i=d.call(h,r,e);n=so.permute(n,i),r=so.permute(r,i);var a,o,s,l,u=p.call(h,r,e),c=n[0].length;for(s=0;s<c;++s)for(g.call(h,n[0][s],l=u[s],r[0][s][1]),o=1;o<a;++o)g.call(h,n[o][s],l+=r[o-1][s][1],r[o][s][1]);return t}var f=I,d=pi,p=gi,g=di,v=hi,m=fi;return h.values=function(t){return arguments.length?(f=t,h):f},h.order=function(t){return arguments.length?(d="function"==typeof t?t:bl.get(t)||pi,h):d},h.offset=function(t){return arguments.length?(p="function"==typeof t?t:wl.get(t)||gi,h):p},h.x=function(t){return arguments.length?(v=t,h):v},h.y=function(t){return arguments.length?(m=t,h):m},h.out=function(t){return arguments.length?(g=t,h):g},h};var bl=so.map({"inside-out":function(t){var e,n,r=t.length,i=t.map(vi),a=t.map(mi),o=so.range(r).sort(function(t,e){return i[t]-i[e]}),s=0,l=0,u=[],c=[];for(e=0;e<r;++e)n=o[e],s<l?(s+=a[n],u.push(n)):(l+=a[n],c.push(n));return c.reverse().concat(u)},reverse:function(t){return so.range(t.length).reverse()},"default":pi}),wl=so.map({silhouette:function(t){var e,n,r,i=t.length,a=t[0].length,o=[],s=0,l=[];for(n=0;n<a;++n){for(r=e=0;e<i;e++)r+=t[e][n][1];s<r&&(s=r),o.push(r)}for(n=0;n<a;++n)l[n]=(s-o[n])/2;return l},wiggle:function(t){var e,n,r,i,a,o,s,l,u,c=t.length,h=t[0],f=h.length,d=[];for(d[0]=l=u=0,n=1;n<f;++n){for(i=e=0;e<c;++e)i+=t[e][n][1];for(a=e=0,s=h[n][0]-h[n-1][0];e<c;++e){for(r=0,o=(t[e][n][1]-t[e][n-1][1])/(2*s);r<e;++r)o+=(t[r][n][1]-t[r][n-1][1])/s;a+=o*t[e][n][1]}d[n]=l-=i?a/i*s:0,l<u&&(u=l)}for(n=0;n<f;++n)d[n]-=u;return d},expand:function(t){var e,n,r,i=t.length,a=t[0].length,o=1/i,s=[];for(n=0;n<a;++n){for(r=e=0;e<i;e++)r+=t[e][n][1];if(r)for(e=0;e<i;e++)t[e][n][1]/=r;else for(e=0;e<i;e++)t[e][n][1]=o}for(n=0;n<a;++n)s[n]=0;return s},zero:gi});so.layout.histogram=function(){function n(t,e){for(var n,r,i=[],a=t.map(f,this),o=d.call(this,a,e),s=p.call(this,o,a,e),l=(e=-1,a.length),u=s.length-1,c=h?1:1/l;++e<u;)(n=i[e]=[]).dx=s[e+1]-(n.x=s[e]),n.y=0;if(0<u)for(e=-1;++e<l;)(r=a[e])>=o[0]&&r<=o[1]&&((n=i[so.bisect(s,r,1,u)-1]).y+=c,n.push(t[e]));return i}var h=!0,f=Number,d=xi,p=bi;return n.value=function(t){return arguments.length?(f=t,n):f},n.range=function(t){return arguments.length?(d=St(t),n):d},n.bins=function(e){return arguments.length?(p="number"==typeof e?function(t){return wi(t,e)}:St(e),n):p},n.frequency=function(t){return arguments.length?(h=!!t,n):h},n},so.layout.pack=function(){function e(t,e){var n=u.call(this,t,e),r=n[0],i=h[0],a=h[1],o=null==l?Math.sqrt:"function"==typeof l?l:function(){return l};if(r.x=r.y=0,oi(r,function(t){t.r=+o(t.value)}),oi(r,Si),c){var s=c*(l?1:Math.max(2*r.r/i,2*r.r/a))/2;oi(r,function(t){t.r+=s}),oi(r,Si),oi(r,function(t){t.r-=s})}return Ai(r,i/2,a/2,l?1:1/Math.max(2*r.r/i,2*r.r/a)),n}var l,u=so.layout.hierarchy().sort(Mi),c=0,h=[1,1];return e.size=function(t){return arguments.length?(h=t,e):h},e.radius=function(t){return arguments.length?(l=null==t||"function"==typeof t?t:+t,e):l},e.padding=function(t){return arguments.length?(c=+t,e):c},ii(e,u)},so.layout.tree=function(){function e(t,e){var n=g.call(this,t,e),r=n[0],i=h(r);if(oi(i,f),i.parent.m=-i.z,ai(i,d),y)ai(r,p);else{var a=r,o=r,s=r;ai(r,function(t){t.x<a.x&&(a=t),t.x>o.x&&(o=t),t.depth>s.depth&&(s=t)});var l=v(a,o)/2-a.x,u=m[0]/(o.x+v(o,a)/2+l),c=m[1]/(s.depth||1);ai(r,function(t){t.x=(t.x+l)*u,t.y=t.depth*c})}return n}function h(t){for(var e,n={A:null,children:[t]},r=[n];null!=(e=r.pop());)for(var i,a=e.children,o=0,s=a.length;o<s;++o)r.push((a[o]=i={_:a[o],parent:e,children:(i=a[o].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:o}).a=i);return n.children[0]}function f(t){var e=t.children,n=t.parent.children,r=t.i?n[t.i-1]:null;if(e.length){Ii(t);var i=(e[0].z+e[e.length-1].z)/2;r?(t.z=r.z+v(t._,r._),t.m=t.z-i):t.z=i}else r&&(t.z=r.z+v(t._,r._));t.parent.A=a(t,r,t.parent.A||n[0])}function d(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function a(t,e,n){if(e){for(var r,i=t,a=t,o=e,s=i.parent.children[0],l=i.m,u=a.m,c=o.m,h=s.m;o=Ri(o),i=Pi(i),o&&i;)s=Pi(s),(a=Ri(a)).a=t,0<(r=o.z+c-i.z-l+v(o._,i._))&&(Li(zi(o,t,n),t,r),l+=r,u+=r),c+=o.m,l+=i.m,h+=s.m,u+=a.m;o&&!Ri(a)&&(a.t=o,a.m+=c-u),i&&!Pi(s)&&(s.t=i,s.m+=l-h,n=t)}return n}function p(t){t.x*=m[0],t.y=t.depth*m[1]}var g=so.layout.hierarchy().sort(null).value(null),v=Ei,m=[1,1],y=null;return e.separation=function(t){return arguments.length?(v=t,e):v},e.size=function(t){return arguments.length?(y=null==(m=t)?p:null,e):y?null:m},e.nodeSize=function(t){return arguments.length?(y=null==(m=t)?null:p,e):y?m:null},ii(e,g)},so.layout.cluster=function(){function e(t,e){var n,r=c.call(this,t,e),i=r[0],a=0;oi(i,function(t){var e=t.children;e&&e.length?(t.x=Di(e),t.y=ji(e)):(t.x=n?a+=h(t,n):0,t.y=0,n=t)});var o=qi(i),s=Fi(i),l=o.x-h(o,s)/2,u=s.x+h(s,o)/2;return oi(i,d?function(t){t.x=(t.x-i.x)*f[0],t.y=(i.y-t.y)*f[1]}:function(t){t.x=(t.x-l)/(u-l)*f[0],t.y=(1-(i.y?t.y/i.y:1))*f[1]}),r}var c=so.layout.hierarchy().sort(null).value(null),h=Ei,f=[1,1],d=!1;return e.separation=function(t){return arguments.length?(h=t,e):h},e.size=function(t){return arguments.length?(d=null==(f=t),e):d?null:f},e.nodeSize=function(t){return arguments.length?(d=null!=(f=t),e):d?f:null},ii(e,c)},so.layout.treemap=function(){function c(t,e){for(var n,r,i=-1,a=t.length;++i<a;)r=(n=t[i]).value*(e<0?0:e),n.area=isNaN(r)||r<=0?0:r}function h(t){var e=t.children;if(e&&e.length){var n,r,i,a=g(t),o=[],s=e.slice(),l=1/0,u="slice"===v?a.dx:"dice"===v?a.dy:"slice-dice"===v?1&t.depth?a.dy:a.dx:Math.min(a.dx,a.dy);for(c(s,a.dx*a.dy/t.value),o.area=0;0<(i=s.length);)o.push(n=s[i-1]),o.area+=n.area,"squarify"!==v||(r=f(o,u))<=l?(s.pop(),l=r):(o.area-=o.pop().area,d(o,u,a,!1),u=Math.min(a.dx,a.dy),o.length=o.area=0,l=1/0);o.length&&(d(o,u,a,!0),o.length=o.area=0),e.forEach(h)}}function o(t){var e=t.children;if(e&&e.length){var n,r=g(t),i=e.slice(),a=[];for(c(i,r.dx*r.dy/t.value),a.area=0;n=i.pop();)a.push(n),a.area+=n.area,null!=n.z&&(d(a,n.z?r.dx:r.dy,r,!i.length),a.length=a.area=0);e.forEach(o)}}function f(t,e){for(var n,r=t.area,i=0,a=1/0,o=-1,s=t.length;++o<s;)(n=t[o].area)&&(n<a&&(a=n),i<n&&(i=n));return e*=e,(r*=r)?Math.max(e*i*m/r,r/(e*a*m)):1/0}function d(t,e,n,r){var i,a=-1,o=t.length,s=n.x,l=n.y,u=e?p(t.area/e):0;if(e==n.dx){for((r||u>n.dy)&&(u=n.dy);++a<o;)(i=t[a]).x=s,i.y=l,i.dy=u,s+=i.dx=Math.min(n.x+n.dx-s,u?p(i.area/u):0);i.z=!0,i.dx+=n.x+n.dx-s,n.y+=u,n.dy-=u}else{for((r||u>n.dx)&&(u=n.dx);++a<o;)(i=t[a]).x=s,i.y=l,i.dx=u,l+=i.dy=Math.min(n.y+n.dy-l,u?p(i.area/u):0);i.z=!1,i.dy+=n.y+n.dy-l,n.x+=u,n.dx-=u}}function i(t){var e=r||a(t),n=e[0];return n.x=n.y=0,n.value?(n.dx=s[0],n.dy=s[1]):n.dx=n.dy=0,r&&a.revalue(n),c([n],n.dx*n.dy/n.value),(r?o:h)(n),u&&(r=e),e}var r,a=so.layout.hierarchy(),p=Math.round,s=[1,1],l=null,g=Hi,u=!1,v="squarify",m=.5*(1+Math.sqrt(5));return i.size=function(t){return arguments.length?(s=t,i):s},i.padding=function(n){function t(t){var e=n.call(i,t,t.depth);return null==e?Hi(t):Oi(t,"number"==typeof e?[e,e,e,e]:e)}function e(t){return Oi(t,n)}return arguments.length?(g=null==(l=n)?Hi:"function"==(r=typeof n)?t:("number"===r&&(n=[n,n,n,n]),e),i):l;var r},i.round=function(t){return arguments.length?(p=t?Math.round:Number,i):p!=Number},i.sticky=function(t){return arguments.length?(u=t,r=null,i):u},i.ratio=function(t){return arguments.length?(m=t,i):m},i.mode=function(t){return arguments.length?(v=t+"",i):v},ii(i,a)},so.random={normal:function(r,i){var t=arguments.length;return t<2&&(i=1),t<1&&(r=0),function(){for(var t,e,n;!(n=(t=2*Math.random()-1)*t+(e=2*Math.random()-1)*e)||1<n;);return r+i*t*Math.sqrt(-2*Math.log(n)/n)}},logNormal:function(){var t=so.random.normal.apply(so,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=so.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(n){return function(){for(var t=0,e=0;e<n;e++)t+=Math.random();return t}}},so.scale={};var xl={floor:I,ceil:I};so.scale.linear=function(){return Zi([0,1],[0,1],br,!1)};var Ml={s:1,g:1,p:1,r:1,e:1};so.scale.log=function(){return ra(so.scale.linear().domain([0,1]),10,!0,[1,10])};var _l=so.format(".0e"),Cl={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};so.scale.pow=function(){return ia(so.scale.linear(),1,[0,1])},so.scale.sqrt=function(){return so.scale.pow().exponent(.5)},so.scale.ordinal=function(){return oa([],{t:"range",a:[[]]})},so.scale.category10=function(){return so.scale.ordinal().range(kl)},so.scale.category20=function(){return so.scale.ordinal().range(Sl)},so.scale.category20b=function(){return so.scale.ordinal().range(Tl)},so.scale.category20c=function(){return so.scale.ordinal().range($l)};var kl=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(bt),Sl=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(bt),Tl=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(bt),$l=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(bt);so.scale.quantile=function(){return sa([],[])},so.scale.quantize=function(){return la(0,1,[0,1])},so.scale.threshold=function(){return ua([.5],[0,1])},so.scale.identity=function(){return ca([0,1])},so.svg={},so.svg.arc=function(){function e(){var t=Math.max(0,+q.apply(this,arguments)),e=Math.max(0,+F.apply(this,arguments)),n=B.apply(this,arguments)-qo,r=U.apply(this,arguments)-qo,i=Math.abs(r-n),a=r<n?0:1;if(e<t&&(o=e,e=t,t=o),Do<=i)return D(e,a)+(t?D(t,1-a):"")+"Z";var o,s,l,u,c,h,f,d,p,g,v,m,y=0,b=0,w=[];if((u=(+V.apply(this,arguments)||0)/2)&&(l=O===Al?Math.sqrt(t*t+e*e):+O.apply(this,arguments),a||(b*=-1),e&&(b=et(l/e*Math.sin(u))),t&&(y=et(l/t*Math.sin(u)))),e){c=e*Math.cos(n+b),h=e*Math.sin(n+b),f=e*Math.cos(r-b),d=e*Math.sin(r-b);var x=Math.abs(r-n-2*b)<=zo?0:1;if(b&&ma(c,h,f,d)===a^x){var M=(n+r)/2;c=e*Math.cos(M),h=e*Math.sin(M),f=d=null}}else c=h=0;if(t){p=t*Math.cos(r-y),g=t*Math.sin(r-y),v=t*Math.cos(n+y),m=t*Math.sin(n+y);var _=Math.abs(n-r+2*y)<=zo?0:1;if(y&&ma(p,g,v,m)===1-a^_){var C=(n+r)/2;p=t*Math.cos(C),g=t*Math.sin(C),v=m=null}}else p=g=0;if(Lo<i&&.001<(o=Math.min(Math.abs(e-t)/2,+H.apply(this,arguments)))){s=t<e^a?0:1;var k=o,S=o;if(i<zo){var T=null==v?[p,g]:null==f?[c,h]:Ln([c,h],[v,m],[f,d],[p,g]),$=c-T[0],A=h-T[1],N=f-T[0],E=d-T[1],P=1/Math.sin(Math.acos(($*N+A*E)/(Math.sqrt($*$+A*A)*Math.sqrt(N*N+E*E)))/2),R=Math.sqrt(T[0]*T[0]+T[1]*T[1]);S=Math.min(o,(t-R)/(P-1)),k=Math.min(o,(e-R)/(P+1))}if(null!=f){var L=ya(null==v?[p,g]:[v,m],[c,h],e,k,a),I=ya([f,d],[p,g],e,k,a);o===k?w.push("M",L[0],"A",k,",",k," 0 0,",s," ",L[1],"A",e,",",e," 0 ",1-a^ma(L[1][0],L[1][1],I[1][0],I[1][1]),",",a," ",I[1],"A",k,",",k," 0 0,",s," ",I[0]):w.push("M",L[0],"A",k,",",k," 0 1,",s," ",I[0])}else w.push("M",c,",",h);if(null!=v){var z=ya([c,h],[v,m],t,-S,a),j=ya([p,g],null==f?[c,h]:[f,d],t,-S,a);o===S?w.push("L",j[0],"A",S,",",S," 0 0,",s," ",j[1],"A",t,","
,t," 0 ",a^ma(j[1][0],j[1][1],z[1][0],z[1][1]),",",1-a," ",z[1],"A",S,",",S," 0 0,",s," ",z[0]):w.push("L",j[0],"A",S,",",S," 0 0,",s," ",z[0])}else w.push("L",p,",",g)}else w.push("M",c,",",h),null!=f&&w.push("A",e,",",e," 0 ",x,",",a," ",f,",",d),w.push("L",p,",",g),null!=v&&w.push("A",t,",",t," 0 ",_,",",1-a," ",v,",",m);return w.push("Z"),w.join("")}function D(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}var q=fa,F=da,H=ha,O=Al,B=pa,U=ga,V=va;return e.innerRadius=function(t){return arguments.length?(q=St(t),e):q},e.outerRadius=function(t){return arguments.length?(F=St(t),e):F},e.cornerRadius=function(t){return arguments.length?(H=St(t),e):H},e.padRadius=function(t){return arguments.length?(O=t==Al?Al:St(t),e):O},e.startAngle=function(t){return arguments.length?(B=St(t),e):B},e.endAngle=function(t){return arguments.length?(U=St(t),e):U},e.padAngle=function(t){return arguments.length?(V=St(t),e):V},e.centroid=function(){var t=(+q.apply(this,arguments)+ +F.apply(this,arguments))/2,e=(+B.apply(this,arguments)+ +U.apply(this,arguments))/2-qo;return[Math.cos(e)*t,Math.sin(e)*t]},e};var Al="auto";so.svg.line=function(){return ba(I)};var Nl=so.map({linear:wa,"linear-closed":xa,step:Ma,"step-before":_a,"step-after":Ca,basis:Na,"basis-open":Ea,"basis-closed":Pa,bundle:Ra,cardinal:Ta,"cardinal-open":ka,"cardinal-closed":Sa,monotone:qa});Nl.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var El=[0,2/3,1/3,0],Pl=[0,1/3,2/3,0],Rl=[0,1/6,2/3,1/6];so.svg.line.radial=function(){var t=ba(Fa);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},(_a.reverse=Ca).reverse=_a,so.svg.area=function(){return Ha(I)},so.svg.area.radial=function(){var t=Ha(Fa);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},so.svg.chord=function(){function e(t,e){var n=i(this,l,t,e),r=i(this,u,t,e);return"M"+n.p0+o(n.r,n.p1,n.a1-n.a0)+(a(n,r)?s(n.r,n.p1,n.r,n.p0):s(n.r,n.p1,r.r,r.p0)+o(r.r,r.p1,r.a1-r.a0)+s(r.r,r.p1,n.r,n.p0))+"Z"}function i(t,e,n,r){var i=e.call(t,n,r),a=c.call(t,i,r),o=h.call(t,i,r)-qo,s=f.call(t,i,r)-qo;return{r:a,a0:o,a1:s,p0:[a*Math.cos(o),a*Math.sin(o)],p1:[a*Math.cos(s),a*Math.sin(s)]}}function a(t,e){return t.a0==e.a0&&t.a1==e.a1}function o(t,e,n){return"A"+t+","+t+" 0 "+ +(zo<n)+",1 "+e}function s(t,e,n,r){return"Q 0,0 "+r}var l=bn,u=wn,c=Oa,h=pa,f=ga;return e.radius=function(t){return arguments.length?(c=St(t),e):c},e.source=function(t){return arguments.length?(l=St(t),e):l},e.target=function(t){return arguments.length?(u=St(t),e):u},e.startAngle=function(t){return arguments.length?(h=St(t),e):h},e.endAngle=function(t){return arguments.length?(f=St(t),e):f},e},so.svg.diagonal=function(){function e(t,e){var n=o.call(this,t,e),r=s.call(this,t,e),i=(n.y+r.y)/2,a=[n,{x:n.x,y:i},{x:r.x,y:i},r];return"M"+(a=a.map(l))[0]+"C"+a[1]+" "+a[2]+" "+a[3]}var o=bn,s=wn,l=Ba;return e.source=function(t){return arguments.length?(o=St(t),e):o},e.target=function(t){return arguments.length?(s=St(t),e):s},e.projection=function(t){return arguments.length?(l=t,e):l},e},so.svg.diagonal.radial=function(){var t=so.svg.diagonal(),e=Ba,n=t.projection;return t.projection=function(t){return arguments.length?n(Ua(e=t)):e},t},so.svg.symbol=function(){function e(t,e){return(Ll.get(n.call(this,t,e))||Ya)(r.call(this,t,e))}var n=Wa,r=Va;return e.type=function(t){return arguments.length?(n=St(t),e):n},e.size=function(t){return arguments.length?(r=St(t),e):r},e};var Ll=so.map({circle:Ya,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*zl)),n=e*zl;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/Il),n=e*Il/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/Il),n=e*Il/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});so.svg.symbolTypes=Ll.keys();var Il=Math.sqrt(3),zl=Math.tan(30*Fo);To.transition=function(t){for(var e,n,r=jl||++Hl,i=Xa(t),a=[],o=Dl||{time:Date.now(),ease:Sr,delay:0,duration:250},s=-1,l=this.length;++s<l;){a.push(e=[]);for(var u=this[s],c=-1,h=u.length;++c<h;)(n=u[c])&&Ka(n,c,i,r,o),e.push(n)}return Za(a,i,r)},To.interrupt=function(t){return this.each(null==t?ql:Qa(Xa(t)))};var jl,Dl,ql=Qa(Xa()),Fl=[],Hl=0;Fl.call=To.call,Fl.empty=To.empty,Fl.node=To.node,Fl.size=To.size,so.transition=function(t,e){return t&&t.transition?jl?t.transition(e):t:so.selection().transition(t)},(so.transition.prototype=Fl).select=function(t){var e,n,r,i=this.id,a=this.namespace,o=[];t=C(t);for(var s=-1,l=this.length;++s<l;){o.push(e=[]);for(var u=this[s],c=-1,h=u.length;++c<h;)(r=u[c])&&(n=t.call(r,r.__data__,c,s))?("__data__"in r&&(n.__data__=r.__data__),Ka(n,c,a,i,r[a][i]),e.push(n)):e.push(null)}return Za(o,a,i)},Fl.selectAll=function(t){var e,n,r,i,a,o=this.id,s=this.namespace,l=[];t=k(t);for(var u=-1,c=this.length;++u<c;)for(var h=this[u],f=-1,d=h.length;++f<d;)if(r=h[f]){a=r[s][o],n=t.call(r,r.__data__,f,u),l.push(e=[]);for(var p=-1,g=n.length;++p<g;)(i=n[p])&&Ka(i,p,s,o,a),e.push(i)}return Za(l,s,o)},Fl.filter=function(t){var e,n,r=[];"function"!=typeof t&&(t=H(t));for(var i=0,a=this.length;i<a;i++){r.push(e=[]);for(var o,s=0,l=(o=this[i]).length;s<l;s++)(n=o[s])&&t.call(n,n.__data__,s,i)&&e.push(n)}return Za(r,this.namespace,this.id)},Fl.tween=function(e,n){var r=this.id,i=this.namespace;return arguments.length<2?this.node()[i][r].tween.get(e):B(this,null==n?function(t){t[i][r].tween.remove(e)}:function(t){t[i][r].tween.set(e,n)})},Fl.attr=function(t,e){function r(){this.removeAttribute(s)}function i(){this.removeAttributeNS(s.space,s.local)}function n(n){return null==n?r:(n+="",function(){var e,t=this.getAttribute(s);return t!==n&&(e=o(t,n),function(t){this.setAttribute(s,e(t))})})}function a(n){return null==n?i:(n+="",function(){var e,t=this.getAttributeNS(s.space,s.local);return t!==n&&(e=o(t,n),function(t){this.setAttributeNS(s.space,s.local,e(t))})})}if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var o="transform"==t?Yr:br,s=so.ns.qualify(t);return Ja(this,"attr."+t,e,s.local?a:n)},Fl.attrTween=function(t,r){function e(t,e){var n=r.call(this,t,e,this.getAttribute(i));return n&&function(t){this.setAttribute(i,n(t))}}function n(t,e){var n=r.call(this,t,e,this.getAttributeNS(i.space,i.local));return n&&function(t){this.setAttributeNS(i.space,i.local,n(t))}}var i=so.ns.qualify(t);return this.tween("attr."+t,i.local?n:e)},Fl.style=function(r,t,i){function e(){this.style.removeProperty(r)}function n(n){return null==n?e:(n+="",function(){var e,t=L(this).getComputedStyle(this,null).getPropertyValue(r);return t!==n&&(e=br(t,n),function(t){this.style.setProperty(r,e(t),i)})})}var a=arguments.length;if(a<3){if("string"!=typeof r){for(i in a<2&&(t=""),r)this.style(i,r[i],t);return this}i=""}return Ja(this,"style."+r,t,n)},Fl.styleTween=function(r,i,a){function t(t,e){var n=i.call(this,t,e,L(this).getComputedStyle(this,null).getPropertyValue(r));return n&&function(t){this.style.setProperty(r,n(t),a)}}return arguments.length<3&&(a=""),this.tween("style."+r,t)},Fl.text=function(t){return Ja(this,"text",t,Ga)},Fl.remove=function(){var e=this.namespace;return this.each("end.transition",function(){var t;this[e].count<2&&(t=this.parentNode)&&t.removeChild(this)})},Fl.ease=function(e){var n=this.id,r=this.namespace;return arguments.length<1?this.node()[r][n].ease:("function"!=typeof e&&(e=so.ease.apply(so,arguments)),B(this,function(t){t[r][n].ease=e}))},Fl.delay=function(r){var i=this.id,a=this.namespace;return arguments.length<1?this.node()[a][i].delay:B(this,"function"==typeof r?function(t,e,n){t[a][i].delay=+r.call(t,t.__data__,e,n)}:(r=+r,function(t){t[a][i].delay=r}))},Fl.duration=function(r){var i=this.id,a=this.namespace;return arguments.length<1?this.node()[a][i].duration:B(this,"function"==typeof r?function(t,e,n){t[a][i].duration=Math.max(1,r.call(t,t.__data__,e,n))}:(r=Math.max(1,r),function(t){t[a][i].duration=r}))},Fl.each=function(r,n){var i=this.id,a=this.namespace;if(arguments.length<2){var t=Dl,e=jl;try{jl=i,B(this,function(t,e,n){Dl=t[a][i],r.call(t,t.__data__,e,n)})}finally{Dl=t,jl=e}}else B(this,function(t){var e=t[a][i];(e.event||(e.event=so.dispatch("start","end","interrupt"))).on(r,n)});return this},Fl.transition=function(){for(var t,e,n,r=this.id,i=++Hl,a=this.namespace,o=[],s=0,l=this.length;s<l;s++){o.push(t=[]);for(var u,c=0,h=(u=this[s]).length;c<h;c++)(e=u[c])&&Ka(e,c,a,i,{time:(n=e[a][r]).time,ease:n.ease,delay:n.delay+n.duration,duration:n.duration}),t.push(e)}return Za(o,a,i)},so.svg.axis=function(){function n(t){t.each(function(){var t,e=so.select(this),n=this.__chart__||T,r=this.__chart__=T.copy(),i=null==R?r.ticks?r.ticks.apply(r,P):r.domain():R,a=null==S?r.tickFormat?r.tickFormat.apply(r,P):I:S,o=e.selectAll(".tick").data(i,r),s=o.enter().insert("g",".domain").attr("class","tick").style("opacity",Lo),l=so.transition(o.exit()).style("opacity",Lo).remove(),u=so.transition(o.order()).style("opacity",1),c=Math.max(A,0)+E,h=Ui(r),f=e.selectAll(".domain").data([0]),d=(f.enter().append("path").attr("class","domain"),so.transition(f));s.append("line"),s.append("text");var p,g,v,m,y=s.select("line"),b=u.select("line"),w=o.select("text").text(a),x=s.select("text"),M=u.select("text"),_="top"===$||"left"===$?-1:1;if("bottom"===$||"top"===$?(t=to,p="x",v="y",g="x2",m="y2",w.attr("dy",_<0?"0em":".71em").style("text-anchor","middle"),d.attr("d","M"+h[0]+","+_*N+"V0H"+h[1]+"V"+_*N)):(t=eo,p="y",v="x",g="y2",m="x2",w.attr("dy",".32em").style("text-anchor",_<0?"end":"start"),d.attr("d","M"+_*N+","+h[0]+"H0V"+h[1]+"H"+_*N)),y.attr(m,_*A),x.attr(v,_*c),b.attr(g,0).attr(m,_*A),M.attr(p,0).attr(v,_*c),r.rangeBand){var C=r,k=C.rangeBand()/2;n=r=function(t){return C(t)+k}}else n.rangeBand?n=r:l.call(t,r,n);s.call(t,n,r),u.call(t,r,r)})}var S,T=so.scale.linear(),$=Ol,A=6,N=6,E=3,P=[10],R=null;return n.scale=function(t){return arguments.length?(T=t,n):T},n.orient=function(t){return arguments.length?($=t in Bl?t+"":Ol,n):$},n.ticks=function(){return arguments.length?(P=uo(arguments),n):P},n.tickValues=function(t){return arguments.length?(R=t,n):R},n.tickFormat=function(t){return arguments.length?(S=t,n):S},n.tickSize=function(t){var e=arguments.length;return e?(A=+t,N=+arguments[e-1],n):A},n.innerTickSize=function(t){return arguments.length?(A=+t,n):A},n.outerTickSize=function(t){return arguments.length?(N=+t,n):N},n.tickPadding=function(t){return arguments.length?(E=+t,n):E},n.tickSubdivide=function(){return arguments.length&&n},n};var Ol="bottom",Bl={top:1,right:1,bottom:1,left:1};so.svg.brush=function(){function w(t){t.each(function(){var t=so.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",o).on("touchstart.brush",o),e=t.selectAll(".background").data([0]);e.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var n=t.selectAll(".resize").data(s,I);n.exit().remove(),n.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Ul[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),n.style("display",w.empty()?"none":null);var r,i=so.transition(t),a=so.transition(e);T&&(r=Ui(T),a.attr("x",r[0]).attr("width",r[1]-r[0]),M(i)),$&&(r=Ui($),a.attr("y",r[0]).attr("height",r[1]-r[0]),_(i)),x(i)})}function x(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+A[+/e$/.test(t)]+","+N[+/^s/.test(t)]+")"})}function M(t){t.select(".extent").attr("x",A[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",A[1]-A[0])}function _(t){t.select(".extent").attr("y",N[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",N[1]-N[0])}function o(){function t(){32==so.event.keyCode&&(p||(h=null,v[0]-=A[1],v[1]-=N[1],p=2),z())}function e(){32==so.event.keyCode&&2==p&&(v[0]+=A[1],v[1]+=N[1],p=0,z())}function n(){var t=so.mouse(o),e=!1;a&&(t[0]+=a[0],t[1]+=a[1]),p||(so.event.altKey?(h||(h=[(A[0]+A[1])/2,(N[0]+N[1])/2]),v[0]=A[+(t[0]<h[0])],v[1]=N[+(t[1]<h[1])]):h=null),f&&r(t,T,0)&&(M(u),e=!0),d&&r(t,$,1)&&(_(u),e=!0),e&&(x(u),l({type:"brush",mode:p?"move":"resize"}))}function r(t,e,n){var r,i,a=Ui(e),o=a[0],s=a[1],l=v[n],u=n?N:A,c=u[1]-u[0];return p&&(o-=l,s-=c+l),r=(n?P:E)?Math.max(o,Math.min(s,t[n])):t[n],p?i=(r+=l)+c:(h&&(l=Math.max(o,Math.min(s,2*h[n]-r))),l<r?(i=r,r=l):i=l),u[0]!=r||u[1]!=i?(n?k=null:C=null,u[0]=r,u[1]=i,!0):void 0}function i(){n(),u.style("pointer-events","all").selectAll(".resize").style("display",w.empty()?"none":null),so.select("body").style("cursor",null),m.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),g(),l({type:"brushend"})}var h,a,o=this,s=so.select(so.event.target),l=S.of(o,arguments),u=so.select(o),c=s.datum(),f=!/^(n|s)$/.test(c)&&T,d=!/^(e|w)$/.test(c)&&$,p=s.classed("extent"),g=Z(o),v=so.mouse(o),m=so.select(L(o)).on("keydown.brush",t).on("keyup.brush",e);if(so.event.changedTouches?m.on("touchmove.brush",n).on("touchend.brush",i):m.on("mousemove.brush",n).on("mouseup.brush",i),u.interrupt().selectAll("*").interrupt(),p)v[0]=A[0]-v[0],v[1]=N[0]-v[1];else if(c){var y=+/w$/.test(c),b=+/^n/.test(c);a=[A[1-y]-v[0],N[1-b]-v[1]],v[0]=A[y],v[1]=N[b]}else so.event.altKey&&(h=v.slice());u.style("pointer-events","none").selectAll(".resize").style("display",null),so.select("body").style("cursor",s.style("cursor")),l({type:"brushstart"}),n()}var C,k,S=j(w,"brushstart","brush","brushend"),T=null,$=null,A=[0,0],N=[0,0],E=!0,P=!0,s=Vl[0];return w.event=function(t){t.each(function(){var r=S.of(this,arguments),i={x:A,y:N,i:C,j:k},t=this.__chart__||i;this.__chart__=i,jl?so.select(this).transition().each("start.brush",function(){C=t.i,k=t.j,A=t.x,N=t.y,r({type:"brushstart"})}).tween("brush:brush",function(){var e=wr(A,i.x),n=wr(N,i.y);return C=k=null,function(t){A=i.x=e(t),N=i.y=n(t),r({type:"brush",mode:"resize"})}}).each("end.brush",function(){C=i.i,k=i.j,r({type:"brush",mode:"resize"}),r({type:"brushend"})}):(r({type:"brushstart"}),r({type:"brush",mode:"resize"}),r({type:"brushend"}))})},w.x=function(t){return arguments.length?(s=Vl[!(T=t)<<1|!$],w):T},w.y=function(t){return arguments.length?(s=Vl[!T<<1|!($=t)],w):$},w.clamp=function(t){return arguments.length?(T&&$?(E=!!t[0],P=!!t[1]):T?E=!!t:$&&(P=!!t),w):T&&$?[E,P]:T?E:$?P:null},w.extent=function(t){var e,n,r,i,a;return arguments.length?(T&&(e=t[0],n=t[1],$&&(e=e[0],n=n[0]),C=[e,n],T.invert&&(e=T(e),n=T(n)),n<e&&(a=e,e=n,n=a),(e!=A[0]||n!=A[1])&&(A=[e,n])),$&&(r=t[0],i=t[1],T&&(r=r[1],i=i[1]),k=[r,i],$.invert&&(r=$(r),i=$(i)),i<r&&(a=r,r=i,i=a),(r!=N[0]||i!=N[1])&&(N=[r,i])),w):(T&&(C?(e=C[0],n=C[1]):(e=A[0],n=A[1],T.invert&&(e=T.invert(e),n=T.invert(n)),n<e&&(a=e,e=n,n=a))),$&&(k?(r=k[0],i=k[1]):(r=N[0],i=N[1],$.invert&&(r=$.invert(r),i=$.invert(i)),i<r&&(a=r,r=i,i=a))),T&&$?[[e,r],[n,i]]:T?[e,n]:$&&[r,i])},w.clear=function(){return w.empty()||(A=[0,0],N=[0,0],C=k=null),w},w.empty=function(){return!!T&&A[0]==A[1]||!!$&&N[0]==N[1]},so.rebind(w,S,"on")};var Ul={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Vl=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Wl=hs.format=ms.timeFormat,Yl=Wl.utc,Ql=Yl("%Y-%m-%dT%H:%M:%S.%LZ");Wl.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?no:Ql,no.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},no.toString=Ql.toString,hs.second=Ft(function(t){return new fs(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),hs.seconds=hs.second.range,hs.seconds.utc=hs.second.utc.range,hs.minute=Ft(function(t){return new fs(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),hs.minutes=hs.minute.range,hs.minutes.utc=hs.minute.utc.range,hs.hour=Ft(function(t){var e=t.getTimezoneOffset()/60;return new fs(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),hs.hours=hs.hour.range,hs.hours.utc=hs.hour.utc.range,hs.month=Ft(function(t){return(t=hs.day(t)).setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),hs.months=hs.month.range,hs.months.utc=hs.month.utc.range;var Zl=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Jl=[[hs.second,1],[hs.second,5],[hs.second,15],[hs.second,30],[hs.minute,1],[hs.minute,5],[hs.minute,15],[hs.minute,30],[hs.hour,1],[hs.hour,3],[hs.hour,6],[hs.hour,12],[hs.day,1],[hs.day,2],[hs.week,1],[hs.month,1],[hs.month,3],[hs.year,1]],Gl=Wl.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",Ae]]),Xl={range:function(t,e,n){return so.range(Math.ceil(t/n)*n,+e,n).map(io)},floor:I,ceil:I};Jl.year=hs.year,hs.scale=function(){return ro(so.scale.linear(),Jl,Gl)};var Kl=Jl.map(function(t){return[t[0].utc,t[1]]}),tu=Yl.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",Ae]]);Kl.year=hs.year.utc,hs.scale.utc=function(){return ro(so.scale.linear(),Kl,tu)},so.text=Tt(function(t){return t.responseText}),so.json=function(t,e){return $t(t,"application/json",ao,e)},so.html=function(t,e){return $t(t,"text/html",oo,e)},so.xml=Tt(function(t){return t.responseXML}),"function"==typeof define&&define.amd?(this.d3=so,define(so)):"object"==typeof module&&module.exports?module.exports=so:this.d3=so}(),function(t){"use strict";function e(e,n){function t(e){return n.bgcolor&&(e.style.backgroundColor=n.bgcolor),n.width&&(e.style.width=n.width+"px"),n.height&&(e.style.height=n.height+"px"),n.style&&Object.keys(n.style).forEach(function(t){e.style[t]=n.style[t]}),e}return o(n=n||{}),Promise.resolve(e).then(function(t){return l(t,n.filter,!0)}).then(u).then(c).then(t).then(function(t){return h(t,n.width||v.width(e),n.height||v.height(e))})}function n(e,t){return s(e,t||{}).then(function(t){return t.getContext("2d").getImageData(0,0,v.width(e),v.height(e)).data})}function r(t,e){return s(t,e||{}).then(function(t){return t.toDataURL()})}function i(t,e){return s(t,e=e||{}).then(function(t){return t.toDataURL("image/jpeg",e.quality||1)})}function a(t,e){return s(t,e||{}).then(v.canvasToBlob)}function o(t){"undefined"==typeof t.imagePlaceholder?x.impl.options.imagePlaceholder=w.imagePlaceholder:x.impl.options.imagePlaceholder=t.imagePlaceholder,"undefined"==typeof t.cacheBust?x.impl.options.cacheBust=w.cacheBust:x.impl.options.cacheBust=t.cacheBust}function s(n,r){function i(t){var e=document.createElement("canvas");if(e.width=r.width||v.width(t),e.height=r.height||v.height(t),r.bgcolor){var n=e.getContext("2d");n.fillStyle=r.bgcolor,n.fillRect(0,0,e.width,e.height)}return e}return e(n,r).then(v.makeImage).then(v.delay(100)).then(function(t){var e=i(n);return e.getContext("2d").drawImage(t,0,0),e})}function l(e,n,t){function r(t){return t instanceof HTMLCanvasElement?v.makeImage(t.toDataURL()):t.cloneNode(!1)}function i(t,e,n){function r(e,t,n){var r=Promise.resolve();return t.forEach(function(t){r=r.then(function(){return l(t,n)}).then(function(t){t&&e.appendChild(t)})}),r}var i=t.childNodes;return 0===i.length?Promise.resolve(e):r(e,v.asArray(i),n).then(function(){return e})}function a(o,s){function t(){function t(t,e){function n(e,n){v.asArray(e).forEach(function(t){n.setProperty(t,e.getPropertyValue(t),e.getPropertyPriority(t))})}t.cssText?e.cssText=t.cssText:n(t,e)}t(window.getComputedStyle(o),s.style)}function e(){function e(t){function e(t,e,n){function r(t){var e=t.getPropertyValue("content");return t.cssText+" content: "+e+";"}function i(e){function t(t){return t+": "+e.getPropertyValue(t)+(e.getPropertyPriority(t)?" !important":"")}return v.asArray(e).map(t).join("; ")+";"}var a="."+t+":"+e,o=n.cssText?r(n):i(n);return document.createTextNode(a+"{"+o+"}")}var n=window.getComputedStyle(o,t),r=n.getPropertyValue("content");if(""!==r&&"none"!==r){var i=v.uid();s.className=s.className+" "+i;var a=document.createElement("style");a.appendChild(e(i,t,n)),s.appendChild(a)}}[":before",":after"].forEach(function(t){e(t)})}function n(){o instanceof HTMLTextAreaElement&&(s.innerHTML=o.value),o instanceof HTMLInputElement&&s.setAttribute("value",o.value)}function r(){s instanceof SVGElement&&(s.setAttribute("xmlns","http://www.w3.org/2000/svg"),s instanceof SVGRectElement&&["width","height"].forEach(function(t){var e=s.getAttribute(t);e&&s.style.setProperty(t,e)}))}return s instanceof Element?Promise.resolve().then(t).then(e).then(n).then(r).then(function(){return s}):s}return t||!n||n(e)?Promise.resolve(e).then(r).then(function(t){return i(e,t,n)}).then(function(t){return a(e,t)}):Promise.resolve()}function u(n){return y.resolveAll().then(function(t){var e=document.createElement("style");return n.appendChild(e),e.appendChild(document.createTextNode(t)),n})}function c(t){return b.inlineAll(t).then(function(){return t})}function h(t,e,n){return Promise.resolve(t).then(function(t){return t.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),(new XMLSerializer).serializeToString(t)}).then(v.escapeXhtml).then(function(t){return'<foreignObject x="0" y="0" width="100%" height="100%">'+t+"</foreignObject>"}).then(function(t){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+e+'" height="'+n+'">'+t+"</svg>"}).then(function(t){return"data:image/svg+xml;charset=utf-8,"+t})}function f(){function n(){var t="application/font-woff",e="image/jpeg";return{woff:t,woff2:t,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:e,jpeg:e,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"}}function r(t){var e=/\.([^\.\/]*?)$/g.exec(t);return e?e[1]:""}function t(t){var e=r(t).toLowerCase();return n()[e]||""}function e(t){return-1!==t.search(/^(data:)/)}function i(a){return new Promise(function(t){for(var e=window.atob(a.toDataURL().split(",")[1]),n=e.length,r=new Uint8Array(n),i=0;i<n;i++)r[i]=e.charCodeAt(i);t(new Blob([r],{type:"image/png"}))})}function a(e){return e.toBlob?new Promise(function(t){e.toBlob(t)}):i(e)}function o(t,e){var n=document.implementation.createHTMLDocument(),r=n.createElement("base");n.head.appendChild(r);var i=n.createElement("a");return n.body.appendChild(i),r.href=e,i.href=t,i.href}function s(){var e=0;return function(){function t(){return("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)}return"u"+t()+e++}}function l(r){return new Promise(function(t,e){var n=new Image;n.onload=function(){t(n)},n.onerror=e,n.src=r})}function u(s){var l=3e4;return x.impl.options.cacheBust&&(s+=(/\?/.test(s)?"&":"?")+(new Date).getTime()),new Promise(function(n){function t(){if(4===a.readyState){if(200!==a.status)return void(i?n(i):r("cannot fetch resource: "+s+", status: "+a.status));var e=new FileReader;e.onloadend=function(){var t=e.result.split(/,/)[1];n(t)},e.readAsDataURL(a.response)}}function e(){i?n(i):r("timeout of "+l+"ms occured while fetching resource: "+s)}function r(t){console.error(t),n("")}var i,a=new XMLHttpRequest;if(a.onreadystatechange=t,a.ontimeout=e,a.responseType="blob",a.timeout=l,a.open("GET",s,!0),a.send(),x.impl.options.imagePlaceholder){var o=x.impl.options.imagePlaceholder.split(/,/);o&&o[1]&&(i=o[1])}})}function c(t,e){return"data:"+e+";base64,"+t}function h(t){return t.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")}function f(n){return function(e){return new Promise(function(t){setTimeout(function(){t(e)},n)})}}function d(t){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}function p(t){return t.replace(/#/g,"%23").replace(/\n/g,"%0A")}function g(t){var e=m(t,"border-left-width"),n=m(t,"border-right-width");return t.scrollWidth+e+n}function v(t){var e=m(t,"border-top-width"),n=m(t,"border-bottom-width");return t.scrollHeight+e+n}function m(t,e){var n=window.getComputedStyle(t).getPropertyValue(e);return parseFloat(n.replace("px",""))}return{escape:h,parseExtension:r,mimeType:t,dataAsUrl:c,isDataUrl:e,canvasToBlob:a,resolveUrl:o,getAndEncode:u,uid:s(),delay:f,asArray:d,escapeXhtml:p,makeImage:l,width:g,height:v}}function d(){function n(t){return-1!==t.search(r)}function a(t){for(var e,n=[];null!==(e=r.exec(t));)n.push(e[1]);return n.filter(function(t){return!v.isDataUrl(t)})}function o(e,n,r,t){function i(t){return new RegExp("(url\\(['\"]?)("+v.escape(t)+")(['\"]?\\))","g")}return Promise.resolve(n).then(function(t){return r?v.resolveUrl(t,r):t}).then(t||v.getAndEncode).then(function(t){return v.dataAsUrl(t,v.mimeType(n))}).then(function(t){return e.replace(i(n),"$1"+t+"$3")})}function t(e,r,i){function t(){return!n(e)}return t()?Promise.resolve(e):Promise.resolve(e).then(a).then(function(t){var n=Promise.resolve(e);return t.forEach(function(e){n=n.then(function(t){return o(t,e,r,i)})}),n})}var r=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:t,shouldProcess:n,impl:{readUrls:a,inline:o}}}function p(){function t(){return e(document).then(function(t){return Promise.all(t.map(function(t){return t.resolve()}))}).then(function(t){return t.join("\n")})}function e(){function t(t){return t.filter(function(t){return t.type===CSSRule.FONT_FACE_RULE}).filter(function(t){return m.shouldProcess(t.style.getPropertyValue("src"))})}function e(t){var e=[];return t.forEach(function(t){try{v.asArray(t.cssRules||[]).forEach(e.push.bind(e))}catch(n){console.log("Error while reading CSS rules from "+t.href,n.toString())}}),e}function n(e){return{resolve:function(){var t=(e.parentStyleSheet||{}).href;return m.inlineAll(e.cssText,t)},src:function(){return e.style.getPropertyValue("src")}}}return Promise.resolve(v.asArray(document.styleSheets)).then(e).then(t).then(function(t){return t.map(n)})}return{resolveAll:t,impl:{readAll:e}}}function g(){function n(r){function t(t){return v.isDataUrl(r.src)?Promise.resolve():Promise.resolve(r.src).then(t||v.getAndEncode).then(function(t){return v.dataAsUrl(t,v.mimeType(r.src))}).then(function(n){return new Promise(function(t,e){r.onload=t,r.onerror=e,r.src=n})})}return{inline:t}}function r(t){function e(e){var t=e.style.getPropertyValue("background");return t?m.inlineAll(t).then(function(t){e.style.setProperty("background",t,e.style.getPropertyPriority("background"))}).then(function(){return e}):Promise.resolve(e)}return t instanceof Element?e(t).then(function(){return t instanceof HTMLImageElement?n(t).inline():Promise.all(v.asArray(t.childNodes).map(function(t){return r(t)}))}):Promise.resolve(t)}return{inlineAll:r,impl:{newImage:n}}}var v=f(),m=d(),y=p(),b=g(),w={imagePlaceholder:void 0,cacheBust:!1},x={toSvg:e,toPng:r,toJpeg:i,toBlob:a,toPixelData:n,impl:{fontFaces:y,images:b,util:v,inliner:m,options:{}}};"undefined"!=typeof module?module.exports=x:t.domtoimage=x}(this),function(){var t=function(t,e){this.address=t,this.geocoder=new google.maps.Geocoder,this.geocode(e)};t.prototype={geocode:function(i){if(""===this.address)return!1;var a=this;this.geocoder.geocode({address:a.address,region:"us"},function(t,e){if(0===t.length)return i({error:"We couldn't find any results for that address. Please try again"});var n=t[0].geometry;if(e==google.maps.GeocoderStatus.OK){a.location_type=n.location_type;var r=n.location;a.isValidLocationType()?a.ll={lat:r.lat(),lng:r.lng(),location_type:a.location_type}:a.ll={error:"Can't find specific enough results. Please try again."},i&&i(a.ll)}})},isValidLocationType:function(){return!(!this.isValidZip()&&!this.hasComma())||("RANGE_INTERPOLATED"===this.location_type||"ROOFTOP"===this.location_type)},isValidZip:function(){return!_.isNull(this.address.match(/^[0-9]{5}$/))},hasComma:function(){return!_.isNull(this.address.match(/,/))}},window.Geocoder=t}(),propublica.views.legislatorSearch=propublica.View.extend({id:"legislator_search",tag:"form",bindings:{submit:"search"},render:function(){this.cookie=new propublica.models.congressCookie,this.cookie.read()?this.tmplInlineResults(this.cookie.read()):$(".member-examples-inner").show(),$(".saved-congresspeople-clear-btn").on("click",function(){this.cookie.save(undefined),$("#legislator-search-box").val(""),$(".searchbox-legislators-result").hide(),$(".member-examples-inner").show(),$(".examples").hide(),$(".examples").removeClass("loaded"),$(".saved-congresspeople-clear-btn").hide()}.bind(this)),$(".example-dynamic-search").on("click",function(t){t.preventDefault();var e=$(t.currentTarget).attr("data-q");$("#legislator-search-box").val(e),this.el.submit()}.bind(this))},search:function(t){t.preventDefault();var e=$("#legislator-search-box").val();return $(".examples").show(),e.trim().match(/^[\d]{1}/)?this.geoSearch(e.trim()):this.textSearch(e.trim())},geoSearch:function(t){$.get(RAILS_ROOT+"/location?q="+t,function(t){this.showInlineResults(t)}.bind(this))},textSearch:function(t){window.location=RAILS_ROOT+"/members/search?q="+t},showInlineResults:function(t){if(t){var e=JST["templates/frontpage-member-pp"]({members:t});this.tmplInlineResults(e),this.cookie&&this.cookie.save(e.replace(/searchbox-yft/,""))}else this.showError("That ZIP code includes multiple districts. Try searching for a full address. ")},showError:function(t){$(".searchbox-legislators-result").addClass("searchbox-error").show().html(t),$(".examples").addClass("loaded")},tmplInlineResults:function(t){$(".saved-congresspeople-clear-btn").show(),$(".searchbox-legislators-result").removeClass("searchbox-error").show().html(t),$(".examples").addClass("loaded"),$(".member-examples-inner").hide()},redirect:function(t){var e=t.map(function(t){return t.member_id}).join(",");window.location=RAILS_ROOT+"/members/result?q="+e}}),propublica.views.searchBoxToggle=propublica.View.extend({cssClass:"search-tab-nubbin",bindings:{click:"searchToggle"},render:function(){this.tabCookie=new propublica.models.congressTabsCookie,this.tabCookie.read()&&$(".search-tab-nubbin[data-tab="+this.tabCookie.read()+"]").click()},searchToggle:function(t){var e=$(t.currentTarget);this.el.removeClass("active"),$(".search-tab").hide(),e.addClass("active"),$(".search-tab-"+e.attr("data-tab")).show(),this.tabCookie.save(e.attr("data-tab"))}}),propublica.views.socialSection=propublica.View.extend({cssClass:"social-widget",tag:"li",bindings:{click:"socialRef"},socialRef:function(t){t.preventDefault();var e=$(t.currentTarget);e.hasClass("ss-fb")&&this.fb(e),e.hasClass("ss-tw")&&this.tw(e)},getTitle:function(t){return t.attr("data-title")},getImg:function(t){return t.attr("data-img")},getText:function(t){return t.attr("data-txt")},getDesc:function(t){return t.attr("data-desc")},getLink:function(t){return t.attr("data-url")},getHashtag:function(t){return t.attr("data-hashtag")},fb:function(t){window.dataLayer=window.dataLayer||[];var e={link:t.attr("data-url"),name:t.attr("data-title"),classes:t.attr("class"),id:t.attr("id"),network:"facebook",action:"share"};FB.ui({method:"feed",link:this.getLink(t),picture:this.getImg(t),name:this.getTitle(t),caption:this.getText(t),description:this.getDesc(t)},function(t){t.post_id!==undefined&&window.dataLayer.push({socialShare:e,event:"socialShare"})})},tw:function(t){window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"socialShare",socialShare:{link:t.attr("data-url"),name:t.attr("data-title"),classes:t.attr("class"),id:t.attr("id"),network:"twitter",action:"tweet-intent"}});var e="https://twitter.com/intent/tweet";e+="?text="+encodeURIComponent(this.getText(t)),e+="&url="+encodeURIComponent(this.getLink(t)),e+="&hashtags="+encodeURIComponent(this.getHashtag(t)),window.open(e,"","toolbar=0, status=0, width=550, height=420")}}),propublica.views.tweetTakeaways=propublica.View.extend({cssClass:"anno-tweet",tag:"span",bindings:{click:"socialTweet"},socialTweet:function(t){
t.preventDefault();var e=$(t.currentTarget);this.tw(e)},getLink:function(t){return t.attr("data-url")},getHashtag:function(t){return t.attr("data-hashtag")},getText:function(t){return t.attr("data-txt")},tw:function(t){window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"socialShare",socialShare:{link:t.attr("data-url"),name:t.attr("data-title"),classes:t.attr("class"),id:t.attr("id"),network:"twitter",action:"tweet-takeaways"}});var e="https://twitter.com/intent/tweet";e+="?text="+encodeURIComponent(this.getText(t)),e+="&url="+encodeURIComponent(this.getLink(t)),e+="&hashtags="+encodeURIComponent(this.getHashtag(t)),window.open(e,"","toolbar=0, status=0, width=550, height=420")}}),function(){this.JST||(this.JST={}),this.JST["templates/cartogram-hover-house"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="cartogram-hover cartogram-hover-house">\n  <h4 class="margin-bottom--sm">',member_name,'</h4>\n  <table class="no-margin list-style table--dense">\n    <tr>\n        <td class="small">Vote</td>\n        <td class="numeric small"><strong class="uppercase vote-result ',position,'">',position,'</strong></td>\n    </tr>\n    <tr>\n        <td class="small">Party</td>\n        <td class="numeric small">',party,'</td>\n    </tr>\n    <tr>\n        <td class="small">State/Dist.</td>\n        <td class="numeric small">',display_state_abbrev,"-",district,"</td>\n    </tr>\n    \n  </table>\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/cartogram-hover-senate"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="cartogram-hover cartogram-hover-senate">\n\n    <h4 class="margin-bottom--sm">',member_name,'</h4>\n    <table class="no-margin list-style table--dense">\n        <tr>\n            <td class="small">Vote</td>\n            <td class="numeric small"><strong class="uppercase vote-result ',position,'">',position,'</strong></td>\n        </tr>\n        <tr>\n            <td class="small">Party</td>\n            <td class="numeric small">',party,'</td>\n        </tr>\n        <tr>\n            <td class="small">State</td>\n            <td class="numeric small">',display_state_abbrev,"</td>\n        </tr>\n        \n    </table>\n</div>\n \n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/frontpage-member-pp"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<span class="searchbox-congresspeople-mod searchbox-yft">\n\n     <small class="gray uppercase block mobile-block">Your representatives:</small>\n\n    '),members.forEach(function(t){__p.push('\n        <a class="btn btn-default btn-small" href="',RAILS_ROOT,"/members/",t.slug,'">'),"Senate"===t.chamber?__p.push("Sen."):__p.push("Rep."),__p.push(" ",t.name," (",new propublica.ApIzer(t.state).toAp(),"-",t.party,")</a>\n    ")}),__p.push("\n\n</span>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/frontpage-member"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<span class="searchbox-congresspeople-mod searchbox-yft">\n\n    <small class="gray uppercase block mobile-block">Your representatives:</small>\n\n    '),members.forEach(function(t){__p.push('\n       <a class="btn btn-default btn-small" href="',RAILS_ROOT,"/members/",t.slug,'">',t.name," (",new propublica.ApIzer(t.state).toAp(),"-"),"Senate"===t.chamber?__p.push("Sen."):__p.push("",t.district,""),__p.push(" ",t.party,")</a>\n    ")}),__p.push("\n</span>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/inner-member"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<span class="searchbox-congresspeople-mod searchbox-yft">\n\n    <small class="gray block mobile-block">Your representatives:</small>\n\n    '),members.forEach(function(t){__p.push('\n        <a class="btn btn-default btn-small" href="',RAILS_ROOT,"/members/",t.slug,'">',t.name," (",new propublica.ApIzer(t.state).toAp(),"-"),"Senate"===t.chamber?__p.push("Sen."):__p.push("",t.district,""),__p.push(" ",t.party,")</a>\n    ")}),__p.push("\n</span>\n");return __p.join("")}}.call(this),propublica.models.congressTabsCookie=propublica.models.Cookie.extend({name:"congress-tabs-cookie",init:function(t){this.path="/",this._super(t)},save:function(t){return this._attrs.value[this.path]=t,this.fire("changed",t),this._super()},read:function(){return this._super()[this.path]}}),propublica.models.congressCookie=propublica.models.Cookie.extend({name:"congress-cookie",init:function(t){this.path="/",this._super(t)},save:function(t){return this._attrs.value[this.path]=t,this.fire("changed",t),this._super()},read:function(){return this._super()[this.path]}}),$("#nytint-billTypeField").change(function(){var t=$(this).val(),e=$("#nytint-billChamberField").val();$("#nytint-billFiltersForm").attr("action",[NYTD.congressUrl,t,e].join("/"))}),$("#nytint-billChamberField").change(function(){var t=$(this).val(),e=$("#nytint-billTypeField").val();$("#nytint-billFiltersForm").attr("action",[NYTD.congressUrl,e,t].join("/"))}),$("#nytint-billFiltersForm").submit(function(){var t=$("#nytint-billChamberField").val(),e=$("#nytint-billTypeField").val();$("#nytint-billFiltersForm").attr("action",[NYTD.congressUrl,e,t].join("/"))}),propublica.views.categoryDropdown=propublica.View.extend({id:"bill-categories-hed",tag:"h4",render:function(){this.list=$("#bill-category-list"),this.el.on("click",function(t){if(!(480<$(window).width())){var e=$(t.currentTarget);e.hasClass("open")?(e.removeClass("open"),this.list.hide()):(e.addClass("open"),this.list.show())}}.bind(this))}}),$("#nytint-billTypeField").change(function(){var t=$("#nytint-billTypeField").val(),e=$("#nytint-billChamberField").val();url=window.location.href.replace(/\/(house|senate).*/,"",t),$("#nytint-billFiltersForm").attr("action",[url,e,"departures",t].join("/"))}),$("#nytint-billChamberField").change(function(){var t=$("#nytint-billTypeField").val(),e=$("#nytint-billChamberField").val();url=window.location.href.replace(/\/(house|senate).*/,"",t),$("#nytint-billFiltersForm").attr("action",[url,e,"departures",t].join("/"))}),$("#nytint-billFiltersForm").submit(function(){var t=$("#nytint-billTypeField").val(),e=$("#nytint-billChamberField").val();url=window.location.href.replace(/\/(house|senate).*/,"",t),$("#nytint-billFiltersForm").attr("action",[url,e,"departures",t].join("/"))}),$(function(){var t=100,e=40,n=d3.scale.linear().range([0,t]),r=d3.scale.linear().range([e,0]);d3.time.format("%Y-%m-%d").parse,d3.svg.line().interpolate("basis").x(function(t){return n(t.date)}).y(function(t){return r(t.val)});$(".stateface").each(function(){_.defer(function(){var t=$(this),e=window.getComputedStyle(t.get(0),":before").width;t.css("width",e)}.bind(this))})}),$(document).ready(function(){setFeedCss("#bills-by-category-feed")}),propublica.views.billFilterStates=propublica.View.extend({tag:"select",id:"filterBillStates",bindings:{change:"filterBillCols"},filterBillCols:function(){$("#bills-by-category-feed .action-item").removeClass("first-row"),$("#bills-by-category-feed .action-item").removeClass("last-row");var t=$("#filterBillStates").val().toLowerCase(),e=$("#filterBillParties").val().toLowerCase(),n=$("#filterBillChambers").val();if("all"===t&&"a"===e&&"both"===n)return $("#bills-by-category-feed .action-item").show(),void setFeedCss("#bills-by-category-feed");$("#bills-by-category-feed .action-item").hide(),"a"===e&&"both"===n?$("#bills-by-category-feed .action-item.state-"+t).show():"a"===e&&"both"!==n&&"all"!==t?$("#bills-by-category-feed .action-item."+n+".state-"+t).show():"both"===n&&"all"===t?"id"==e?($("#bills-by-category-feed .action-item.party-ind").show(),$("#bills-by-category-feed .action-item.party-id").show(),$("#bills-by-category-feed .action-item.party-i").show()):$("#bills-by-category-feed .action-item.party-"+e).show():"both"===n&&"all"!==t&&"a"!==e?"id"==e?($("#bills-by-category-feed .action-item.party-ind.state-"+t).show(),$("#bills-by-category-feed .action-item.party-id.state-"+t).show(),$("#bills-by-category-feed .action-item.party-i.state-"+t).show()):$("#bills-by-category-feed .action-item.party-"+e+".state-"+t).show():"all"===t&&"a"===e?$("#bills-by-category-feed .action-item."+n).show():"all"===t&&"a"!==e&&"both"!==n?"id"==e?($("#bills-by-category-feed .action-item.party-ind."+n).show(),$("#bills-by-category-feed .action-item.party-id."+n).show(),$("#bills-by-category-feed .action-item.party-i."+n).show()):$("#bills-by-category-feed .action-item.party-"+e+"."+n).show():"id"==e?($("#bills-by-category-feed .action-item.party-ind."+n+".state-"+t).show(),$("#bills-by-category-feed .action-item.party-id."+n+".state-"+t).show(),$("#bills-by-category-feed .action-item.party-i."+n+".state-"+t).show()):$("#bills-by-category-feed .action-item.party-"+e+"."+n+".state-"+t).show(),setFeedCss("#bills-by-category-feed")}}),propublica.views.billFilterParties=propublica.views.billFilterStates.extend({tag:"select",id:"filterBillParties",bindings:{change:"filterBillCols"}}),propublica.views.billFilterChambers=propublica.views.billFilterStates.extend({tag:"select",id:"filterBillChambers",bindings:{change:"filterBillCols"}}),propublica.views.cartogramHover=propublica.View.extend({tag:"rect",bindings:{mouseenter:"hoverIn",mouseout:"hoverOut",mousemove:"moveHover"},render:function(){window.POSITIONS&&(this.data=_.reduce(window.POSITIONS.votes,function(t,e){return t[e.state_abbrev+"_"+e.district]=e,t},{}),this.hoverContainer=$("#cartogram-hover"))},hoverIn:function(t){window.POSITIONS&&(this.cur=$(t.currentTarget),"Senate"===window.POSITIONS.chamber&&this.displaySenate(),"House"===window.POSITIONS.chamber&&this.displayHouse())},hoverOut:function(){window.POSITIONS&&this.hoverContainer.hide()},moveHover:function(t){if(window.POSITIONS){$(t.currentTarget);this.hoverContainer.css("left",t.pageX).css("top",t.pageY+10)}},displaySenate:function(){var t=this.cur.attr("id").replace(/^.*senate_/g,""),e=JST["templates/cartogram-hover-senate"](this.data[t]);this.hoverContainer.show().html(e)},displayHouse:function(){var t=this.cur.attr("id").replace(/^.*house_/g,""),e=JST["templates/cartogram-hover-house"](this.data[t]);this.hoverContainer.show().html(e)}}),checkRadio();var touch="ontouchstart"in document.documentElement||0<navigator.maxTouchPoints||0<navigator.msMaxTouchPoints;if(touch)try{for(var si in document.styleSheets){var styleSheet=document.styleSheets[si];if(styleSheet.rules)for(var ri=styleSheet.rules.length-1;0<=ri;ri--)styleSheet.rules[ri].selectorText&&styleSheet.rules[ri].selectorText.match(":hover")&&styleSheet.deleteRule(ri)}}catch(ex){}rotateMembers(),window.onclick=function(t){if(!t.target.matches(".dropbtn")&&!t.target.matches(".search-input")){var e,n=document.getElementsByClassName("dropdown-content");for(e=0;e<n.length;e++){var r=n[e];r.classList.contains("show")&&r.classList.remove("show")}}},propublica.views.delegationFilterActions=propublica.View.extend({tag:"select",id:"filterActionTypes",bindings:{change:"filterCols"},filterCols:function(){$("#delegation-feed .action-item").removeClass("first-class"),$("#delegation-feed .action-item").removeClass("last-class");var t=$("#filterActionTypes").val(),e=$("#filterDelegationParties").val();if("all"===t&&"A"===e)return $("#delegation-feed .action-item").show(),void setFeedCss("#delegation-feed");$("#delegation-feed .action-item").hide(),"A"===e?$("#delegation-feed .action-item."+t).show():"all"===t?$("#delegation-feed .action-item."+e).show():$("#delegation-feed .action-item."+e+"."+t).show(),setFeedCss("#delegation-feed")}}),propublica.views.delegationFilterParties=propublica.views.delegationFilterActions.extend({tag:"select",id:"filterDelegationParties",bindings:{change:"filterCols"}}),$(".expand-btn").on("click",function(){$(this).siblings(".expandable").hasClass("expanded")?($(this).siblings(".expandable").removeClass("expanded"),$(this).text("See all \u25be")):($(this).siblings(".expandable").addClass("expanded"),$(this).text("See fewer \u25b4"))}),$(".header-expand > h4").on("click",function(){$(this).parent().toggleClass("separate"),$(this).toggleClass("expanded"),$(this).siblings(".expandable").toggleClass("hidden")}),$(".header-expand--lg > header").on("click",function(){$(this).parent().toggleClass("separate"),$(this).toggleClass("expanded"),$(this).siblings(".expandable").toggleClass("hidden")});var base_hate_crimes_url="/represent/statements/hate-crimes-survey?",party=getHateCrimesParameterByName("by_party"),state=getHateCrimesParameterByName("by_state"),data={};if(null==party)var party="A";if(null==state)var state="all-states";$("#filterHateCrimeStates").val(state),$("#filterHateCrimeParties").val(party),$("#filterHateCrimeStates").change(function(){"all-states"!=$("#filterHateCrimeStates").val()&&(data.by_state=$("#filterHateCrimeStates").val()),"A"!=party&&(data.by_party=party);var t=encodeQueryData(data);window.location.href=base_hate_crimes_url+t}),$("#filterHateCrimeParties").change(function(){"A"!=$("#filterHateCrimeParties").val().toUpperCase()&&(data.by_party=$("#filterHateCrimeParties").val().toUpperCase()),"all-states"!=state&&(data.by_state=state);var t=encodeQueryData(data);window.location.href=base_hate_crimes_url+t}),$(".show-hide-bills").on("click",function(t){var e=$(t.currentTarget);return $(".lobbyists .bill.box").show(),e.remove(),!1}),$(document).ready(function(){setFeedCss("#member-feed")}),propublica.views.memberFilterActions=propublica.View.extend({tag:"form",id:"selection-buttons",bindings:{change:"filterCols"},filterCols:function(){$("#member-feed .action-item").removeClass("first-class"),$("#member-feed .action-item").removeClass("last-class");var t=$("#selection-buttons :checkbox:checked"),e=$(".action-item"),n=$(".see-all");if(0==$("#selection-buttons input:checkbox:checked").length)return n.hide(),$("#member-feed .action-item").show(),setFeedCss("#member-feed"),void showFeedGrouping("#member-feed");e.hide(),n.hide(),t.each(function(){$("."+$(this).val()).show()}),setFeedCss("#member-feed"),setButtonCss("#see-all-container"),removeFeedGrouping("#member-feed")}}),$(document).ready(function(){-1<window.location.href.indexOf("?query=")&&filterByQueryString()});var base_url="/represent/privately-funded-travel?",party=getParameterByName("by_party"),state=getParameterByName("by_state"),data={};if(null==party)var party="A";if(null==state)var state="all-states";$("#filterTripsStates").val(state),$("#filterTripsParties").val(party),$("#filterTripsStates").change(function(){"all-states"!=$("#filterTripsStates").val()&&(data.by_state=$("#filterTripsStates").val()),"A"!=party&&(data.by_party=party);var t=encodeQueryData(data);window.location.href=base_url+t}),$("#filterTripsParties").change(function(){"A"!=$("#filterTripsParties").val().toUpperCase()&&(data.by_party=$("#filterTripsParties").val().toUpperCase()),"all-states"!=state&&(data.by_state=state);var t=encodeQueryData(data);window.location.href=base_url+t});var base_url="/represent/statements?",party=getParameterByName("by_party"),state=getParameterByName("by_state"),data={};if(null==party)var party="A";if(null==state)var state="all-states";$("#filterStatementStates").val(state),$("#filterStatementParties").val(party),$("#filterStatementStates").change(function(){"all-states"!=$("#filterStatementStates").val()&&(data.by_state=$("#filterStatementStates").val()),"A"!=party&&(data.by_party=party);var t=encodeQueryData(data);window.location.href=base_url+t}),$("#filterStatementParties").change(function(){"A"!=$("#filterStatementParties").val().toUpperCase()&&(data.by_party=$("#filterStatementParties").val().toUpperCase()),"all-states"!=state&&(data.by_state=state);var t=encodeQueryData(data);window.location.href=base_url+t}),$(function(){$(".custom-number-sort").data("tablesaw-sort",function(i){return function(t,e){if(t.ignored||e.ignored)return 0;var n=parseInt($(t.element).attr("data-title")),r=parseInt($(e.element).attr("data-title"));return i?r<=n?1:-1:n<r?1:-1}})}),$(function(){var t=function(i){return function(t,e){if(t.ignored||e.ignored)return 0;var n=$(t.element).attr("data-title"),r=$(e.element).attr("data-title");return i?r<=n?1:-1:n<r?1:-1}};$("#date-sort").data("tablesaw-sort",t),$(".date-sort").data("tablesaw-sort",t)}),propublica.views.voteFilterStates=propublica.View.extend({tag:"select",id:"filterVoteStates",bindings:{change:"filterCols"},tag:"select",id:"filterVoteParties",bindings:{change:"filterCols"},filterCols:function(){var t=$("#filterVoteStates").val(),e=$("#filterVoteParties").val();"all"!==t&&(t=new propublica.ApIzer(t).toAp()),"all"!==t||"A"!==e?($(".roll-call-table tbody tr").hide(),"A"===e?$(".roll-call-table tbody tr[rel='"+t+"']").show():"all"===t?$(".roll-call-table tbody tr."+e).show():$(".roll-call-table tbody tr."+e+"[rel='"+t+"']").show()):$(".roll-call-table tbody tr").show()}}),propublica.views.voteFilterParties=propublica.views.voteFilterStates.extend({tag:"select",id:"filterVoteParties",bindings:{change:"filterCols"}}),propublica.views.voteFilterParties=propublica.views.voteFilterStates.extend({tag:"select",id:"filterVoteStates",bindings:{change:"filterCols"}});